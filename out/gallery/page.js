(()=>{var e={};e.id=3928,e.ids=[3928],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},15950:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>i.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>c,routeModule:()=>g,tree:()=>d}),a(36179),a(54299),a(43238),a(27845),a(42681);var r=a(72556),s=a(78383),l=a(48224),i=a.n(l),o=a(4519),n={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>o[e]);a.d(t,n);let d=["",{children:["gallery",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,36179)),"/mnt/d/cursor/aitoimage/ai-sketch-platform/app/gallery/page.tsx"]}]},{loading:[()=>Promise.resolve().then(a.bind(a,2597)),"/mnt/d/cursor/aitoimage/ai-sketch-platform/app/gallery/loading.tsx"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,54299)),"/mnt/d/cursor/aitoimage/ai-sketch-platform/app/layout.tsx"],error:[()=>Promise.resolve().then(a.bind(a,43238)),"/mnt/d/cursor/aitoimage/ai-sketch-platform/app/error.tsx"],loading:[()=>Promise.resolve().then(a.bind(a,27845)),"/mnt/d/cursor/aitoimage/ai-sketch-platform/app/loading.tsx"],"not-found":[()=>Promise.resolve().then(a.bind(a,42681)),"/mnt/d/cursor/aitoimage/ai-sketch-platform/app/not-found.tsx"]}],c=["/mnt/d/cursor/aitoimage/ai-sketch-platform/app/gallery/page.tsx"],m="/gallery/page",u={require:a,loadChunk:()=>Promise.resolve()},g=new r.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/gallery/page",pathname:"/gallery",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},45171:(e,t,a)=>{Promise.resolve().then(a.bind(a,11668))},11668:(e,t,a)=>{"use strict";a.d(t,{default:()=>R});var r=a(39543),s=a(13872),l=a(54055),i=a(54547),o=a(52188),n=a(55109),d=a(59637),c=a(34579),m=a(28338),u=a(95350),g=a(62804),x=a(34267),h=a(77093),p=a(53834),f=a(737),b=a(45001),y=a(35934),v=a(31299),w=a(41431),j=a(14257);let N=(0,a(72930).Z)("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]);var k=a(80895),A=a(27594),C=a(68346),D=a(41563);function I({items:e,columns:t=4,gap:a=16,itemMinWidth:o=250,renderItem:n,onLoadMore:d,hasMore:c=!1,loading:m=!1,className:u="",initialRenderCount:g=12,overscan:x=5}){let h=(0,s.useRef)(null),[p,f]=(0,s.useState)(0),[b,y]=(0,s.useState)(0),[v,w]=(0,s.useState)(0),[j,N]=(0,s.useState)(new Map),[k,A]=(0,s.useState)({start:0,end:g}),[C,I]=(0,s.useState)(!0),S=(0,s.useMemo)(()=>!p||t<=2?t:Math.max(1,Math.min(t,Math.floor(p/(o+a)))),[p,t,o,a]),Z=(0,s.useMemo)(()=>{let t=(p-a*(S-1))/S,r=Array(S).fill(0),s=[];return e.forEach((e,l)=>{let i=r.indexOf(Math.min(...r)),o=j.get(e.id)||e.height||300;s.push({left:i*(t+a),top:r[i],width:t,height:o,column:i}),r[i]+=o+a}),{positions:s,totalHeight:Math.max(...r),columnWidth:t}},[e,S,p,a,j]),z=(0,s.useCallback)((e,t)=>{N(a=>{let r=new Map(a);return a.get(e)!==t&&t>0?(r.set(e,t),r):a})},[]),P=(0,s.useMemo)(()=>{let{start:t,end:a}=C?{start:0,end:Math.min(g,e.length)}:k;return e.slice(t,a).map((e,a)=>{let s=t+a,i=Z.positions[s];return i?r.jsx(l.E.div,{className:"absolute",style:{left:i.left,top:i.top,width:i.width},initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:a%S*.1},children:r.jsx(M,{item:e,index:s,onHeightChange:z,renderItem:n})},e.id):null})},[e,k,Z.positions,n,z,S,C,g]);return(0,r.jsxs)("div",{ref:h,className:`relative w-full ${u}`,children:[r.jsx("div",{style:{height:Z.totalHeight}}),r.jsx("div",{className:"absolute inset-0",children:P}),c&&r.jsx("div",{className:"flex justify-center mt-8 relative z-10",children:r.jsx(i.z,{onClick:d,disabled:m,className:"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white font-bold py-3 px-8 rounded-full shadow-lg transform hover:scale-105 transition-all duration-200",children:m?(0,r.jsxs)(r.Fragment,{children:[r.jsx(l.E.div,{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full mr-2",animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"}}),"Loading Magic..."]}):(0,r.jsxs)(r.Fragment,{children:[r.jsx(D.Z,{className:"w-5 h-5 mr-2"}),"Load More Magic ✨"]})})})]})}function M({item:e,index:t,onHeightChange:a,renderItem:l}){let i=(0,s.useRef)(null);return r.jsx("div",{ref:i,className:"w-full",children:l(e,t)})}var S=a(17937),Z=a(32080),z=a(30237),P=a(38801);function L({id:e,url:t,title:a,author:i,likes:o,views:n,isPremium:c=!1,isFeatured:m=!1,isLiked:u=!1,createdAt:h,size:f="medium",rotation:b=0,onClick:y,priority:v=!1,waterfallHeight:w}){let[j,N]=(0,s.useState)(!1),[k,A]=(0,s.useState)(v),[D,I]=(0,s.useState)(!1),[M,L]=(0,s.useState)(),R=(0,s.useRef)(null),$=(0,s.useRef)(null),_=t.startsWith("http")?t:(0,C.ZP)(t),F=()=>w||({vertical:400,horizontal:225,small:300,medium:375,large:450})[f]||375;return(0,r.jsxs)(l.E.div,{ref:R,className:"break-inside-avoid mb-4 relative cursor-pointer",onClick:y,style:{transform:`rotate(${b}deg)`},whileHover:{scale:1.03,zIndex:10,rotate:0,transition:{duration:.2}},initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},children:[r.jsx(S.Zb,{className:"group overflow-hidden bg-white/60 backdrop-blur-sm border-white/30 shadow-lg hover:shadow-xl transition-all duration-300",children:r.jsx(S.aY,{className:"p-0",children:r.jsx("div",{className:"w-full relative bg-white rounded-md p-1",children:(0,r.jsxs)("div",{className:"w-full bg-white rounded-sm overflow-hidden relative",style:{...w?{height:F()}:{aspectRatio:"vertical"===f?"3/4":"horizontal"===f?"4/3":"small"===f?"1/1":"medium"===f?"4/5":"large"===f?"3/4":"4/5",minHeight:F()}},children:[!j&&r.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#f5f1e8] to-[#ebe5d6] flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsxs)("div",{className:"relative w-12 h-12 mx-auto mb-2",children:[r.jsx("div",{className:"absolute inset-0 rounded-full border-2 border-[#d4a574]/40 animate-spin"}),r.jsx("div",{className:"absolute inset-1 rounded-full border-2 border-[#8b7355]/60 animate-[spin_1.5s_linear_infinite_reverse]"}),r.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:r.jsx(Z.Z,{className:"w-5 h-5 text-[#8b7355] animate-pulse"})}),r.jsx("div",{className:"absolute -top-1 -right-1 w-2 h-2 bg-[#d4a574] rounded-full animate-ping"}),r.jsx("div",{className:"absolute -bottom-1 -left-1 w-2 h-2 bg-[#8b7355] rounded-full animate-ping delay-300"}),r.jsx("div",{className:"absolute top-1 -left-1 w-1.5 h-1.5 bg-[#d4a574]/80 rounded-full animate-ping delay-500"}),r.jsx("div",{className:"absolute -bottom-1 right-1 w-1.5 h-1.5 bg-[#8b7355]/80 rounded-full animate-ping delay-700"})]}),r.jsx("div",{className:"text-sm text-[#8b7355] font-bold",style:{fontFamily:"var(--font-accent)"},children:k?"✨ Casting...":"\uD83D\uDD2E Waiting..."})]})}),D&&r.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#f5f1e8] to-[#e1d4c0] flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("div",{className:"w-12 h-12 mx-auto mb-2 bg-gradient-to-br from-[#d4a574]/30 to-[#8b7355]/30 rounded-lg border-2 border-dashed border-[#8b7355]/40 flex items-center justify-center transform rotate-12",children:r.jsx(z.Z,{className:"w-6 h-6 text-[#8b7355]/60"})}),r.jsx("div",{className:"text-sm text-[#8b7355]/80 font-bold mb-1",style:{fontFamily:"var(--font-accent)"},children:"\uD83D\uDD2E Magic Failed"}),r.jsx("button",{className:"text-xs text-[#8b7355] font-medium hover:text-[#6b5d3f] transition-colors px-2 py-1 rounded bg-[#d4a574]/20 hover:bg-[#d4a574]/30",onClick:e=>{e.stopPropagation(),I(!1),N(!1),A(!0)},children:"Try Again ✨"})]})}),k&&!D&&r.jsx("img",{ref:$,src:_,alt:a,className:`w-full h-full object-cover transition-opacity duration-300 ${j?"opacity-100":"opacity-0"}`,loading:v?"eager":"lazy",onLoad:t=>{let r=t.currentTarget;L(r.naturalHeight*(r.offsetWidth/r.naturalWidth)),N(!0),I(!1),console.log(`✅ Gallery图片加载成功:`,{id:e,title:a,url:_,dimensions:`${r.naturalWidth}x${r.naturalHeight}`})},onError:t=>{let r=t.currentTarget;console.error(`❌ Gallery图片加载失败:`,{id:e,title:a,url:_,naturalWidth:r.naturalWidth,naturalHeight:r.naturalHeight,complete:r.complete,errorType:t.type,currentSrc:r.currentSrc,error:t}),I(!0),N(!0)},fetchPriority:v?"high":"auto",decoding:"async"}),(0,r.jsxs)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex flex-col justify-end p-2 md:p-3 z-10",children:[r.jsx("h3",{className:"text-white font-bold text-xs md:text-sm mb-1 line-clamp-2",children:a}),(0,r.jsxs)("p",{className:"text-gray-300 text-xs line-clamp-1",children:["by ",i]})]}),(0,r.jsxs)("div",{className:"absolute top-2 left-2 flex gap-1 z-20",children:[m&&r.jsx(d.C,{variant:"secondary",className:"text-xs bg-yellow-500/80 text-white",children:r.jsx(P.Z,{className:"h-3 w-3"})}),c&&r.jsx(d.C,{variant:"secondary",className:"text-xs bg-purple-500/80 text-white",children:r.jsx(g.Z,{className:"h-3 w-3"})})]}),(0,r.jsxs)("div",{className:"absolute bottom-1 md:bottom-2 right-1 md:right-2 flex items-center gap-1 md:gap-2 text-white text-xs z-20",children:[(0,r.jsxs)("div",{className:"flex items-center gap-1 bg-black/50 rounded px-1.5 md:px-2 py-0.5 md:py-1 backdrop-blur-sm",children:[r.jsx(x.Z,{className:"h-2.5 w-2.5 md:h-3 md:w-3"}),r.jsx("span",{className:"text-xs md:text-xs",children:o>1e3?`${(o/1e3).toFixed(1)}k`:o})]}),(0,r.jsxs)("div",{className:"flex items-center gap-1 bg-black/50 rounded px-1.5 md:px-2 py-0.5 md:py-1 backdrop-blur-sm",children:[r.jsx(p.Z,{className:"h-2.5 w-2.5 md:h-3 md:w-3"}),r.jsx("span",{className:"text-xs md:text-xs",children:n>1e3?`${(n/1e3).toFixed(1)}k`:n})]})]}),u&&r.jsx("div",{className:"absolute bottom-2 left-2 z-20",children:r.jsx(x.Z,{className:"w-4 h-4 text-red-500 fill-red-500"})})]})})})}),r.jsx("div",{className:"mt-2 flex justify-center",children:r.jsx("span",{className:"text-xs text-gray-500 font-medium",children:h})})]})}function R(){let{data:e}=(0,k.VF)(),t=(0,C.ZP)("/images/aimagica-logo.png"),[a,D]=(0,s.useState)(()=>{let e=(console.log("\uD83D\uDCCB 静态Gallery数据: 返回精选作品，无需API调用"),[{id:"gallery-1",url:"/images/gallery/04033a15-7dfc-4b96-8999-91e6915ac926-34c9105b.png",title:"Mystical Portrait",author:"AIMAGICA",authorAvatar:"/images/aimagica-logo.png",likes:1247,comments:89,views:5634,downloads:234,isPremium:!0,isFeatured:!0,isLiked:!1,createdAt:"2024-12-15",prompt:"Beautiful mystical portrait with ethereal lighting",style:"Portrait",tags:["portrait","mystical","fantasy","art"],size:"large",rotation:-1},{id:"gallery-2",url:"/images/gallery/22ab8354-87e8-4a74-a37b-c3f08f1ced20-286738dd.png",title:"Digital Dreams",author:"AIMAGICA",authorAvatar:"/images/aimagica-logo.png",likes:892,comments:67,views:3421,downloads:178,isPremium:!1,isFeatured:!0,isLiked:!1,createdAt:"2024-12-14",prompt:"Vibrant digital artwork with surreal elements",style:"Digital Art",tags:["digital","surreal","colorful","modern"],size:"horizontal",rotation:1},{id:"gallery-3",url:"/images/gallery/294ff75d-8579-4d3d-87ee-811b69b15a99-5479e3c7.png",title:"Nature Harmony",author:"AIMAGICA",authorAvatar:"/images/aimagica-logo.png",likes:567,comments:43,views:2156,downloads:98,isPremium:!1,isFeatured:!1,isLiked:!1,createdAt:"2024-12-13",prompt:"Serene natural landscape with magical elements",style:"Landscape",tags:["nature","landscape","peaceful","magical"],size:"vertical",rotation:0},{id:"gallery-4",url:"/images/gallery/2afbdc00-d083-46bf-8167-28d81971226f-fb48974a.png",title:"Urban Fantasy",author:"AIMAGICA",authorAvatar:"/images/aimagica-logo.png",likes:734,comments:56,views:2789,downloads:156,isPremium:!0,isFeatured:!0,isLiked:!1,createdAt:"2024-12-12",prompt:"Modern city meets fantasy in this unique composition",style:"Urban Fantasy",tags:["urban","fantasy","city","modern"],size:"medium",rotation:-2},{id:"gallery-5",url:"/images/gallery/341851d0-7c3b-4119-b503-102c0aee0d8f-b4209676.png",title:"Abstract Visions",author:"AIMAGICA",authorAvatar:"/images/aimagica-logo.png",likes:445,comments:34,views:1823,downloads:87,isPremium:!1,isFeatured:!1,isLiked:!1,createdAt:"2024-12-11",prompt:"Bold abstract composition with dynamic forms",style:"Abstract",tags:["abstract","bold","dynamic","artistic"],size:"large",rotation:1},{id:"gallery-6",url:"/images/gallery/386628e0-61b1-4966-8575-2c2f2f162e3a-f897c7ae.png",title:"Cosmic Wanderer",author:"AIMAGICA",authorAvatar:"/images/aimagica-logo.png",likes:923,comments:78,views:4156,downloads:203,isPremium:!0,isFeatured:!0,isLiked:!1,createdAt:"2024-12-10",prompt:"Space explorer in a vast cosmic landscape",style:"Sci-Fi",tags:["space","explorer","cosmic","adventure"],size:"horizontal",rotation:0},{id:"gallery-7",url:"/images/gallery/5abb0316-b1d9-4c3a-ac97-76fcbe63f52b-fbb64e00.png",title:"Ethereal Beauty",author:"AIMAGICA",authorAvatar:"/images/aimagica-logo.png",likes:1156,comments:94,views:5234,downloads:267,isPremium:!0,isFeatured:!0,isLiked:!1,createdAt:"2024-12-09",prompt:"Delicate ethereal figure with flowing elements",style:"Fantasy",tags:["ethereal","beauty","flowing","delicate"],size:"vertical",rotation:-1},{id:"gallery-8",url:"/images/gallery/82db65f1-d54e-4f7f-a9c3-c3f5e902643b-d36a1d13.png",title:"Mechanical Dreams",author:"AIMAGICA",authorAvatar:"/images/aimagica-logo.png",likes:678,comments:52,views:2567,downloads:143,isPremium:!1,isFeatured:!1,isLiked:!1,createdAt:"2024-12-08",prompt:"Intricate mechanical design with steampunk elements",style:"Steampunk",tags:["mechanical","steampunk","intricate","design"],size:"medium",rotation:2}]);return console.log("\uD83C\uDFAF 纯静态Gallery初始化:",e.length,"张精选作品"),e.map(e=>({...e,localLikes:e.likes,localViews:e.views,localComments:e.comments,localIsLiked:!1}))}),[M,S]=(0,s.useState)([]),[Z,z]=(0,s.useState)(1),[P,R]=(0,s.useState)(!1),[$,_]=(0,s.useState)(null),[F,G]=(0,s.useState)([]),[E,V]=(0,s.useState)(!1),[H,O]=(0,s.useState)("all"),[T,W]=(0,s.useState)(""),[q,U]=(0,s.useState)(!1),[B,Y]=(0,s.useState)(!1),[J,K]=(0,s.useState)(!1),[X,Q]=(0,s.useState)("idle"),[ee,et]=(0,s.useState)(""),[ea,er]=(0,s.useState)(!1),es=(0,s.useCallback)((e,t,a)=>{try{let r=`gallery_${"like"===t?"liked":t+"s"}_${e}`;localStorage.setItem(r,a.toString()),console.log(`💾 保存用户交互: ${t} for ${e}`)}catch(e){console.warn("⚠️ localStorage保存失败:",e)}},[]),el=(0,s.useMemo)(()=>{let e=a;if("all"!==H&&(e=e.filter(e=>e.style.toLowerCase()===H.toLowerCase())),T){let t=T.toLowerCase();e=e.filter(e=>e.title.toLowerCase().includes(t)||e.author.toLowerCase().includes(t)||e.tags.some(e=>e.toLowerCase().includes(t)))}return e},[a,H,T]),ei=(0,s.useCallback)(()=>{if(P)return;let e=Z+1,t=12*Z,a=el.slice(t,t+12);0!==a.length&&(R(!0),setTimeout(()=>{S(e=>[...e,...a]),z(e),R(!1)},500))},[P,Z,el]),eo=M.length<el.length,en=(0,s.useMemo)(()=>M.map((e,t)=>({id:e.id,url:e.url,title:e.title,height:q?"vertical"===e.size?280:"horizontal"===e.size?180:"large"===e.size?300:"small"===e.size?220:260:Math.max(260,({vertical:480,horizontal:280,large:520,small:320,medium:400}[e.size]||400)+(t%5*20-40)),...e})),[M,q]),ed=(0,s.useCallback)(e=>{let t=e.toString();console.log(`❤️ 点赞图片: ${t}`);let a=e=>{if(e.id.toString()===t){let a=!e.localIsLiked,r=a?e.localLikes+1:Math.max(e.likes,e.localLikes-1);return es(t,"like",a),es(t,"like",r),{...e,localIsLiked:a,localLikes:r}}return e};S(e=>e.map(a)),D(e=>e.map(a)),$&&$.id.toString()===t&&_(e=>e?a(e):null),console.log("✨ 点赞操作完成，已保存到本地")},[$,es]),ec=(0,s.useCallback)(e=>{_(e),console.log(`🖼️ 打开图片详情: ${e.title}`);let t=e.id.toString(),a=e=>{if(e.id.toString()===t){let a=e.localViews+1;return es(t,"view",a),{...e,localViews:a}}return e};S(e=>e.map(a)),D(e=>e.map(a)),em(t),console.log("✨ 浏览量更新完成，已保存到本地")},[es]),em=(0,s.useCallback)(e=>{V(!0);try{console.log(`💬 加载本地评论: ${e}`);let t=localStorage.getItem(`gallery_comments_data_${e}`),a=t?JSON.parse(t):[];G(a),console.log(`✅ 本地评论加载成功: ${a.length}条`)}catch(e){console.warn("⚠️ 本地评论加载失败:",e),G([])}finally{V(!1)}},[]),eu=(0,s.useCallback)(()=>{if(!$||!ee.trim()||ea)return;let t=ee.trim(),a=$.id.toString();if(t.length>500){alert("评论内容不能超过500字符");return}er(!0);try{console.log(`💬 添加本地评论: ${a}, 内容: "${t.substring(0,50)}..."`);let r=[{id:`local-${Date.now()}`,imageId:a,content:t,author:e?.user?.name||"Anonymous",authorAvatar:e?.user?.image||"/images/aimagica-logo.png",likes:0,isLiked:!1,createdAt:new Date().toISOString()},...F];localStorage.setItem(`gallery_comments_data_${a}`,JSON.stringify(r)),G(r),et("");let s=e=>{if(e.id.toString()===a){let t=e.localComments+1;return es(a,"comment",t),{...e,localComments:t}}return e};S(e=>e.map(s)),D(e=>e.map(s)),console.log("✨ 评论添加成功，已保存到本地")}catch(e){console.error("❌ 本地评论保存异常:",e),alert("评论保存失败，请稍后重试")}finally{er(!1)}},[$,ee,ea,F,e,es]),eg=(0,s.useCallback)(e=>{if($)try{let t=F.map(t=>{if(t.id===e){let e=!t.isLiked,a=e?t.likes+1:Math.max(0,t.likes-1);return{...t,isLiked:e,likes:a}}return t});G(t);let a=$.id.toString();localStorage.setItem(`gallery_comments_data_${a}`,JSON.stringify(t)),console.log("✨ 评论点赞完成，已保存到本地")}catch(e){console.warn("⚠️ 评论点赞本地保存异常:",e)}},[F,$]),ex=(0,s.useCallback)(async()=>{if(!$)return;console.log("\uD83D\uDD04 开始分享:",$.title),Y(!0),Q("copying");let e=`${window.location.origin}/gallery#image-${$.id}`,t={title:`${$.title} - AIMAGICA Gallery`,text:`🎨 Amazing AI artwork: "${$.title}" by ${$.author}
✨ Created with AI magic - check it out in our gallery!`,url:e};console.log("\uD83D\uDCF1 移动端状态:",q),console.log("\uD83C\uDF10 Navigator.share支持:",!!navigator.share);try{if(navigator.share&&(q||/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)))console.log("\uD83D\uDCE4 使用原生分享"),await navigator.share(t),Q("shared"),console.log("✅ 原生分享成功");else if(console.log("\uD83D\uDCCB 复制链接到剪贴板"),navigator.clipboard&&navigator.clipboard.writeText)await navigator.clipboard.writeText(e),Q("copied"),console.log("✅ 复制成功");else{let t=document.createElement("textarea");t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t),Q("copied"),console.log("✅ 传统复制成功")}setTimeout(()=>Q("idle"),3e3)}catch(t){console.error("❌ 分享失败:",t);try{let t=document.createElement("textarea");t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t),Q("copied"),console.log("✅ 降级复制成功")}catch(t){console.error("❌ 复制也失败了:",t),alert(`分享链接: ${e}`)}setTimeout(()=>Q("idle"),3e3)}Y(!1)},[$,q]),eh=(0,s.useCallback)(async()=>{if($){K(!0);try{let e=await fetch($.url),t=await e.blob(),a=window.URL.createObjectURL(t),r=document.createElement("a");r.href=a,r.download=`aimagica-${$.title.replace(/[^a-zA-Z0-9]/g,"-")}-${$.id}.png`,document.body.appendChild(r),r.click(),document.body.removeChild(r),window.URL.revokeObjectURL(a)}catch(e){window.open($.url,"_blank")}K(!1)}},[$]),ep=(0,s.useCallback)((e,t)=>r.jsx(L,{id:e.id,url:e.url,title:e.title,author:e.author,likes:e.localLikes,views:e.localViews,isPremium:e.isPremium,isFeatured:e.isFeatured,isLiked:e.localIsLiked,createdAt:e.createdAt,size:e.size,rotation:e.rotation,onClick:()=>ec(e),priority:t<8,waterfallHeight:e.height},e.id),[ec]);return(0,r.jsxs)("div",{className:"min-h-screen bg-black",children:[r.jsx("header",{className:"p-4 md:p-6 bg-[#0a0a0a] border-b border-[#333] sticky top-0 z-50",children:(0,r.jsxs)("div",{className:"container mx-auto",children:[(0,r.jsxs)("div",{className:"md:hidden",children:[r.jsx("div",{className:"flex items-center justify-center mb-3",children:(0,r.jsxs)("div",{className:"flex items-center space-x-3 cursor-pointer transform hover:scale-105 transition-all",children:[(0,r.jsxs)("div",{className:"relative",children:[r.jsx("img",{src:t,alt:"AIMAGICA",className:"w-8 h-8 rounded-lg shadow-lg transform rotate-3 hover:rotate-0 transition-all"}),r.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-[#d4a574] rounded-full animate-pulse"})]}),(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"text-lg font-black text-white transform -rotate-1",style:{textShadow:"2px 2px 0px #333"},children:"AIMAGICA"}),r.jsx("p",{className:"text-xs text-gray-400 transform rotate-1",children:"Gallery ✨"})]})]})}),(0,r.jsxs)("div",{className:"relative",children:[r.jsx(u.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),r.jsx(o.I,{placeholder:"Search magical art...",value:T,onChange:e=>W(e.target.value),className:"pl-10 w-full bg-[#1a1a1a] border-2 border-[#444] text-white placeholder:text-gray-400 rounded-xl font-bold"})]})]}),(0,r.jsxs)("div",{className:"hidden md:flex justify-between items-center",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3 cursor-pointer transform hover:scale-105 transition-all",children:[(0,r.jsxs)("div",{className:"relative",children:[r.jsx("img",{src:t,alt:"AIMAGICA",className:"w-10 h-10 rounded-lg shadow-lg transform rotate-3 hover:rotate-0 transition-all"}),r.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-[#d4a574] rounded-full animate-pulse"})]}),(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"text-xl font-black text-white transform -rotate-1",style:{textShadow:"2px 2px 0px #333"},children:"AIMAGICA"}),r.jsx("p",{className:"text-xs text-gray-400 transform rotate-1",children:"Gallery ✨"})]})]}),r.jsx("div",{className:"flex items-center space-x-4",children:(0,r.jsxs)("div",{className:"relative",children:[r.jsx(u.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),r.jsx(o.I,{placeholder:"Search magical creations...",value:T,onChange:e=>W(e.target.value),className:"pl-10 w-64 bg-[#1a1a1a] border-2 border-[#444] text-white placeholder:text-gray-400 rounded-xl font-bold"})]})})]})]})}),(0,r.jsxs)("div",{className:"container mx-auto px-4 md:px-6 py-6 md:py-8",children:[r.jsx("div",{className:"mb-8 flex flex-wrap gap-4 items-start",children:r.jsx(c.mQ,{value:H,onValueChange:O,className:"flex-1 min-w-[200px]",children:(0,r.jsxs)(c.dr,{className:"bg-[#1a1a1a] border-2 border-[#444] rounded-xl p-1 flex flex-wrap gap-1",children:[r.jsx(c.SP,{value:"all",className:"rounded-lg font-bold data-[state=active]:bg-[#d4a574] data-[state=active]:text-black text-gray-300 text-xs md:text-sm transform rotate-1 hover:scale-105 transition-all",children:"All Magic"}),r.jsx(c.SP,{value:"fantasy",className:"rounded-lg font-bold data-[state=active]:bg-[#d4a574] data-[state=active]:text-black text-gray-300 text-xs md:text-sm transform rotate-0.5 hover:scale-105 transition-all",children:"Fantasy \uD83E\uDDD9‍♂️"}),r.jsx(c.SP,{value:"cyberpunk",className:"rounded-lg font-bold data-[state=active]:bg-[#d4a574] data-[state=active]:text-black text-gray-300 text-xs md:text-sm transform -rotate-0.5 hover:scale-105 transition-all",children:"Cyberpunk \uD83E\uDD16"}),r.jsx(c.SP,{value:"sci-fi",className:"hidden md:flex rounded-lg font-bold data-[state=active]:bg-[#d4a574] data-[state=active]:text-black text-gray-300 text-xs md:text-sm transform -rotate-1 hover:scale-105 transition-all",children:"Sci-Fi \uD83D\uDE80"})]})})}),T&&r.jsx(l.E.div,{className:"mb-6 bg-[#1a1a1a] rounded-xl p-3 border-2 border-[#444]",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},children:r.jsx("div",{className:"flex items-center justify-center",children:(0,r.jsxs)(d.C,{variant:"outline",className:"bg-[#2a2a2a] text-gray-300 text-sm",children:['\uD83D\uDD0D "',T,'"']})})}),r.jsx(I,{items:en,columns:q?2:4,gap:q?12:16,itemMinWidth:q?150:250,renderItem:ep,onLoadMore:ei,hasMore:eo,loading:P,initialRenderCount:12,className:"mb-8"}),0===el.length&&(0,r.jsxs)(l.E.div,{className:"text-center py-16",initial:{opacity:0},animate:{opacity:1},children:[r.jsx("div",{className:"text-6xl mb-4",children:"\uD83D\uDD0D"}),r.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Nothing found"}),r.jsx("p",{className:"text-gray-400",children:"Try different search or filter"}),r.jsx("button",{onClick:()=>{O("all"),W("")},className:"mt-4 px-4 py-2 bg-[#d4a574] text-black font-bold rounded-lg hover:bg-[#c19660] transition-colors",children:"Show All"})]})]}),r.jsx(n.Vq,{open:!!$,onOpenChange:e=>{e||_(null)},children:(0,r.jsxs)(n.cZ,{className:"max-w-4xl w-[95vw] max-h-[90vh] bg-black p-0 rounded-2xl border-4 border-[#333] shadow-2xl overflow-hidden flex flex-col",children:[r.jsx(n.$N,{style:{position:"absolute",width:"1px",height:"1px",padding:0,margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",border:0},children:$?.title||"Image Details"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-0 flex-1 min-h-0",children:[r.jsx("div",{className:"relative bg-black rounded-l-xl md:rounded-r-none overflow-hidden flex-shrink-0 h-64 md:h-auto",children:$&&(0,r.jsxs)(r.Fragment,{children:[r.jsx("img",{src:$.url,alt:$.title,className:"w-full h-full object-contain",loading:"eager"}),(0,r.jsxs)("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black to-transparent p-4",children:[r.jsx("h2",{className:"text-lg md:text-xl font-black text-white mb-1 transform -rotate-1",style:{textShadow:"2px 2px 0px #333"},children:$.title}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[r.jsx("img",{src:(0,A.H)($.authorAvatar),alt:$.author,className:"w-6 h-6 rounded-full border-2 border-[#444]",onError:e=>{e.currentTarget.src=(0,A.lS)($.author)}}),(0,r.jsxs)("p",{className:"text-[#d4a574] font-bold text-sm",children:["by ",$.author]}),$.isPremium&&r.jsx(g.Z,{className:"w-4 h-4 text-[#d4a574]"})]})]})]})}),r.jsx("div",{className:"p-4 md:p-6 overflow-y-auto bg-[#0a0a0a] flex-1 min-h-0",children:$&&(0,r.jsxs)(r.Fragment,{children:[r.jsx(n.fK,{className:"border-b border-[#333] pb-4 mb-4",children:r.jsx(n.$N,{className:"text-xl font-black text-white",children:$.title})}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-3 mb-6",children:[(0,r.jsxs)(i.z,{size:"sm",onClick:()=>ed($.id),className:`flex items-center space-x-1 transform rotate-1 ${$.localIsLiked?"bg-red-500/20 text-red-400 hover:bg-red-500/30":"bg-[#1a1a1a] text-white hover:bg-[#2a2a2a]"} font-bold rounded-lg border-2 border-[#444]`,style:{boxShadow:"2px 2px 0 #333"},children:[r.jsx(x.Z,{className:"w-4 h-4",fill:$.localIsLiked?"currentColor":"none"}),r.jsx("span",{children:$.localLikes})]}),(0,r.jsxs)("span",{className:"flex items-center text-gray-300 font-bold transform -rotate-1 bg-[#1a1a1a] px-2 py-1 rounded-lg border-2 border-[#444]",style:{boxShadow:"1px 1px 0 #333"},children:[r.jsx(h.Z,{className:"w-4 h-4 mr-1"}),$.localComments]}),(0,r.jsxs)("span",{className:"flex items-center text-gray-300 font-bold transform rotate-0.5 bg-[#1a1a1a] px-2 py-1 rounded-lg border-2 border-[#444]",style:{boxShadow:"1px 1px 0 #333"},children:[r.jsx(p.Z,{className:"w-4 h-4 mr-1"}),$.localViews]}),r.jsx("span",{className:"ml-auto text-gray-400 font-bold text-sm transform -rotate-1",children:$.createdAt})]}),(0,r.jsxs)("div",{className:"mb-6 transform rotate-0.5",children:[r.jsx("h3",{className:"text-white font-black mb-3 transform -rotate-1",style:{textShadow:"1px 1px 0px #333"},children:"Magic Prompt ✨"}),r.jsx("div",{className:"p-4 bg-[#1a1a1a] border-2 border-[#444] shadow-md",style:{borderRadius:"16px",clipPath:"polygon(0% 0%, 100% 2%, 99% 98%, 1% 100%)"},children:(0,r.jsxs)("p",{className:"text-gray-200 font-bold text-sm leading-relaxed",children:['"',$.prompt,'"']})})]}),(0,r.jsxs)("div",{className:"mb-6",children:[r.jsx("h3",{className:"text-white font-black mb-3 transform rotate-0.5",style:{textShadow:"1px 1px 0px #333"},children:"Magic Tags \uD83C\uDFF7️"}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-2",children:[r.jsx(d.C,{className:"bg-[#d4a574] text-black font-black transform rotate-1",style:{boxShadow:"1px 1px 0 #333"},children:$.style}),$.tags.map((e,t)=>(0,r.jsxs)(d.C,{variant:"outline",className:"bg-[#1a1a1a] border-2 border-[#444] text-gray-300 font-bold hover:bg-[#2a2a2a]",style:{transform:`rotate(${t%3-1}deg)`},children:["#",e]},t))]})]}),(0,r.jsxs)("div",{className:"flex gap-3 mb-6",children:[(0,r.jsxs)(i.z,{onClick:ex,disabled:B,className:"bg-[#4a5a4a] hover:bg-[#5a6a5a] text-white font-black rounded-xl flex-1 border-2 border-[#666] transform -rotate-0.5 hover:scale-105 transition-all disabled:opacity-50",style:{boxShadow:"2px 2px 0 #333"},children:["copying"===X?r.jsx(f.Z,{className:"w-4 h-4 mr-2 animate-pulse"}):"copied"===X?r.jsx(b.Z,{className:"w-4 h-4 mr-2 text-green-400"}):"shared"===X?r.jsx(b.Z,{className:"w-4 h-4 mr-2 text-blue-400"}):r.jsx(y.Z,{className:"w-4 h-4 mr-2"}),"copied"===X?"Copied!":"shared"===X?"Shared!":B?"Sharing...":"Share"]}),(0,r.jsxs)(i.z,{onClick:eh,disabled:J,className:"bg-[#d4a574] hover:bg-[#c19660] text-black font-black rounded-xl flex-1 transform rotate-0.5 hover:scale-105 transition-all disabled:opacity-50",style:{boxShadow:"2px 2px 0 #333"},children:[r.jsx(v.Z,{className:`w-4 h-4 mr-2 ${J?"animate-bounce":""}`}),J?"Downloading...":"Download"]})]}),(0,r.jsxs)("div",{className:"hidden md:block",children:[(0,r.jsxs)("h3",{className:"text-white font-black mb-4 transform -rotate-0.5",style:{textShadow:"1px 1px 0px #333"},children:["Magic Comments \uD83D\uDCAC",E&&r.jsx("span",{className:"text-sm text-gray-400 ml-2",children:"Loading..."})]}),(0,r.jsxs)("div",{className:"mb-6 p-4 bg-[#1a1a1a] border-2 border-[#444] rounded-xl",children:[r.jsx(m.g,{placeholder:"Share your thoughts about this magical artwork...",value:ee,onChange:e=>et(e.target.value),className:"bg-[#2a2a2a] border border-[#555] text-white placeholder:text-gray-400 resize-none mb-3",rows:3,maxLength:500}),(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsxs)("span",{className:"text-xs text-gray-400",children:[ee.length,"/500"]}),(0,r.jsxs)(i.z,{onClick:eu,disabled:!ee.trim()||ea,size:"sm",className:"bg-[#d4a574] hover:bg-[#c19660] text-black font-bold",children:[ea?r.jsx(w.Z,{className:"w-4 h-4 mr-2 animate-spin"}):r.jsx(j.Z,{className:"w-4 h-4 mr-2"}),ea?"Adding...":"Add Comment"]})]})]}),r.jsx("div",{className:"space-y-4 max-h-60 overflow-y-auto",children:E?(0,r.jsxs)("div",{className:"text-center py-8",children:[r.jsx("div",{className:"text-4xl mb-2",children:"\uD83D\uDCAC"}),r.jsx("p",{className:"text-gray-400",children:"Loading comments..."})]}):F.length>0?F.map((e,t)=>r.jsx("div",{className:"bg-[#1a1a1a] rounded-xl p-4 border-2 border-[#444] shadow-md",style:{transform:`rotate(${t%3-1}deg)`,boxShadow:`${t%3-1}px ${t%2+1}px 0 #333`},children:(0,r.jsxs)("div",{className:"flex items-start space-x-3",children:[r.jsx("img",{src:(0,A.H)(e.authorAvatar),alt:e.author,className:"w-8 h-8 rounded-full border-2 border-[#444]",onError:t=>{t.currentTarget.src=(0,A.lS)(e.author)}}),(0,r.jsxs)("div",{className:"flex-1",children:[r.jsx("div",{className:"flex justify-between items-start",children:(0,r.jsxs)("div",{children:[r.jsx("span",{className:"text-white font-black text-sm",children:e.author}),r.jsx("span",{className:"text-gray-400 font-bold text-xs ml-2",children:new Date(e.createdAt).toLocaleDateString()})]})}),r.jsx("p",{className:"text-gray-200 font-bold text-sm mt-1",children:e.content}),r.jsx("div",{className:"flex items-center justify-between mt-2",children:(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsxs)(i.z,{size:"sm",variant:"ghost",onClick:()=>eg(e.id),className:`flex items-center space-x-1 p-1 hover:bg-[#2a2a2a] rounded transition-all ${e.isLiked?"text-red-400 hover:text-red-300":"text-gray-400 hover:text-white"}`,children:[r.jsx(N,{className:`w-3 h-3 transition-transform hover:scale-110 ${e.isLiked?"fill-current":""}`}),r.jsx("span",{className:"text-xs font-bold",children:e.likes})]}),r.jsx("span",{className:"text-gray-500 text-xs",children:"•"}),r.jsx("span",{className:"text-gray-400 font-bold text-xs",children:"Reply"})]})})]})]})},e.id)):r.jsx("p",{className:"text-center text-gray-500 py-8",children:"No comments yet. Be the first to share your thoughts!"})})]})]})})]})]})})]})}},59637:(e,t,a)=>{"use strict";a.d(t,{C:()=>o});var r=a(39543);a(13872);var s=a(89382),l=a(90594);let i=(0,s.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function o({className:e,variant:t,...a}){return r.jsx("div",{className:(0,l.cn)(i({variant:t}),e),...a})}},17937:(e,t,a)=>{"use strict";a.d(t,{Ol:()=>o,SZ:()=>d,Zb:()=>i,aY:()=>c,ll:()=>n});var r=a(39543),s=a(13872),l=a(90594);let i=s.forwardRef(({className:e,...t},a)=>r.jsx("div",{ref:a,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));i.displayName="Card";let o=s.forwardRef(({className:e,...t},a)=>r.jsx("div",{ref:a,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",e),...t}));o.displayName="CardHeader";let n=s.forwardRef(({className:e,...t},a)=>r.jsx("div",{ref:a,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t}));n.displayName="CardTitle";let d=s.forwardRef(({className:e,...t},a)=>r.jsx("div",{ref:a,className:(0,l.cn)("text-sm text-muted-foreground",e),...t}));d.displayName="CardDescription";let c=s.forwardRef(({className:e,...t},a)=>r.jsx("div",{ref:a,className:(0,l.cn)("p-6 pt-0",e),...t}));c.displayName="CardContent",s.forwardRef(({className:e,...t},a)=>r.jsx("div",{ref:a,className:(0,l.cn)("flex items-center p-6 pt-0",e),...t})).displayName="CardFooter"},55109:(e,t,a)=>{"use strict";a.d(t,{$N:()=>x,Vq:()=>n,cZ:()=>u,fK:()=>g,hg:()=>d});var r=a(39543),s=a(13872),l=a(77020),i=a(8038),o=a(90594);let n=l.fC,d=l.xz,c=l.h_;l.x8;let m=s.forwardRef(({className:e,...t},a)=>r.jsx(l.aV,{ref:a,className:(0,o.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));m.displayName=l.aV.displayName;let u=s.forwardRef(({className:e,children:t,...a},s)=>(0,r.jsxs)(c,{children:[r.jsx(m,{}),(0,r.jsxs)(l.VY,{ref:s,className:(0,o.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...a,children:[t,(0,r.jsxs)(l.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground bg-gray-800 hover:bg-gray-700 text-white border border-gray-600 hover:border-gray-500 p-1",children:[r.jsx(i.Z,{className:"h-4 w-4"}),r.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));u.displayName=l.VY.displayName;let g=({className:e,...t})=>r.jsx("div",{className:(0,o.cn)("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});g.displayName="DialogHeader";let x=s.forwardRef(({className:e,...t},a)=>r.jsx(l.Dx,{ref:a,className:(0,o.cn)("text-lg font-semibold leading-none tracking-tight",e),...t}));x.displayName=l.Dx.displayName,s.forwardRef(({className:e,...t},a)=>r.jsx(l.dk,{ref:a,className:(0,o.cn)("text-sm text-muted-foreground",e),...t})).displayName=l.dk.displayName},52188:(e,t,a)=>{"use strict";a.d(t,{I:()=>i});var r=a(39543),s=a(13872),l=a(90594);let i=s.forwardRef(({className:e,type:t,...a},s)=>r.jsx("input",{type:t,className:(0,l.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:s,...a}));i.displayName="Input"},34579:(e,t,a)=>{"use strict";a.d(t,{SP:()=>d,dr:()=>n,mQ:()=>o,nU:()=>c});var r=a(39543),s=a(13872),l=a(4547),i=a(90594);let o=l.fC,n=s.forwardRef(({className:e,...t},a)=>r.jsx(l.aV,{ref:a,className:(0,i.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));n.displayName=l.aV.displayName;let d=s.forwardRef(({className:e,...t},a)=>r.jsx(l.xz,{ref:a,className:(0,i.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));d.displayName=l.xz.displayName;let c=s.forwardRef(({className:e,...t},a)=>r.jsx(l.VY,{ref:a,className:(0,i.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));c.displayName=l.VY.displayName},28338:(e,t,a)=>{"use strict";a.d(t,{g:()=>i});var r=a(39543),s=a(13872),l=a(90594);let i=s.forwardRef(({className:e,...t},a)=>r.jsx("textarea",{className:(0,l.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:a,...t}));i.displayName="Textarea"},68346:(e,t,a)=>{"use strict";a.d(t,{ZP:()=>s});var r=a(13872);let s=function(e){return(0,r.useMemo)(()=>e.startsWith("/")?e:`/${e}`,[e])}},27594:(e,t,a)=>{"use strict";function r(e){if(!e)return"/images/aimagica-logo.png";if(e.includes("googleusercontent.com")){let t=encodeURIComponent(e);return`/api/proxy/avatar?url=${t}`}return e}function s(e){let t=e?.charAt(0)?.toUpperCase()||"U";return`/placeholder.svg?height=40&width=40&text=${t}`}a.d(t,{H:()=>r,lS:()=>s})},45001:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});let r=(0,a(72930).Z)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},737:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});let r=(0,a(72930).Z)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]])},62804:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});let r=(0,a(72930).Z)("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]])},31299:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});let r=(0,a(72930).Z)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},34267:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});let r=(0,a(72930).Z)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]])},30237:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});let r=(0,a(72930).Z)("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]])},41431:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});let r=(0,a(72930).Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},77093:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});let r=(0,a(72930).Z)("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]])},95350:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});let r=(0,a(72930).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},14257:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});let r=(0,a(72930).Z)("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]])},35934:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});let r=(0,a(72930).Z)("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]])},32080:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});let r=(0,a(72930).Z)("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]])},38801:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});let r=(0,a(72930).Z)("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]])},41563:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});let r=(0,a(72930).Z)("WandSparkles",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]])},8038:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});let r=(0,a(72930).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},2597:(e,t,a)=>{"use strict";function r(){return null}a.r(t),a.d(t,{default:()=>r})},36179:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>i,metadata:()=>l});var r=a(23740);let s=(0,a(2814).createProxy)(String.raw`/mnt/d/cursor/aitoimage/ai-sketch-platform/app/gallery/static-gallery-client.tsx#default`),l={title:"AI Gallery - AIMAGICA | High-Performance AI Art Gallery",description:"Explore our high-performance AI art gallery with virtual waterfall layout, lazy loading, and seamless browsing. Discover thousands of AI-generated artworks with lightning-fast performance.",keywords:"AI art gallery, high performance gallery, virtual scrolling, lazy loading, AI generated images, digital art, artificial intelligence art, AI artwork showcase, fast gallery, responsive design",authors:[{name:"AIMAGICA"}],creator:"AIMAGICA",publisher:"AIMAGICA",formatDetection:{email:!1,address:!1,telephone:!1},openGraph:{title:"AI Gallery - AIMAGICA | High-Performance AI Art Gallery",description:"Explore our high-performance AI art gallery with virtual waterfall layout and lazy loading",url:"https://aimagica.ai/gallery",siteName:"AIMAGICA",images:[{url:"https://aimagica.ai/images/aimagica-logo.png",width:1200,height:630,alt:"AIMAGICA Gallery - High-Performance AI Art Gallery"}],locale:"en_US",type:"website"},twitter:{card:"summary_large_image",title:"AI Gallery - AIMAGICA | High-Performance AI Art Gallery",description:"Explore our high-performance AI art gallery with virtual waterfall layout and lazy loading",images:["https://aimagica.ai/images/aimagica-logo.png"]},robots:{index:!0,follow:!0,googleBot:{index:!0,follow:!0,"max-video-preview":-1,"max-image-preview":"large","max-snippet":-1}}};function i(){return r.jsx(s,{})}},77020:(e,t,a)=>{"use strict";a.d(t,{Dx:()=>ea,VY:()=>et,aV:()=>ee,dk:()=>er,fC:()=>K,h_:()=>Q,x8:()=>es,xz:()=>X});var r=a(13872),s=a(55671),l=a(89904),i=a(64049),o=a(62166),n=a(70868),d=a(18586),c=a(47025),m=a(30441),u=a(50720),g=a(49784),x=a(34571),h=a(42746),p=a(9737),f=a(57115),b=a(39543),y="Dialog",[v,w]=(0,i.b)(y),[j,N]=v(y),k=e=>{let{__scopeDialog:t,children:a,open:s,defaultOpen:l,onOpenChange:i,modal:d=!0}=e,c=r.useRef(null),m=r.useRef(null),[u=!1,g]=(0,n.T)({prop:s,defaultProp:l,onChange:i});return(0,b.jsx)(j,{scope:t,triggerRef:c,contentRef:m,contentId:(0,o.M)(),titleId:(0,o.M)(),descriptionId:(0,o.M)(),open:u,onOpenChange:g,onOpenToggle:r.useCallback(()=>g(e=>!e),[g]),modal:d,children:a})};k.displayName=y;var A="DialogTrigger",C=r.forwardRef((e,t)=>{let{__scopeDialog:a,...r}=e,i=N(A,a),o=(0,l.e)(t,i.triggerRef);return(0,b.jsx)(g.WV.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":W(i.open),...r,ref:o,onClick:(0,s.M)(e.onClick,i.onOpenToggle)})});C.displayName=A;var D="DialogPortal",[I,M]=v(D,{forceMount:void 0}),S=e=>{let{__scopeDialog:t,forceMount:a,children:s,container:l}=e,i=N(D,t);return(0,b.jsx)(I,{scope:t,forceMount:a,children:r.Children.map(s,e=>(0,b.jsx)(u.z,{present:a||i.open,children:(0,b.jsx)(m.h,{asChild:!0,container:l,children:e})}))})};S.displayName=D;var Z="DialogOverlay",z=r.forwardRef((e,t)=>{let a=M(Z,e.__scopeDialog),{forceMount:r=a.forceMount,...s}=e,l=N(Z,e.__scopeDialog);return l.modal?(0,b.jsx)(u.z,{present:r||l.open,children:(0,b.jsx)(P,{...s,ref:t})}):null});z.displayName=Z;var P=r.forwardRef((e,t)=>{let{__scopeDialog:a,...r}=e,s=N(Z,a);return(0,b.jsx)(h.Z,{as:f.g7,allowPinchZoom:!0,shards:[s.contentRef],children:(0,b.jsx)(g.WV.div,{"data-state":W(s.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),L="DialogContent",R=r.forwardRef((e,t)=>{let a=M(L,e.__scopeDialog),{forceMount:r=a.forceMount,...s}=e,l=N(L,e.__scopeDialog);return(0,b.jsx)(u.z,{present:r||l.open,children:l.modal?(0,b.jsx)($,{...s,ref:t}):(0,b.jsx)(_,{...s,ref:t})})});R.displayName=L;var $=r.forwardRef((e,t)=>{let a=N(L,e.__scopeDialog),i=r.useRef(null),o=(0,l.e)(t,a.contentRef,i);return r.useEffect(()=>{let e=i.current;if(e)return(0,p.Ry)(e)},[]),(0,b.jsx)(F,{...e,ref:o,trapFocus:a.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,s.M)(e.onCloseAutoFocus,e=>{e.preventDefault(),a.triggerRef.current?.focus()}),onPointerDownOutside:(0,s.M)(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,a=0===t.button&&!0===t.ctrlKey;(2===t.button||a)&&e.preventDefault()}),onFocusOutside:(0,s.M)(e.onFocusOutside,e=>e.preventDefault())})}),_=r.forwardRef((e,t)=>{let a=N(L,e.__scopeDialog),s=r.useRef(!1),l=r.useRef(!1);return(0,b.jsx)(F,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{e.onCloseAutoFocus?.(t),t.defaultPrevented||(s.current||a.triggerRef.current?.focus(),t.preventDefault()),s.current=!1,l.current=!1},onInteractOutside:t=>{e.onInteractOutside?.(t),t.defaultPrevented||(s.current=!0,"pointerdown"!==t.detail.originalEvent.type||(l.current=!0));let r=t.target;a.triggerRef.current?.contains(r)&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&l.current&&t.preventDefault()}})}),F=r.forwardRef((e,t)=>{let{__scopeDialog:a,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,...n}=e,m=N(L,a),u=r.useRef(null),g=(0,l.e)(t,u);return(0,x.EW)(),(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(c.M,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:i,onUnmountAutoFocus:o,children:(0,b.jsx)(d.XB,{role:"dialog",id:m.contentId,"aria-describedby":m.descriptionId,"aria-labelledby":m.titleId,"data-state":W(m.open),...n,ref:g,onDismiss:()=>m.onOpenChange(!1)})}),(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(Y,{titleId:m.titleId}),(0,b.jsx)(J,{contentRef:u,descriptionId:m.descriptionId})]})]})}),G="DialogTitle",E=r.forwardRef((e,t)=>{let{__scopeDialog:a,...r}=e,s=N(G,a);return(0,b.jsx)(g.WV.h2,{id:s.titleId,...r,ref:t})});E.displayName=G;var V="DialogDescription",H=r.forwardRef((e,t)=>{let{__scopeDialog:a,...r}=e,s=N(V,a);return(0,b.jsx)(g.WV.p,{id:s.descriptionId,...r,ref:t})});H.displayName=V;var O="DialogClose",T=r.forwardRef((e,t)=>{let{__scopeDialog:a,...r}=e,l=N(O,a);return(0,b.jsx)(g.WV.button,{type:"button",...r,ref:t,onClick:(0,s.M)(e.onClick,()=>l.onOpenChange(!1))})});function W(e){return e?"open":"closed"}T.displayName=O;var q="DialogTitleWarning",[U,B]=(0,i.k)(q,{contentName:L,titleName:G,docsSlug:"dialog"}),Y=({titleId:e})=>{let t=B(q),a=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return r.useEffect(()=>{e&&!document.getElementById(e)&&console.error(a)},[a,e]),null},J=({contentRef:e,descriptionId:t})=>{let a=B("DialogDescriptionWarning"),s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${a.contentName}}.`;return r.useEffect(()=>{let a=e.current?.getAttribute("aria-describedby");t&&a&&!document.getElementById(t)&&console.warn(s)},[s,e,t]),null},K=k,X=C,Q=S,ee=z,et=R,ea=E,er=H,es=T}};var t=require("../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[9613,8169,8292,4547,4055,4773],()=>a(15950));module.exports=r})();