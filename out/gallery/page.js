(()=>{var e={};e.id=928,e.ids=[928],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},8183:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>l.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>c,routeModule:()=>x,tree:()=>d}),a(97254),a(27810),a(40509),a(68199),a(70546);var s=a(30170),r=a(45002),o=a(83876),l=a.n(o),i=a(66299),n={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>i[e]);a.d(t,n);let d=["",{children:["gallery",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,97254)),"/mnt/d/cursor/aitoimage/ai-sketch-platform/app/gallery/page.tsx"]}]},{loading:[()=>Promise.resolve().then(a.bind(a,23585)),"/mnt/d/cursor/aitoimage/ai-sketch-platform/app/gallery/loading.tsx"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,27810)),"/mnt/d/cursor/aitoimage/ai-sketch-platform/app/layout.tsx"],error:[()=>Promise.resolve().then(a.bind(a,40509)),"/mnt/d/cursor/aitoimage/ai-sketch-platform/app/error.tsx"],loading:[()=>Promise.resolve().then(a.bind(a,68199)),"/mnt/d/cursor/aitoimage/ai-sketch-platform/app/loading.tsx"],"not-found":[()=>Promise.resolve().then(a.bind(a,70546)),"/mnt/d/cursor/aitoimage/ai-sketch-platform/app/not-found.tsx"]}],c=["/mnt/d/cursor/aitoimage/ai-sketch-platform/app/gallery/page.tsx"],m="/gallery/page",u={require:a,loadChunk:()=>Promise.resolve()},x=new s.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/gallery/page",pathname:"/gallery",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},97690:(e,t,a)=>{Promise.resolve().then(a.bind(a,43501))},43501:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>D});var s=a(97247),r=a(28964),o=a(58053),l=a(93763),i=a(37013),n=a(6683),d=a(30754),c=a(70457),m=a(37073),u=a(74974),x=a(9969),h=a(79875),f=a(999),p=a(34178),g=a(70170),b=a(84662),y=a(88964),v=a(98969),w=a(36725),j=a(57490),N=a(17818),k=a(28874),S=a(49626);let C=[{id:1,author:"ArtLover",authorAvatar:"/placeholder.svg?height=40&width=40&text=AL",content:"This is absolutely stunning! The colors are magical! ✨",createdAt:"2 hours ago",likes:24},{id:2,author:"CreativeSoul",authorAvatar:"/placeholder.svg?height=40&width=40&text=CS",content:"How did you create this masterpiece? The details are incredible!",createdAt:"1 day ago",likes:18},{id:3,author:"DigitalDreamer",authorAvatar:"/placeholder.svg?height=40&width=40&text=DD",content:"I'm inspired to create something similar. Thanks for sharing your art!",createdAt:"3 days ago",likes:12}];function D(){let e=(0,p.useRouter)(),{data:t,status:a}=(0,j.V)(),[D,M]=(0,r.useState)([]),[F,A]=(0,r.useState)(null),[L,z]=(0,r.useState)(C),[R,P]=(0,r.useState)(""),[E,I]=(0,r.useState)(!0),[$,Z]=(0,r.useState)(null),[_,O]=(0,r.useState)(!1),[T,V]=(0,r.useState)("all"),[H,U]=(0,r.useState)(""),[q,G]=(0,r.useState)({}),W=async e=>{try{let t=await fetch(`/api/gallery/${e}`);if(!t.ok)throw Error("Failed to fetch image details");let a=await t.json();z(a.commentsData||[]);let s=D.find(t=>t.id.toString()===e.toString()),r={id:a.id,url:a.url,title:a.title,author:a.author,authorAvatar:a.authorAvatar,likes:a.likes,comments:a.comments,views:a.views,downloads:0,isPremium:!1,isFeatured:!1,isLiked:a.isLiked,createdAt:a.createdAt,prompt:a.prompt,style:a.style,tags:a.tags,size:s?.size||"medium",rotation:s?.rotation||4*Math.random()-2};A(r),M(t=>t.map(t=>t.id.toString()===e.toString()?{...t,views:a.views,comments:a.comments,likes:a.likes,isLiked:a.isLiked}:t))}catch(a){let t=D.find(t=>t.id===e);t&&A(t)}},Y=async e=>{try{let t=await fetch(`/api/gallery/${e}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"toggle_like"})});if(!t.ok)throw Error("Failed to toggle like");let a=await t.json();M(t=>t.map(t=>t.id===e?{...t,isLiked:a.liked,likes:a.liked?t.likes+1:t.likes-1}:t)),F&&F.id===e&&A(e=>e?{...e,isLiked:a.liked,likes:a.liked?e.likes+1:e.likes-1}:null)}catch(t){M(t=>t.map(t=>t.id===e?{...t,isLiked:!t.isLiked,likes:t.isLiked?t.likes-1:t.likes+1}:t))}},B=async e=>{if(F)try{let t=await fetch(`/api/gallery/${F.id}/comments/${e}/like`,{method:"POST",headers:{"Content-Type":"application/json"}});if(!t.ok)throw Error("Failed to toggle comment like");let a=await t.json();a.success&&z(t=>t.map(t=>t.id===e?{...t,likes:a.liked?t.likes+1:t.likes-1,isLiked:a.liked}:t))}catch(t){z(t=>t.map(t=>t.id===e?{...t,likes:t.likes+1}:t))}},J=async()=>{if(R.trim()&&F)try{let e=await fetch(`/api/gallery/${F.id}/comments`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:R})});if(!e.ok)throw Error("Failed to add comment");let t=await e.json();t.success&&(z([t.data,...L]),P(""),F&&A(e=>e?{...e,comments:e.comments+1}:null),F&&M(e=>e.map(e=>e.id.toString()===F.id.toString()?{...e,comments:e.comments+1}:e)))}catch(e){z([{id:Date.now(),author:t?.user?.name||"Anonymous",authorAvatar:t?.user?.image||"/placeholder.svg?height=40&width=40&text=A",content:R,createdAt:"Just now",likes:0},...L]),P("")}},X=async()=>{if(F)try{let e=`${window.location.origin}/gallery?image=${F.id}`,t=`Check out this amazing AI artwork: "${F.title}" by ${F.author} - Created with AIMAGICA`;navigator.share?(await navigator.share({title:F.title,text:t,url:e}),N.Am.success("Shared successfully!")):(await navigator.clipboard.writeText(e),N.Am.success("Link copied to clipboard!"))}catch(e){try{let e=`${window.location.origin}/gallery?image=${F.id}`;await navigator.clipboard.writeText(e),N.Am.success("Link copied to clipboard!")}catch(e){N.Am.error("Failed to share or copy link")}}},K=async()=>{if(F)try{N.Am.info("Starting download...");let e=await fetch(F.url);if(!e.ok)throw Error("Failed to fetch image");let t=await e.blob(),a=window.URL.createObjectURL(t),s=document.createElement("a");s.href=a;let r=`aimagica-${F.style.toLowerCase().replace(/\s+/g,"-")}-${F.id}.jpg`;s.download=r,document.body.appendChild(s),s.click(),document.body.removeChild(s),window.URL.revokeObjectURL(a),N.Am.success("Download completed!"),A(e=>e?{...e,downloads:e.downloads+1}:null)}catch(e){N.Am.error("Failed to download image")}},Q=D.filter(e=>{let t="all"===T||"featured"===T&&e.isFeatured||e.style.toLowerCase()===T.toLowerCase(),a=!H||e.title.toLowerCase().includes(H.toLowerCase())||e.author.toLowerCase().includes(H.toLowerCase())||e.tags.some(e=>e.toLowerCase().includes(H.toLowerCase()));return t&&a}),ee=(e,t)=>{if(q[t.toString()])return q[t.toString()];let a=new Image;return a.crossOrigin="anonymous",a.onload=()=>{let e;let s=a.naturalWidth/a.naturalHeight;e=s>1.6?"16/9":s>1.25?"4/3":s>=.95&&s<=1.05?"1/1":s>.75?"4/5":s>.5?"3/4":"9/16",G(a=>({...a,[t.toString()]:e}))},a.onerror=()=>{},a.src=e,"4/5"};return(0,s.jsxs)("div",{className:"min-h-screen bg-black",children:[s.jsx("header",{className:"p-4 md:p-6 bg-[#0a0a0a] border-b border-[#333]",children:(0,s.jsxs)("div",{className:"container mx-auto",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3 cursor-pointer transform hover:scale-105 transition-all",onClick:()=>e.push("/"),children:[(0,s.jsxs)("div",{className:"relative",children:[s.jsx("img",{src:"/images/aimagica-logo.png",alt:"AIMAGICA",className:"w-8 h-8 md:w-10 md:h-10 rounded-lg shadow-lg transform rotate-3 hover:rotate-0 transition-all"}),s.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-[#d4a574] rounded-full animate-pulse"})]}),(0,s.jsxs)("div",{children:[s.jsx("h1",{className:"text-lg md:text-xl font-black text-white transform -rotate-1",style:{fontFamily:"Comic Sans MS, cursive",textShadow:"2px 2px 0px #333"},children:"AIMAGICA"}),s.jsx("p",{className:"text-xs text-gray-400 transform rotate-1",style:{fontFamily:"Comic Sans MS, cursive"},children:"Magic Gallery ✨"})]})]}),(0,s.jsxs)("nav",{className:"hidden md:flex items-center space-x-1",children:[s.jsx(o.z,{onClick:()=>e.push("/"),variant:"ghost",className:"text-white hover:bg-white/10 font-black rounded-xl px-4 py-2 transform hover:scale-105 transition-all",style:{fontFamily:"Comic Sans MS, cursive"},children:"HOME \uD83C\uDFE0"}),s.jsx(o.z,{variant:"ghost",className:"text-[#d4a574] hover:bg-white/10 font-black rounded-xl px-4 py-2 transform hover:scale-105 transition-all border-b-2 border-[#d4a574]",style:{fontFamily:"Comic Sans MS, cursive"},children:"GALLERY \uD83D\uDDBC️"}),s.jsx(o.z,{onClick:()=>e.push("/video-creation"),variant:"ghost",className:"text-white hover:bg-white/10 font-black rounded-xl px-4 py-2 transform hover:scale-105 transition-all",style:{fontFamily:"Comic Sans MS, cursive"},children:"VIDEO STUDIO \uD83C\uDFAC"}),s.jsx(o.z,{variant:"ghost",className:"text-white hover:bg-white/10 font-black rounded-xl px-4 py-2 transform hover:scale-105 transition-all",style:{fontFamily:"Comic Sans MS, cursive"},children:"LEARN \uD83D\uDCDA"})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsxs)(o.z,{className:"bg-[#d4a574] hover:bg-[#c19660] text-black font-black px-3 py-2 rounded-xl shadow-lg transform rotate-1 hover:rotate-0 transition-all text-xs md:text-sm",style:{fontFamily:"Comic Sans MS, cursive"},children:[s.jsx(l.Z,{className:"w-3 h-3 md:w-4 md:h-4 mr-1 md:mr-2"}),"PRO"]}),s.jsx(o.z,{onClick:()=>O(!_),variant:"ghost",className:"md:hidden text-white hover:bg-white/10 p-2 rounded-xl",children:_?s.jsx(i.Z,{className:"w-5 h-5"}):s.jsx(n.Z,{className:"w-5 h-5"})})]})]}),_&&s.jsx("div",{className:"md:hidden mt-4 p-4 bg-[#1a1a1a] rounded-xl border-2 border-[#333] shadow-lg",children:(0,s.jsxs)("nav",{className:"flex flex-col space-y-2",children:[(0,s.jsxs)(o.z,{onClick:()=>{e.push("/"),O(!1)},variant:"ghost",className:"text-white hover:bg-white/10 font-black rounded-xl px-4 py-3 text-left justify-start transform hover:scale-105 transition-all",style:{fontFamily:"Comic Sans MS, cursive"},children:[s.jsx(d.Z,{className:"w-4 h-4 mr-3"}),"HOME \uD83C\uDFE0"]}),(0,s.jsxs)(o.z,{variant:"ghost",className:"text-[#d4a574] hover:bg-white/10 font-black rounded-xl px-4 py-3 text-left justify-start transform hover:scale-105 transition-all border-l-4 border-[#d4a574]",style:{fontFamily:"Comic Sans MS, cursive"},children:[s.jsx(c.Z,{className:"w-4 h-4 mr-3"}),"GALLERY \uD83D\uDDBC️"]}),(0,s.jsxs)(o.z,{onClick:()=>{e.push("/video-creation"),O(!1)},variant:"ghost",className:"text-white hover:bg-white/10 font-black rounded-xl px-4 py-3 text-left justify-start transform hover:scale-105 transition-all",style:{fontFamily:"Comic Sans MS, cursive"},children:[s.jsx(m.Z,{className:"w-4 h-4 mr-3"}),"VIDEO STUDIO \uD83C\uDFAC"]}),(0,s.jsxs)(o.z,{variant:"ghost",className:"text-white hover:bg-white/10 font-black rounded-xl px-4 py-3 text-left justify-start transform hover:scale-105 transition-all",style:{fontFamily:"Comic Sans MS, cursive"},children:[s.jsx(u.Z,{className:"w-4 h-4 mr-3"}),"LEARN \uD83D\uDCDA"]})]})})]})}),(0,s.jsxs)("div",{className:"container mx-auto px-4 md:px-6 py-6 md:py-8",children:[(0,s.jsxs)("div",{className:"mb-8 flex flex-wrap gap-4 items-start",children:[(0,s.jsxs)("div",{className:"relative flex-1 min-w-[200px] max-w-md transform -rotate-1",style:{boxShadow:"3px 3px 0 #333"},children:[s.jsx(g.I,{placeholder:"Search magical creations...",value:H,onChange:e=>U(e.target.value),className:"bg-[#1a1a1a] border-2 border-[#444] text-white placeholder:text-gray-400 rounded-xl font-bold pl-4 pr-10",style:{fontFamily:"Comic Sans MS, cursive"}}),s.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-[#d4a574]",children:"✨"})]}),s.jsx(b.mQ,{value:T,onValueChange:V,className:"flex-1 min-w-[200px]",children:(0,s.jsxs)(b.dr,{className:"bg-[#1a1a1a] border-2 border-[#444] rounded-xl p-1 flex flex-wrap gap-1",children:[s.jsx(b.SP,{value:"all",className:"rounded-lg font-bold data-[state=active]:bg-[#d4a574] data-[state=active]:text-black text-gray-300 text-xs md:text-sm transform rotate-1 hover:scale-105 transition-all",style:{fontFamily:"Comic Sans MS, cursive"},children:"All Magic"}),s.jsx(b.SP,{value:"featured",className:"rounded-lg font-bold data-[state=active]:bg-[#d4a574] data-[state=active]:text-black text-gray-300 text-xs md:text-sm transform -rotate-1 hover:scale-105 transition-all",style:{fontFamily:"Comic Sans MS, cursive"},children:"Featured ⭐"}),s.jsx(b.SP,{value:"fantasy",className:"rounded-lg font-bold data-[state=active]:bg-[#d4a574] data-[state=active]:text-black text-gray-300 text-xs md:text-sm transform rotate-0.5 hover:scale-105 transition-all",style:{fontFamily:"Comic Sans MS, cursive"},children:"Fantasy \uD83E\uDDD9‍♂️"}),s.jsx(b.SP,{value:"cyberpunk",className:"rounded-lg font-bold data-[state=active]:bg-[#d4a574] data-[state=active]:text-black text-gray-300 text-xs md:text-sm transform -rotate-0.5 hover:scale-105 transition-all",style:{fontFamily:"Comic Sans MS, cursive"},children:"Cyberpunk \uD83E\uDD16"})]})})]}),E&&(0,s.jsxs)("div",{className:"text-center py-12",children:[s.jsx("div",{className:"w-12 h-12 mx-auto mb-4 border-4 border-[#d4a574] border-t-transparent rounded-full animate-spin"}),s.jsx("p",{className:"text-[#d4a574] font-bold text-lg",style:{fontFamily:"Comic Sans MS, cursive"},children:"Loading amazing artworks... ✨"})]}),$&&!E&&(0,s.jsxs)("div",{className:"text-center py-12",children:[s.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-red-500/20 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-2xl",children:"\uD83D\uDE1E"})}),s.jsx("p",{className:"text-red-400 font-bold text-lg mb-2",style:{fontFamily:"Comic Sans MS, cursive"},children:"Oops! Something went wrong"}),s.jsx("p",{className:"text-gray-400 text-sm",style:{fontFamily:"Comic Sans MS, cursive"},children:$})]}),!E&&!$&&0===Q.length&&(0,s.jsxs)("div",{className:"text-center py-12",children:[s.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-[#d4a574]/20 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-2xl",children:"\uD83C\uDFA8"})}),s.jsx("p",{className:"text-[#d4a574] font-bold text-lg mb-2",style:{fontFamily:"Comic Sans MS, cursive"},children:"No artworks found"}),s.jsx("p",{className:"text-gray-400 text-sm",style:{fontFamily:"Comic Sans MS, cursive"},children:"Be the first to share your amazing creation!"})]}),!E&&Q.length>0&&s.jsx("div",{className:"columns-2 md:columns-3 lg:columns-5 xl:columns-5 gap-4 md:gap-6",children:Q.map((e,t)=>{let a=e.rotation||4*Math.random()-2;return(0,s.jsxs)(w.E.div,{className:"break-inside-avoid mb-4 relative cursor-pointer",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.05*t},onClick:()=>W(e.id),style:{transform:`rotate(${a}deg)`,zIndex:t%3==0?2:1},whileHover:{scale:1.03,zIndex:10,rotate:0,transition:{duration:.2}},children:[(0,s.jsxs)("div",{className:"group relative bg-[#1a1a1a] rounded-lg overflow-hidden border-2 border-[#333] hover:border-[#d4a574] transition-all cursor-pointer shadow-lg hover:shadow-xl",onClick:()=>W(e.id),style:{aspectRatio:ee(e.url,e.id),width:"100%",height:"auto"},children:[s.jsx("div",{className:"w-full h-full relative bg-white rounded-md p-1",children:s.jsx("div",{className:"w-full h-full bg-white rounded-sm overflow-hidden",children:s.jsx(S.Z,{src:e.url||"/placeholder.svg",alt:e.title,className:"w-full h-full",objectFit:"contain",loadingMessage:"Loading artwork..."})})}),(0,s.jsxs)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent opacity-0 group-hover:opacity-100 hover:opacity-100 transition-opacity duration-300 flex flex-col justify-end p-3 z-10",children:[s.jsx("h3",{className:"text-white font-bold text-sm mb-1 transform rotate-0.5",style:{fontFamily:"Comic Sans MS, cursive"},children:e.title}),(0,s.jsxs)("p",{className:"text-gray-300 text-xs transform -rotate-0.5",style:{fontFamily:"Comic Sans MS, cursive"},children:["by ",e.author]})]}),s.jsx("div",{className:"absolute w-2 h-2 md:w-3 md:h-3 rounded-full bg-[#d4a574] z-20",style:{top:`${5+7*t%15}%`,right:`${5+11*t%15}%`,opacity:.7}}),e.isFeatured&&s.jsx("div",{className:"absolute top-2 right-2 md:top-3 md:right-3 transform rotate-12 bg-[#d4a574] rounded-full p-1 md:p-1.5 shadow-lg z-20",style:{boxShadow:"2px 2px 0 #333"},children:s.jsx(u.Z,{className:"w-2 h-2 md:w-3 md:h-3 text-black fill-black"})}),e.isLiked&&s.jsx("div",{className:"absolute bottom-2 left-2 md:bottom-3 md:left-3 transform -rotate-6 z-20",children:s.jsx(x.Z,{className:"w-3 h-3 md:w-4 md:h-4 text-red-500 fill-red-500"})}),e.isPremium&&s.jsx("div",{className:"absolute top-2 left-2 md:top-3 md:left-3 transform -rotate-12 z-20",children:s.jsx(l.Z,{className:"w-3 h-3 md:w-4 md:h-4 text-[#d4a574]"})})]}),(0,s.jsxs)("div",{className:"mt-2 flex justify-between items-center px-1",style:{transform:`rotate(${a/3}deg)`},children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2 text-xs text-gray-400",children:[(0,s.jsxs)("span",{className:"flex items-center",children:[s.jsx(x.Z,{className:"w-3 h-3 mr-0.5"}),e.likes>1e3?`${(e.likes/1e3).toFixed(1)}k`:e.likes]}),(0,s.jsxs)("span",{className:"flex items-center",children:[s.jsx(c.Z,{className:"w-3 h-3 mr-0.5"}),e.views>1e3?`${(e.views/1e3).toFixed(1)}k`:e.views]})]}),s.jsx("span",{className:"text-xs text-gray-500",style:{fontFamily:"Comic Sans MS, cursive"},children:e.createdAt})]})]},e.id)})}),!E&&Q.length>0&&s.jsx("div",{className:"text-center mt-12",children:s.jsx(o.z,{className:"bg-[#d4a574] hover:bg-[#c19660] text-black font-black px-8 py-3 rounded-xl shadow-lg transform rotate-1 hover:rotate-0 transition-all",style:{fontFamily:"Comic Sans MS, cursive",boxShadow:"4px 4px 0 #333",clipPath:"polygon(0% 0%, 100% 5%, 98% 100%, 2% 95%)"},children:"Load More Magic ✨"})})]}),s.jsx(v.Vq,{open:!!F,onOpenChange:e=>{if(!e){A(null);let e=new URL(window.location.href);e.searchParams.delete("image"),window.history.replaceState({},"",e.toString())}},children:(0,s.jsxs)(v.cZ,{className:"max-w-4xl w-[95vw] h-[90vh] bg-black p-0 rounded-2xl border-4 border-[#333] shadow-2xl",children:[s.jsx(v.$N,{style:{position:"absolute",width:"1px",height:"1px",padding:0,margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",border:0},children:F?.title||"Image Details"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-0 h-full",children:[s.jsx("div",{className:"relative bg-black rounded-l-xl overflow-hidden",children:F&&(0,s.jsxs)(s.Fragment,{children:[s.jsx(S.Z,{src:F.url||"/placeholder.svg",alt:F.title,className:"w-full h-full",objectFit:"contain",loadingMessage:"Loading masterpiece..."}),(0,s.jsxs)("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black to-transparent p-4",children:[s.jsx("h2",{className:"text-lg md:text-xl font-black text-white mb-1 transform -rotate-1",style:{fontFamily:"Comic Sans MS, cursive",textShadow:"2px 2px 0px #333"},children:F.title}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[s.jsx("img",{src:(0,k.H)(F.authorAvatar),alt:F.author,className:"w-6 h-6 rounded-full border-2 border-[#444]",onError:e=>{e.currentTarget.src=(0,k.lS)(F.author)},onLoad:()=>{}}),(0,s.jsxs)("p",{className:"text-[#d4a574] font-bold text-sm",style:{fontFamily:"Comic Sans MS, cursive"},children:["by ",F.author]}),F.isPremium&&s.jsx(l.Z,{className:"w-4 h-4 text-[#d4a574]"})]})]}),s.jsx("div",{className:"absolute top-4 right-4 w-8 h-8 rounded-full border-2 border-[#d4a574] opacity-50 transform rotate-12"}),s.jsx("div",{className:"absolute bottom-20 left-4 w-4 h-4 rounded-full bg-[#d4a574] opacity-30 transform -rotate-12"})]})}),s.jsx("div",{className:"p-6 overflow-y-auto bg-[#0a0a0a]",children:F&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"flex flex-wrap gap-3 mb-6",children:[(0,s.jsxs)(o.z,{size:"sm",onClick:()=>F&&Y(F.id),className:`flex items-center space-x-1 transform rotate-1 ${F.isLiked?"bg-red-500/20 text-red-400 hover:bg-red-500/30":"bg-[#1a1a1a] text-white hover:bg-[#2a2a2a]"} font-bold rounded-lg border-2 border-[#444]`,style:{fontFamily:"Comic Sans MS, cursive",boxShadow:"2px 2px 0 #333"},children:[s.jsx(x.Z,{className:"w-4 h-4",fill:F.isLiked?"currentColor":"none"}),s.jsx("span",{children:F.likes})]}),(0,s.jsxs)("span",{className:"flex items-center text-gray-300 font-bold transform -rotate-1 bg-[#1a1a1a] px-2 py-1 rounded-lg border-2 border-[#444]",style:{fontFamily:"Comic Sans MS, cursive",boxShadow:"1px 1px 0 #333"},children:[s.jsx(m.Z,{className:"w-4 h-4 mr-1"}),F.comments]}),(0,s.jsxs)("span",{className:"flex items-center text-gray-300 font-bold transform rotate-0.5 bg-[#1a1a1a] px-2 py-1 rounded-lg border-2 border-[#444]",style:{fontFamily:"Comic Sans MS, cursive",boxShadow:"1px 1px 0 #333"},children:[s.jsx(c.Z,{className:"w-4 h-4 mr-1"}),F.views]}),s.jsx("span",{className:"ml-auto text-gray-400 font-bold text-sm transform -rotate-1",style:{fontFamily:"Comic Sans MS, cursive"},children:F.createdAt})]}),(0,s.jsxs)("div",{className:"mb-6 transform rotate-0.5",children:[s.jsx("h3",{className:"text-white font-black mb-3 transform -rotate-1",style:{fontFamily:"Comic Sans MS, cursive",textShadow:"1px 1px 0px #333"},children:"Magic Prompt ✨"}),s.jsx("div",{className:"p-4 bg-[#1a1a1a] border-2 border-[#444] shadow-md",style:{borderRadius:"16px",clipPath:"polygon(0% 0%, 100% 2%, 99% 98%, 1% 100%)"},children:(0,s.jsxs)("p",{className:"text-gray-200 font-bold text-sm leading-relaxed",style:{fontFamily:"Comic Sans MS, cursive"},children:['"',F.prompt,'"']})})]}),(0,s.jsxs)("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-white font-black mb-3 transform rotate-0.5",style:{fontFamily:"Comic Sans MS, cursive",textShadow:"1px 1px 0px #333"},children:"Magic Tags \uD83C\uDFF7️"}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-2",children:[s.jsx(y.C,{className:"bg-[#d4a574] text-black font-black transform rotate-1",style:{fontFamily:"Comic Sans MS, cursive",boxShadow:"1px 1px 0 #333"},children:F.style}),F.tags.map((e,t)=>(0,s.jsxs)(y.C,{variant:"outline",className:"bg-[#1a1a1a] border-2 border-[#444] text-gray-300 font-bold hover:bg-[#2a2a2a]",style:{fontFamily:"Comic Sans MS, cursive",transform:`rotate(${t%3-1}deg)`},children:["#",e]},t))]})]}),(0,s.jsxs)("div",{className:"flex gap-3 mb-6",children:[(0,s.jsxs)(o.z,{onClick:X,className:"bg-[#4a5a4a] hover:bg-[#5a6a5a] text-white font-black rounded-xl flex-1 border-2 border-[#666] transform -rotate-0.5 hover:scale-105 transition-all",style:{fontFamily:"Comic Sans MS, cursive",boxShadow:"2px 2px 0 #333"},children:[s.jsx(h.Z,{className:"w-4 h-4 mr-2"}),"Share"]}),(0,s.jsxs)(o.z,{onClick:K,className:"bg-[#d4a574] hover:bg-[#c19660] text-black font-black rounded-xl flex-1 transform rotate-0.5 hover:scale-105 transition-all",style:{fontFamily:"Comic Sans MS, cursive",boxShadow:"2px 2px 0 #333"},children:[s.jsx(f.Z,{className:"w-4 h-4 mr-2"}),"Download"]})]}),(0,s.jsxs)("div",{children:[s.jsx("h3",{className:"text-white font-black mb-4 transform -rotate-0.5",style:{fontFamily:"Comic Sans MS, cursive",textShadow:"1px 1px 0px #333"},children:"Magic Comments \uD83D\uDCAC"}),(0,s.jsxs)("div",{className:"flex space-x-3 mb-4",children:[s.jsx("img",{src:t?.user?.image||"/placeholder.svg?height=40&width=40&text=A",alt:"Your Avatar",className:"w-8 h-8 rounded-full border-2 border-[#444] transform rotate-3"}),(0,s.jsxs)("div",{className:"flex-1 flex transform -rotate-0.5",children:[s.jsx(g.I,{placeholder:"Add your magical comment...",value:R,onChange:e=>P(e.target.value),className:"flex-1 bg-[#1a1a1a] border-2 border-[#444] text-white placeholder:text-gray-400 rounded-l-xl font-bold",style:{fontFamily:"Comic Sans MS, cursive"}}),s.jsx(o.z,{onClick:J,className:"bg-[#d4a574] hover:bg-[#c19660] text-black font-black rounded-r-xl",style:{fontFamily:"Comic Sans MS, cursive",boxShadow:"2px 2px 0 #333"},children:"Post"})]})]}),s.jsx("div",{className:"space-y-4 max-h-60 overflow-y-auto",children:L.map((e,t)=>s.jsx("div",{className:"bg-[#1a1a1a] rounded-xl p-4 border-2 border-[#444] shadow-md",style:{transform:`rotate(${t%3-1}deg)`,boxShadow:`${t%3-1}px ${t%2+1}px 0 #333`},children:(0,s.jsxs)("div",{className:"flex items-start space-x-3",children:[s.jsx("img",{src:(0,k.H)(e.authorAvatar),alt:e.author,className:"w-8 h-8 rounded-full border-2 border-[#444]",onError:t=>{t.currentTarget.src=(0,k.lS)(e.author)},onLoad:()=>{}}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)("div",{className:"flex justify-between items-start",children:[(0,s.jsxs)("div",{children:[s.jsx("span",{className:"text-white font-black text-sm",style:{fontFamily:"Comic Sans MS, cursive"},children:e.author}),s.jsx("span",{className:"text-gray-400 font-bold text-xs ml-2",style:{fontFamily:"Comic Sans MS, cursive"},children:e.createdAt})]}),s.jsx(o.z,{size:"sm",variant:"ghost",onClick:()=>B(e.id),className:`h-6 w-6 p-0 hover:bg-transparent ${e.isLiked?"text-red-500 hover:text-red-600":"text-gray-400 hover:text-red-400"}`,children:s.jsx(x.Z,{className:"w-3 h-3",fill:e.isLiked?"currentColor":"none"})})]}),s.jsx("p",{className:"text-gray-200 font-bold text-sm mt-1",style:{fontFamily:"Comic Sans MS, cursive"},children:e.content}),s.jsx("div",{className:"flex items-center mt-2",children:(0,s.jsxs)("span",{className:"text-gray-400 font-bold text-xs",style:{fontFamily:"Comic Sans MS, cursive"},children:[e.likes," likes"]})})]})]})},e.id))})]})]})})]})]})})]})}},88964:(e,t,a)=>{"use strict";a.d(t,{C:()=>i});var s=a(97247);a(28964);var r=a(87972),o=a(25008);let l=(0,r.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function i({className:e,variant:t,...a}){return s.jsx("div",{className:(0,o.cn)(l({variant:t}),e),...a})}},98969:(e,t,a)=>{"use strict";a.d(t,{$N:()=>h,Vq:()=>n,cZ:()=>u,fK:()=>x,hg:()=>d});var s=a(97247),r=a(28964),o=a(50400),l=a(37013),i=a(25008);let n=o.fC,d=o.xz,c=o.h_;o.x8;let m=r.forwardRef(({className:e,...t},a)=>s.jsx(o.aV,{ref:a,className:(0,i.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));m.displayName=o.aV.displayName;let u=r.forwardRef(({className:e,children:t,...a},r)=>(0,s.jsxs)(c,{children:[s.jsx(m,{}),(0,s.jsxs)(o.VY,{ref:r,className:(0,i.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...a,children:[t,(0,s.jsxs)(o.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground bg-gray-800 hover:bg-gray-700 text-white border border-gray-600 hover:border-gray-500 p-1",children:[s.jsx(l.Z,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));u.displayName=o.VY.displayName;let x=({className:e,...t})=>s.jsx("div",{className:(0,i.cn)("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});x.displayName="DialogHeader";let h=r.forwardRef(({className:e,...t},a)=>s.jsx(o.Dx,{ref:a,className:(0,i.cn)("text-lg font-semibold leading-none tracking-tight",e),...t}));h.displayName=o.Dx.displayName,r.forwardRef(({className:e,...t},a)=>s.jsx(o.dk,{ref:a,className:(0,i.cn)("text-sm text-muted-foreground",e),...t})).displayName=o.dk.displayName},70170:(e,t,a)=>{"use strict";a.d(t,{I:()=>l});var s=a(97247),r=a(28964),o=a(25008);let l=r.forwardRef(({className:e,type:t,...a},r)=>s.jsx("input",{type:t,className:(0,o.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...a}));l.displayName="Input"},49626:(e,t,a)=>{"use strict";a.d(t,{Z:()=>i});var s=a(97247),r=a(28964),o=a(44597),l=a(70855);function i({src:e,alt:t,className:a="",objectFit:i="cover",loadingMessage:n="Loading image...",onError:d,priority:c=!1,width:m,height:u,sizes:x,style:h}){let[f,p]=(0,r.useState)(!0),[g,b]=(0,r.useState)(!1),[y,v]=(0,r.useState)(!1),w=`
    ${a}
    ${f?"opacity-0":"opacity-100"}
    transition-opacity duration-300
  `.trim();return(0,s.jsxs)("div",{className:"relative w-full h-full",children:[f&&!g&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gradient-to-br from-[#f5f1e8] to-[#d4a574]/20",children:s.jsx(l.Z,{size:"small",message:n,showMessage:!1})}),g&&(0,s.jsxs)("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-gradient-to-br from-[#f5f1e8] to-[#d4a574]/20 text-[#8b7355]",children:[s.jsx("div",{className:"text-2xl mb-2",children:"\uD83D\uDDBC️"}),s.jsx("div",{className:"text-sm font-bold text-center",style:{fontFamily:"Comic Sans MS, cursive"},children:"Image unavailable"})]}),!g&&s.jsx(o.default,{src:e,alt:t,width:m,height:u,sizes:x,priority:c,className:w,style:{objectFit:i,...h},onLoad:()=>{p(!1),v(!0)},onError:()=>{p(!1),b(!0),d&&d()},...m||u?{}:{fill:!0}})]})}},70855:(e,t,a)=>{"use strict";a.d(t,{Z:()=>l});var s=a(97247),r=a(28964),o=a(30754);function l({size:e="medium",message:t="Creating magic...",showMessage:a=!0,className:l=""}){let[i,n]=(0,r.useState)(""),d={small:{container:"w-8 h-8",sparkles:"w-4 h-4",text:"text-xs mt-1"},medium:{container:"w-12 h-12",sparkles:"w-6 h-6",text:"text-sm mt-2"},large:{container:"w-16 h-16",sparkles:"w-8 h-8",text:"text-base mt-3"}}[e];return(0,s.jsxs)("div",{className:`flex flex-col items-center justify-center ${l}`,children:[(0,s.jsxs)("div",{className:`relative ${d.container}`,children:[s.jsx("div",{className:"absolute inset-0 rounded-full border-2 border-[#d4a574]/30 animate-spin"}),s.jsx("div",{className:"absolute inset-1 rounded-full border-2 border-[#8b7355]/50 animate-[spin_1.5s_linear_infinite_reverse]"}),s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:s.jsx(o.Z,{className:`${d.sparkles} text-[#8b7355] animate-pulse`})}),s.jsx("div",{className:"absolute -top-1 -right-1 w-2 h-2 bg-[#d4a574] rounded-full animate-ping"}),s.jsx("div",{className:"absolute -bottom-1 -left-1 w-1.5 h-1.5 bg-[#8b7355] rounded-full animate-ping delay-300"}),s.jsx("div",{className:"absolute top-1/2 -left-2 w-1 h-1 bg-[#f5f1e8] rounded-full animate-ping delay-700"})]}),a&&(0,s.jsxs)("div",{className:`${d.text} text-[#8b7355] font-bold text-center`,style:{fontFamily:"Comic Sans MS, cursive"},children:[t,i]})]})}},84662:(e,t,a)=>{"use strict";a.d(t,{SP:()=>d,dr:()=>n,mQ:()=>i,nU:()=>c});var s=a(97247),r=a(28964),o=a(8754),l=a(25008);let i=o.fC,n=r.forwardRef(({className:e,...t},a)=>s.jsx(o.aV,{ref:a,className:(0,l.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));n.displayName=o.aV.displayName;let d=r.forwardRef(({className:e,...t},a)=>s.jsx(o.xz,{ref:a,className:(0,l.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));d.displayName=o.xz.displayName;let c=r.forwardRef(({className:e,...t},a)=>s.jsx(o.VY,{ref:a,className:(0,l.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));c.displayName=o.VY.displayName},28874:(e,t,a)=>{"use strict";function s(e){if(!e)return"/images/aimagica-logo.png";if(e.includes("googleusercontent.com")){let t=encodeURIComponent(e);return`/api/proxy/avatar?url=${t}`}return e}function r(e){let t=e?.charAt(0)?.toUpperCase()||"U";return`/placeholder.svg?height=40&width=40&text=${t}`}a.d(t,{H:()=>s,lS:()=>r})},93763:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(26323).Z)("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]])},6683:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(26323).Z)("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]])},30754:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(26323).Z)("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]])},37013:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(26323).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},23585:(e,t,a)=>{"use strict";function s(){return null}a.r(t),a.d(t,{default:()=>s})},97254:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});let s=(0,a(45347).createProxy)(String.raw`/mnt/d/cursor/aitoimage/ai-sketch-platform/app/gallery/page.tsx#default`)},50400:(e,t,a)=>{"use strict";a.d(t,{Dx:()=>ea,VY:()=>et,aV:()=>ee,dk:()=>es,fC:()=>X,h_:()=>Q,x8:()=>er,xz:()=>K});var s=a(28964),r=a(70319),o=a(93191),l=a(20732),i=a(27015),n=a(28469),d=a(96990),c=a(60018),m=a(28611),u=a(67264),x=a(22251),h=a(3402),f=a(78350),p=a(58529),g=a(69008),b=a(97247),y="Dialog",[v,w]=(0,l.b)(y),[j,N]=v(y),k=e=>{let{__scopeDialog:t,children:a,open:r,defaultOpen:o,onOpenChange:l,modal:d=!0}=e,c=s.useRef(null),m=s.useRef(null),[u=!1,x]=(0,n.T)({prop:r,defaultProp:o,onChange:l});return(0,b.jsx)(j,{scope:t,triggerRef:c,contentRef:m,contentId:(0,i.M)(),titleId:(0,i.M)(),descriptionId:(0,i.M)(),open:u,onOpenChange:x,onOpenToggle:s.useCallback(()=>x(e=>!e),[x]),modal:d,children:a})};k.displayName=y;var S="DialogTrigger",C=s.forwardRef((e,t)=>{let{__scopeDialog:a,...s}=e,l=N(S,a),i=(0,o.e)(t,l.triggerRef);return(0,b.jsx)(x.WV.button,{type:"button","aria-haspopup":"dialog","aria-expanded":l.open,"aria-controls":l.contentId,"data-state":q(l.open),...s,ref:i,onClick:(0,r.M)(e.onClick,l.onOpenToggle)})});C.displayName=S;var D="DialogPortal",[M,F]=v(D,{forceMount:void 0}),A=e=>{let{__scopeDialog:t,forceMount:a,children:r,container:o}=e,l=N(D,t);return(0,b.jsx)(M,{scope:t,forceMount:a,children:s.Children.map(r,e=>(0,b.jsx)(u.z,{present:a||l.open,children:(0,b.jsx)(m.h,{asChild:!0,container:o,children:e})}))})};A.displayName=D;var L="DialogOverlay",z=s.forwardRef((e,t)=>{let a=F(L,e.__scopeDialog),{forceMount:s=a.forceMount,...r}=e,o=N(L,e.__scopeDialog);return o.modal?(0,b.jsx)(u.z,{present:s||o.open,children:(0,b.jsx)(R,{...r,ref:t})}):null});z.displayName=L;var R=s.forwardRef((e,t)=>{let{__scopeDialog:a,...s}=e,r=N(L,a);return(0,b.jsx)(f.Z,{as:g.g7,allowPinchZoom:!0,shards:[r.contentRef],children:(0,b.jsx)(x.WV.div,{"data-state":q(r.open),...s,ref:t,style:{pointerEvents:"auto",...s.style}})})}),P="DialogContent",E=s.forwardRef((e,t)=>{let a=F(P,e.__scopeDialog),{forceMount:s=a.forceMount,...r}=e,o=N(P,e.__scopeDialog);return(0,b.jsx)(u.z,{present:s||o.open,children:o.modal?(0,b.jsx)(I,{...r,ref:t}):(0,b.jsx)($,{...r,ref:t})})});E.displayName=P;var I=s.forwardRef((e,t)=>{let a=N(P,e.__scopeDialog),l=s.useRef(null),i=(0,o.e)(t,a.contentRef,l);return s.useEffect(()=>{let e=l.current;if(e)return(0,p.Ry)(e)},[]),(0,b.jsx)(Z,{...e,ref:i,trapFocus:a.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,r.M)(e.onCloseAutoFocus,e=>{e.preventDefault(),a.triggerRef.current?.focus()}),onPointerDownOutside:(0,r.M)(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,a=0===t.button&&!0===t.ctrlKey;(2===t.button||a)&&e.preventDefault()}),onFocusOutside:(0,r.M)(e.onFocusOutside,e=>e.preventDefault())})}),$=s.forwardRef((e,t)=>{let a=N(P,e.__scopeDialog),r=s.useRef(!1),o=s.useRef(!1);return(0,b.jsx)(Z,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{e.onCloseAutoFocus?.(t),t.defaultPrevented||(r.current||a.triggerRef.current?.focus(),t.preventDefault()),r.current=!1,o.current=!1},onInteractOutside:t=>{e.onInteractOutside?.(t),t.defaultPrevented||(r.current=!0,"pointerdown"!==t.detail.originalEvent.type||(o.current=!0));let s=t.target;a.triggerRef.current?.contains(s)&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&o.current&&t.preventDefault()}})}),Z=s.forwardRef((e,t)=>{let{__scopeDialog:a,trapFocus:r,onOpenAutoFocus:l,onCloseAutoFocus:i,...n}=e,m=N(P,a),u=s.useRef(null),x=(0,o.e)(t,u);return(0,h.EW)(),(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(c.M,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:l,onUnmountAutoFocus:i,children:(0,b.jsx)(d.XB,{role:"dialog",id:m.contentId,"aria-describedby":m.descriptionId,"aria-labelledby":m.titleId,"data-state":q(m.open),...n,ref:x,onDismiss:()=>m.onOpenChange(!1)})}),(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(B,{titleId:m.titleId}),(0,b.jsx)(J,{contentRef:u,descriptionId:m.descriptionId})]})]})}),_="DialogTitle",O=s.forwardRef((e,t)=>{let{__scopeDialog:a,...s}=e,r=N(_,a);return(0,b.jsx)(x.WV.h2,{id:r.titleId,...s,ref:t})});O.displayName=_;var T="DialogDescription",V=s.forwardRef((e,t)=>{let{__scopeDialog:a,...s}=e,r=N(T,a);return(0,b.jsx)(x.WV.p,{id:r.descriptionId,...s,ref:t})});V.displayName=T;var H="DialogClose",U=s.forwardRef((e,t)=>{let{__scopeDialog:a,...s}=e,o=N(H,a);return(0,b.jsx)(x.WV.button,{type:"button",...s,ref:t,onClick:(0,r.M)(e.onClick,()=>o.onOpenChange(!1))})});function q(e){return e?"open":"closed"}U.displayName=H;var G="DialogTitleWarning",[W,Y]=(0,l.k)(G,{contentName:P,titleName:_,docsSlug:"dialog"}),B=({titleId:e})=>{let t=Y(G),a=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return s.useEffect(()=>{e&&document.getElementById(e)},[a,e]),null},J=({contentRef:e,descriptionId:t})=>{let a=Y("DialogDescriptionWarning"),r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${a.contentName}}.`;return s.useEffect(()=>{let a=e.current?.getAttribute("aria-describedby");t&&a&&document.getElementById(t)},[r,e,t]),null},X=k,K=C,Q=A,ee=z,et=E,ea=O,es=V,er=U}};var t=require("../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),s=t.X(0,[581,522,754,725,976,818,625],()=>a(8183));module.exports=s})();