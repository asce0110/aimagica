(()=>{var e={};e.id=652,e.ids=[652],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},7362:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>p,originalPathname:()=>m,pages:()=>c,routeModule:()=>u,tree:()=>o}),s(57186),s(54299),s(43238),s(27845),s(42681);var a=s(72556),r=s(78383),i=s(48224),n=s.n(i),l=s(4519),d={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>l[e]);s.d(t,d);let o=["",{children:["admin",{children:["prompts",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,57186)),"/mnt/d/cursor/aitoimage/ai-sketch-platform/app/admin/prompts/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,54299)),"/mnt/d/cursor/aitoimage/ai-sketch-platform/app/layout.tsx"],error:[()=>Promise.resolve().then(s.bind(s,43238)),"/mnt/d/cursor/aitoimage/ai-sketch-platform/app/error.tsx"],loading:[()=>Promise.resolve().then(s.bind(s,27845)),"/mnt/d/cursor/aitoimage/ai-sketch-platform/app/loading.tsx"],"not-found":[()=>Promise.resolve().then(s.bind(s,42681)),"/mnt/d/cursor/aitoimage/ai-sketch-platform/app/not-found.tsx"]}],c=["/mnt/d/cursor/aitoimage/ai-sketch-platform/app/admin/prompts/page.tsx"],m="/admin/prompts/page",p={require:s,loadChunk:()=>Promise.resolve()},u=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/admin/prompts/page",pathname:"/admin/prompts",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},54956:(e,t,s)=>{Promise.resolve().then(s.bind(s,29982))},29982:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>J});var a=s(39543),r=s(13872),i=s(80895),n=s(3965),l=s(54547),d=s(52188),o=s(28338),c=s(17937),m=s(59637),p=s(34579),u=s(55109),x=s(78887),h=s(89904),f=s(64049),g=s(55671),j=s(70868),v=s(69403),y=s(15168),b=s(50720),N=s(49784),w="Checkbox",[k,C]=(0,f.b)(w),[D,R]=k(w),_=r.forwardRef((e,t)=>{let{__scopeCheckbox:s,name:i,checked:n,defaultChecked:l,required:d,disabled:o,value:c="on",onCheckedChange:m,form:p,...u}=e,[x,f]=r.useState(null),v=(0,h.e)(t,e=>f(e)),y=r.useRef(!1),b=!x||p||!!x.closest("form"),[w=!1,k]=(0,j.T)({prop:n,defaultProp:l,onChange:m}),C=r.useRef(w);return r.useEffect(()=>{let e=x?.form;if(e){let t=()=>k(C.current);return e.addEventListener("reset",t),()=>e.removeEventListener("reset",t)}},[x,k]),(0,a.jsxs)(D,{scope:s,state:w,disabled:o,children:[(0,a.jsx)(N.WV.button,{type:"button",role:"checkbox","aria-checked":P(w)?"mixed":w,"aria-required":d,"data-state":E(w),"data-disabled":o?"":void 0,disabled:o,value:c,...u,ref:v,onKeyDown:(0,g.M)(e.onKeyDown,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:(0,g.M)(e.onClick,e=>{k(e=>!!P(e)||!e),b&&(y.current=e.isPropagationStopped(),y.current||e.stopPropagation())})}),b&&(0,a.jsx)(z,{control:x,bubbles:!y.current,name:i,value:c,checked:w,required:d,disabled:o,form:p,style:{transform:"translateX(-100%)"},defaultChecked:!P(l)&&l})]})});_.displayName=w;var S="CheckboxIndicator",Z=r.forwardRef((e,t)=>{let{__scopeCheckbox:s,forceMount:r,...i}=e,n=R(S,s);return(0,a.jsx)(b.z,{present:r||P(n.state)||!0===n.state,children:(0,a.jsx)(N.WV.span,{"data-state":E(n.state),"data-disabled":n.disabled?"":void 0,...i,ref:t,style:{pointerEvents:"none",...e.style}})})});Z.displayName=S;var z=e=>{let{control:t,checked:s,bubbles:i=!0,defaultChecked:n,...l}=e,d=r.useRef(null),o=(0,v.D)(s),c=(0,y.t)(t);r.useEffect(()=>{let e=d.current,t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(o!==s&&t){let a=new Event("click",{bubbles:i});e.indeterminate=P(s),t.call(e,!P(s)&&s),e.dispatchEvent(a)}},[o,s,i]);let m=r.useRef(!P(s)&&s);return(0,a.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n??m.current,...l,tabIndex:-1,ref:d,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function P(e){return"indeterminate"===e}function E(e){return P(e)?"indeterminate":e?"checked":"unchecked"}var M=s(45001),A=s(90594);let T=r.forwardRef(({className:e,...t},s)=>a.jsx(_,{ref:s,className:(0,A.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:a.jsx(Z,{className:(0,A.cn)("flex items-center justify-center text-current"),children:a.jsx(M.Z,{className:"h-4 w-4"})})}));T.displayName=_.displayName;var O=s(22491),I=s(77465),V=s(41385),F=s(46344),L=s(38547),q=s(53834);let Y=(0,s(72930).Z)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);var $=s(67401),H=s(2850),U=s(95350),W=s(38801),Q=s(17635),B=s(78614),G=s(34267),K=s(737);let X=[{id:"all",name:"All",emoji:"\uD83C\uDFA8"},{id:"fantasy",name:"Fantasy",emoji:"\uD83E\uDDD9‍♂️"},{id:"anime",name:"Anime",emoji:"\uD83C\uDF38"},{id:"cyberpunk",name:"Cyberpunk",emoji:"\uD83C\uDF03"},{id:"nature",name:"Nature",emoji:"\uD83C\uDF3F"},{id:"portrait",name:"Portrait",emoji:"\uD83D\uDC64"},{id:"abstract",name:"Abstract",emoji:"\uD83C\uDFAD"},{id:"cute",name:"Cute",emoji:"\uD83D\uDC31"},{id:"general",name:"General",emoji:"✨"}];function J(){let{data:e,status:t}=(0,i.VF)(),s=(0,n.useRouter)(),{toast:h}=(0,O.pm)(),[f,g]=(0,r.useState)([]),[j,v]=(0,r.useState)({total:0,pending:0,approved:0,rejected:0}),[y,b]=(0,r.useState)(!0),[N,w]=(0,r.useState)(new Set),[k,C]=(0,r.useState)(!1),[D,R]=(0,r.useState)("pending"),[_,S]=(0,r.useState)(""),[Z,z]=(0,r.useState)("all"),[P,E]=(0,r.useState)("created_at"),[M,A]=(0,r.useState)("desc"),[J,ee]=(0,r.useState)(1),[et,es]=(0,r.useState)(!0),[ea,er]=(0,r.useState)(null),[ei,en]=(0,r.useState)(""),[el,ed]=(0,r.useState)(!1),[eo,ec]=(0,r.useState)(null),em=async(e=1,t=!1)=>{try{b(!0);let a=new URLSearchParams({page:e.toString(),limit:"20",status:"all"===D?"all":D,category:"all"!==Z?Z:"",search:_,sortBy:P,sortOrder:M}),r=await fetch(`/api/admin/user-prompts?${a}`),i=await r.json();r.ok?(t||1===e?g(i.prompts):g(e=>[...e,...i.prompts]),es(e<i.pagination.totalPages),v(i.stats),i.notice?(C(!0),h({title:"Database Not Initialized",description:i.notice,variant:"destructive"})):C(!1)):(h({title:"Error",description:i.error||"Failed to fetch prompts",variant:"destructive"}),403===r.status&&s.push("/admin/login"))}catch(e){console.error("Error fetching prompts:",e),h({title:"Error",description:"Failed to fetch prompts",variant:"destructive"})}finally{b(!1)}},ep=async(e,t)=>{let s=t||Array.from(N);if(0===s.length){h({title:"No prompts selected",description:"Please select prompts to perform the action",variant:"destructive"});return}let a={action:e,promptIds:s};"reject"===e&&ei&&(a.data={rejectionReason:ei});try{let t=await fetch("/api/admin/user-prompts",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}),s=await t.json();t.ok?(h({title:"Success",description:s.message}),ee(1),em(1,!0),w(new Set),en(""),ed(!1),ec(null)):h({title:"Error",description:s.error||`Failed to ${e} prompts`,variant:"destructive"})}catch(t){console.error(`Error ${e}ing prompts:`,t),h({title:"Error",description:`Failed to ${e} prompts`,variant:"destructive"})}},eu=(e,t)=>{"reject"===e?(ec(t),ed(!0)):ep(e,[t])},ex=e=>{let t=new Set(N);t.has(e)?t.delete(e):t.add(e),w(t)},eh=e=>{switch(e){case"approved":return a.jsx(m.C,{className:"bg-green-100 text-green-800",children:"Approved"});case"pending":return a.jsx(m.C,{className:"bg-yellow-100 text-yellow-800",children:"Pending"});case"rejected":return a.jsx(m.C,{className:"bg-red-100 text-red-800",children:"Rejected"});default:return null}};return"loading"===t?a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[a.jsx(V.Z,{className:"w-8 h-8 animate-spin mx-auto mb-4"}),a.jsx("p",{children:"Loading..."})]})}):a.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,a.jsxs)("div",{className:"mb-8",children:[a.jsx("div",{className:"flex items-center justify-between mb-4",children:(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[a.jsx(I.default,{href:"/",children:(0,a.jsxs)(l.z,{variant:"outline",size:"sm",className:"flex items-center space-x-2",children:[a.jsx(F.Z,{className:"w-4 h-4"}),a.jsx("span",{children:"Back to Home"})]})}),a.jsx(I.default,{href:"/admin/dashboard",children:(0,a.jsxs)(l.z,{variant:"outline",size:"sm",className:"flex items-center space-x-2",children:[a.jsx(L.Z,{className:"w-4 h-4"}),a.jsx("span",{children:"Back to Dashboard"})]})})]})}),a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Prompts Management"}),a.jsx("p",{className:"text-gray-600",children:"Review and manage user-submitted prompts"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[a.jsx(c.Zb,{children:a.jsx(c.aY,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:a.jsx(q.Z,{className:"w-6 h-6 text-blue-600"})}),(0,a.jsxs)("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:j.total})]})]})})}),a.jsx(c.Zb,{children:a.jsx(c.aY,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-2 bg-yellow-100 rounded-lg",children:a.jsx(Y,{className:"w-6 h-6 text-yellow-600"})}),(0,a.jsxs)("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:j.pending})]})]})})}),a.jsx(c.Zb,{children:a.jsx(c.aY,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:a.jsx($.Z,{className:"w-6 h-6 text-green-600"})}),(0,a.jsxs)("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Approved"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:j.approved})]})]})})}),a.jsx(c.Zb,{children:a.jsx(c.aY,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:a.jsx(H.Z,{className:"w-6 h-6 text-red-600"})}),(0,a.jsxs)("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Rejected"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:j.rejected})]})]})})})]}),k&&a.jsx(c.Zb,{className:"mb-6 border-red-200 bg-red-50",children:a.jsx(c.aY,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-start",children:[a.jsx("div",{className:"p-2 bg-red-100 rounded-lg mr-4",children:a.jsx(H.Z,{className:"w-6 h-6 text-red-600"})}),(0,a.jsxs)("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-lg font-semibold text-red-900 mb-2",children:"Database Not Initialized"}),a.jsx("p",{className:"text-red-700 mb-4",children:"The user prompts database tables have not been created yet. Please run the SQL migration script first."}),(0,a.jsxs)("div",{className:"bg-red-100 p-4 rounded-lg",children:[a.jsx("p",{className:"text-sm text-red-800 font-medium mb-2",children:"To fix this issue:"}),(0,a.jsxs)("ol",{className:"text-sm text-red-700 list-decimal list-inside space-y-1",children:[a.jsx("li",{children:"Open your Supabase project dashboard"}),a.jsx("li",{children:"Go to SQL Editor"}),(0,a.jsxs)("li",{children:["Run the migration script: ",a.jsx("code",{className:"bg-red-200 px-1 rounded",children:"scripts/create-user-prompts-basic.sql"})]}),a.jsx("li",{children:"Refresh this page"})]})]})]})]})})}),a.jsx(c.Zb,{className:"mb-6",children:a.jsx(c.aY,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4",children:[a.jsx("div",{className:"flex-1",children:(0,a.jsxs)("div",{className:"relative",children:[a.jsx(U.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),a.jsx(d.I,{placeholder:"Search prompts...",value:_,onChange:e=>S(e.target.value),className:"pl-10"})]})}),(0,a.jsxs)(x.Ph,{value:Z,onValueChange:z,children:[a.jsx(x.i4,{className:"w-full lg:w-[200px]",children:a.jsx(x.ki,{placeholder:"Category"})}),a.jsx(x.Bw,{children:X.map(e=>(0,a.jsxs)(x.Ql,{value:e.id,children:[e.emoji," ",e.name]},e.id))})]}),(0,a.jsxs)(x.Ph,{value:P,onValueChange:E,children:[a.jsx(x.i4,{className:"w-full lg:w-[200px]",children:a.jsx(x.ki,{placeholder:"Sort by"})}),(0,a.jsxs)(x.Bw,{children:[a.jsx(x.Ql,{value:"created_at",children:"Date Created"}),a.jsx(x.Ql,{value:"updated_at",children:"Date Updated"}),a.jsx(x.Ql,{value:"likes_count",children:"Likes"}),a.jsx(x.Ql,{value:"uses_count",children:"Uses"})]})]}),(0,a.jsxs)(l.z,{variant:"outline",onClick:()=>A("asc"===M?"desc":"asc"),children:["asc"===M?"↑":"↓"," Order"]})]})})}),N.size>0&&a.jsx(c.Zb,{className:"mb-6",children:a.jsx(c.aY,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("span",{className:"text-sm text-gray-600",children:[N.size," prompt(s) selected"]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)(l.z,{size:"sm",onClick:()=>ep("approve"),className:"bg-green-600 hover:bg-green-700",children:[a.jsx($.Z,{className:"w-4 h-4 mr-2"}),"Approve"]}),(0,a.jsxs)(l.z,{size:"sm",variant:"outline",onClick:()=>ed(!0),children:[a.jsx(H.Z,{className:"w-4 h-4 mr-2"}),"Reject"]}),(0,a.jsxs)(l.z,{size:"sm",onClick:()=>ep("feature"),className:"bg-yellow-600 hover:bg-yellow-700",children:[a.jsx(W.Z,{className:"w-4 h-4 mr-2"}),"Feature"]}),(0,a.jsxs)(l.z,{size:"sm",variant:"destructive",onClick:()=>ep("delete"),children:[a.jsx(Q.Z,{className:"w-4 h-4 mr-2"}),"Delete"]})]})]})})}),a.jsx(p.mQ,{value:D,onValueChange:R,className:"mb-6",children:(0,a.jsxs)(p.dr,{children:[(0,a.jsxs)(p.SP,{value:"pending",children:["Pending (",j.pending,")"]}),(0,a.jsxs)(p.SP,{value:"approved",children:["Approved (",j.approved,")"]}),(0,a.jsxs)(p.SP,{value:"rejected",children:["Rejected (",j.rejected,")"]}),(0,a.jsxs)(p.SP,{value:"all",children:["All (",j.total,")"]})]})}),y&&0===f.length?(0,a.jsxs)("div",{className:"text-center py-12",children:[a.jsx(V.Z,{className:"w-8 h-8 animate-spin mx-auto mb-4"}),a.jsx("p",{children:"Loading prompts..."})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"space-y-4",children:[f.length>0&&(0,a.jsxs)("div",{className:"flex items-center space-x-2 p-4 bg-white rounded-lg border",children:[a.jsx(T,{checked:N.size===f.length,onCheckedChange:()=>{N.size===f.length?w(new Set):w(new Set(f.map(e=>e.id)))}}),a.jsx("span",{className:"text-sm font-medium",children:"Select All"})]}),f.map(e=>a.jsx(c.Zb,{className:"hover:shadow-md transition-shadow",children:a.jsx(c.aY,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-start space-x-4",children:[a.jsx(T,{checked:N.has(e.id),onCheckedChange:()=>ex(e.id)}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:e.title}),(0,a.jsxs)("div",{className:"flex items-center space-x-3 text-sm text-gray-500",children:[(0,a.jsxs)("span",{className:"flex items-center",children:[a.jsx(B.Z,{className:"w-4 h-4 mr-1"}),e.users.name||e.users.email]}),a.jsx("span",{children:new Date(e.created_at).toLocaleDateString()}),(0,a.jsxs)("span",{className:"flex items-center",children:[X.find(t=>t.id===e.category)?.emoji," ",X.find(t=>t.id===e.category)?.name]})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[eh(e.status),e.is_featured&&(0,a.jsxs)(m.C,{className:"bg-yellow-100 text-yellow-800",children:[a.jsx(W.Z,{className:"w-3 h-3 mr-1"}),"Featured"]})]})]}),(0,a.jsxs)("div",{className:"mb-3",children:[(0,a.jsxs)("p",{className:"text-gray-700 line-clamp-2 mb-2",children:['"',e.prompt,'"']}),e.description&&a.jsx("p",{className:"text-sm text-gray-500 italic",children:e.description})]}),e.tags.length>0&&a.jsx("div",{className:"flex flex-wrap gap-1 mb-3",children:e.tags.map((e,t)=>a.jsx(m.C,{variant:"secondary",className:"text-xs",children:e},t))}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[(0,a.jsxs)("span",{className:"flex items-center",children:[a.jsx(G.Z,{className:"w-4 h-4 mr-1 text-red-500"}),e.likes_count," likes"]}),(0,a.jsxs)("span",{className:"flex items-center",children:[a.jsx(K.Z,{className:"w-4 h-4 mr-1 text-blue-500"}),e.uses_count," uses"]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsxs)(l.z,{size:"sm",variant:"outline",onClick:()=>er(e),children:[a.jsx(q.Z,{className:"w-4 h-4 mr-2"}),"View"]}),"pending"===e.status&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(l.z,{size:"sm",onClick:()=>eu("approve",e.id),className:"bg-green-600 hover:bg-green-700",children:[a.jsx($.Z,{className:"w-4 h-4 mr-2"}),"Approve"]}),(0,a.jsxs)(l.z,{size:"sm",variant:"outline",onClick:()=>eu("reject",e.id),children:[a.jsx(H.Z,{className:"w-4 h-4 mr-2"}),"Reject"]})]}),"approved"===e.status&&(0,a.jsxs)(l.z,{size:"sm",onClick:()=>eu(e.is_featured?"unfeature":"feature",e.id),className:e.is_featured?"bg-gray-600 hover:bg-gray-700":"bg-yellow-600 hover:bg-yellow-700",children:[a.jsx(W.Z,{className:"w-4 h-4 mr-2"}),e.is_featured?"Unfeature":"Feature"]}),a.jsx(l.z,{size:"sm",variant:"destructive",onClick:()=>eu("delete",e.id),children:a.jsx(Q.Z,{className:"w-4 h-4"})})]})]}),"rejected"===e.status&&e.rejection_reason&&a.jsx("div",{className:"mt-3 p-3 bg-red-50 border border-red-200 rounded-lg",children:(0,a.jsxs)("p",{className:"text-sm text-red-800",children:[a.jsx("strong",{children:"Rejection reason:"})," ",e.rejection_reason]})}),e.reviewed_at&&e.reviewed_user&&(0,a.jsxs)("div",{className:"mt-3 text-xs text-gray-500",children:["Reviewed by ",e.reviewed_user.name||e.reviewed_user.email," on ",new Date(e.reviewed_at).toLocaleString()]})]})]})})},e.id))]}),et&&a.jsx("div",{className:"text-center mt-8",children:a.jsx(l.z,{onClick:()=>{if(et&&!y){let e=J+1;ee(e),em(e,!1)}},disabled:y,variant:"outline",children:y?"Loading...":"Load More"})}),0===f.length&&!y&&a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-gray-500",children:"No prompts found."})})]}),a.jsx(u.Vq,{open:!!ea,onOpenChange:()=>er(null),children:(0,a.jsxs)(u.cZ,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[a.jsx(u.fK,{children:a.jsx(u.$N,{className:"text-2xl",children:ea?.title})}),ea&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,a.jsxs)("div",{children:[a.jsx("strong",{children:"Author:"})," ",ea.users.name||ea.users.email]}),(0,a.jsxs)("div",{children:[a.jsx("strong",{children:"Category:"})," ",X.find(e=>e.id===ea.category)?.name]}),(0,a.jsxs)("div",{children:[a.jsx("strong",{children:"Created:"})," ",new Date(ea.created_at).toLocaleString()]}),(0,a.jsxs)("div",{children:[a.jsx("strong",{children:"Status:"})," ",eh(ea.status)]}),(0,a.jsxs)("div",{children:[a.jsx("strong",{children:"Likes:"})," ",ea.likes_count]}),(0,a.jsxs)("div",{children:[a.jsx("strong",{children:"Uses:"})," ",ea.uses_count]})]}),(0,a.jsxs)("div",{children:[a.jsx("strong",{children:"Prompt:"}),a.jsx("div",{className:"mt-2 p-4 bg-gray-50 rounded-lg border",children:ea.prompt})]}),ea.description&&(0,a.jsxs)("div",{children:[a.jsx("strong",{children:"Description:"}),a.jsx("p",{className:"mt-1 text-gray-600",children:ea.description})]}),ea.tags.length>0&&(0,a.jsxs)("div",{children:[a.jsx("strong",{children:"Tags:"}),a.jsx("div",{className:"mt-2 flex flex-wrap gap-1",children:ea.tags.map((e,t)=>a.jsx(m.C,{variant:"secondary",children:e},t))})]}),ea.rejection_reason&&(0,a.jsxs)("div",{children:[a.jsx("strong",{children:"Rejection Reason:"}),a.jsx("p",{className:"mt-1 text-red-600",children:ea.rejection_reason})]})]})]})}),a.jsx(u.Vq,{open:el,onOpenChange:ed,children:(0,a.jsxs)(u.cZ,{children:[a.jsx(u.fK,{children:a.jsx(u.$N,{children:"Reject Prompt(s)"})}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Rejection Reason (Optional)"}),a.jsx(o.g,{value:ei,onChange:e=>en(e.target.value),placeholder:"Explain why this prompt is being rejected...",rows:3})]}),(0,a.jsxs)("div",{className:"flex justify-end space-x-3",children:[a.jsx(l.z,{variant:"outline",onClick:()=>{ed(!1),en(""),ec(null)},children:"Cancel"}),a.jsx(l.z,{variant:"destructive",onClick:()=>{eo?ep("reject",[eo]):ep("reject")},children:"Reject"})]})]})]})})]})})}},59637:(e,t,s)=>{"use strict";s.d(t,{C:()=>l});var a=s(39543);s(13872);var r=s(89382),i=s(90594);let n=(0,r.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function l({className:e,variant:t,...s}){return a.jsx("div",{className:(0,i.cn)(n({variant:t}),e),...s})}},17937:(e,t,s)=>{"use strict";s.d(t,{Ol:()=>l,SZ:()=>o,Zb:()=>n,aY:()=>c,ll:()=>d});var a=s(39543),r=s(13872),i=s(90594);let n=r.forwardRef(({className:e,...t},s)=>a.jsx("div",{ref:s,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));n.displayName="Card";let l=r.forwardRef(({className:e,...t},s)=>a.jsx("div",{ref:s,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",e),...t}));l.displayName="CardHeader";let d=r.forwardRef(({className:e,...t},s)=>a.jsx("div",{ref:s,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t}));d.displayName="CardTitle";let o=r.forwardRef(({className:e,...t},s)=>a.jsx("div",{ref:s,className:(0,i.cn)("text-sm text-muted-foreground",e),...t}));o.displayName="CardDescription";let c=r.forwardRef(({className:e,...t},s)=>a.jsx("div",{ref:s,className:(0,i.cn)("p-6 pt-0",e),...t}));c.displayName="CardContent",r.forwardRef(({className:e,...t},s)=>a.jsx("div",{ref:s,className:(0,i.cn)("flex items-center p-6 pt-0",e),...t})).displayName="CardFooter"},55109:(e,t,s)=>{"use strict";s.d(t,{$N:()=>x,Vq:()=>d,cZ:()=>p,fK:()=>u,hg:()=>o});var a=s(39543),r=s(13872),i=s(77020),n=s(8038),l=s(90594);let d=i.fC,o=i.xz,c=i.h_;i.x8;let m=r.forwardRef(({className:e,...t},s)=>a.jsx(i.aV,{ref:s,className:(0,l.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));m.displayName=i.aV.displayName;let p=r.forwardRef(({className:e,children:t,...s},r)=>(0,a.jsxs)(c,{children:[a.jsx(m,{}),(0,a.jsxs)(i.VY,{ref:r,className:(0,l.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...s,children:[t,(0,a.jsxs)(i.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground bg-gray-800 hover:bg-gray-700 text-white border border-gray-600 hover:border-gray-500 p-1",children:[a.jsx(n.Z,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));p.displayName=i.VY.displayName;let u=({className:e,...t})=>a.jsx("div",{className:(0,l.cn)("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});u.displayName="DialogHeader";let x=r.forwardRef(({className:e,...t},s)=>a.jsx(i.Dx,{ref:s,className:(0,l.cn)("text-lg font-semibold leading-none tracking-tight",e),...t}));x.displayName=i.Dx.displayName,r.forwardRef(({className:e,...t},s)=>a.jsx(i.dk,{ref:s,className:(0,l.cn)("text-sm text-muted-foreground",e),...t})).displayName=i.dk.displayName},52188:(e,t,s)=>{"use strict";s.d(t,{I:()=>n});var a=s(39543),r=s(13872),i=s(90594);let n=r.forwardRef(({className:e,type:t,...s},r)=>a.jsx("input",{type:t,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...s}));n.displayName="Input"},78887:(e,t,s)=>{"use strict";s.d(t,{Bw:()=>h,Ph:()=>c,Ql:()=>f,i4:()=>p,ki:()=>m});var a=s(39543),r=s(13872),i=s(8216),n=s(72424),l=s(1098),d=s(45001),o=s(90594);let c=i.fC;i.ZA;let m=i.B4,p=r.forwardRef(({className:e,children:t,...s},r)=>(0,a.jsxs)(i.xz,{ref:r,className:(0,o.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...s,children:[t,a.jsx(i.JO,{asChild:!0,children:a.jsx(n.Z,{className:"h-4 w-4 opacity-50"})})]}));p.displayName=i.xz.displayName;let u=r.forwardRef(({className:e,...t},s)=>a.jsx(i.u_,{ref:s,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(l.Z,{className:"h-4 w-4"})}));u.displayName=i.u_.displayName;let x=r.forwardRef(({className:e,...t},s)=>a.jsx(i.$G,{ref:s,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(n.Z,{className:"h-4 w-4"})}));x.displayName=i.$G.displayName;let h=r.forwardRef(({className:e,children:t,position:s="popper",...r},n)=>a.jsx(i.h_,{children:(0,a.jsxs)(i.VY,{ref:n,className:(0,o.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===s&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:s,...r,children:[a.jsx(u,{}),a.jsx(i.l_,{className:(0,o.cn)("p-1","popper"===s&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),a.jsx(x,{})]})}));h.displayName=i.VY.displayName,r.forwardRef(({className:e,...t},s)=>a.jsx(i.__,{ref:s,className:(0,o.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t})).displayName=i.__.displayName;let f=r.forwardRef(({className:e,children:t,...s},r)=>(0,a.jsxs)(i.ck,{ref:r,className:(0,o.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...s,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(i.wU,{children:a.jsx(d.Z,{className:"h-4 w-4"})})}),a.jsx(i.eT,{children:t})]}));f.displayName=i.ck.displayName,r.forwardRef(({className:e,...t},s)=>a.jsx(i.Z0,{ref:s,className:(0,o.cn)("-mx-1 my-1 h-px bg-muted",e),...t})).displayName=i.Z0.displayName},34579:(e,t,s)=>{"use strict";s.d(t,{SP:()=>o,dr:()=>d,mQ:()=>l,nU:()=>c});var a=s(39543),r=s(13872),i=s(4547),n=s(90594);let l=i.fC,d=r.forwardRef(({className:e,...t},s)=>a.jsx(i.aV,{ref:s,className:(0,n.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));d.displayName=i.aV.displayName;let o=r.forwardRef(({className:e,...t},s)=>a.jsx(i.xz,{ref:s,className:(0,n.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));o.displayName=i.xz.displayName;let c=r.forwardRef(({className:e,...t},s)=>a.jsx(i.VY,{ref:s,className:(0,n.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));c.displayName=i.VY.displayName},28338:(e,t,s)=>{"use strict";s.d(t,{g:()=>n});var a=s(39543),r=s(13872),i=s(90594);let n=r.forwardRef(({className:e,...t},s)=>a.jsx("textarea",{className:(0,i.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:s,...t}));n.displayName="Textarea"},22491:(e,t,s)=>{"use strict";s.d(t,{pm:()=>p});var a=s(13872);let r=0,i=new Map,n=e=>{if(i.has(e))return;let t=setTimeout(()=>{i.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);i.set(e,t)},l=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:s}=t;return s?n(s):e.toasts.forEach(e=>{n(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===s||void 0===s?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},d=[],o={toasts:[]};function c(e){o=l(o,e),d.forEach(e=>{e(o)})}function m({...e}){let t=(r=(r+1)%Number.MAX_SAFE_INTEGER).toString(),s=()=>c({type:"DISMISS_TOAST",toastId:t});return c({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:e=>{e||s()}}}),{id:t,dismiss:s,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:t}})}}function p(){let[e,t]=a.useState(o);return a.useEffect(()=>(d.push(t),()=>{let e=d.indexOf(t);e>-1&&d.splice(e,1)}),[e]),{...e,toast:m,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}},38547:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(72930).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},2850:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(72930).Z)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},737:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(72930).Z)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]])},34267:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(72930).Z)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]])},46344:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(72930).Z)("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]])},41385:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(72930).Z)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},95350:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(72930).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},38801:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(72930).Z)("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]])},17635:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(72930).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},78614:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(72930).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},8038:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(72930).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},57186:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});let a=(0,s(2814).createProxy)(String.raw`/mnt/d/cursor/aitoimage/ai-sketch-platform/app/admin/prompts/page.tsx#default`)},77020:(e,t,s)=>{"use strict";s.d(t,{Dx:()=>es,VY:()=>et,aV:()=>ee,dk:()=>ea,fC:()=>K,h_:()=>J,x8:()=>er,xz:()=>X});var a=s(13872),r=s(55671),i=s(89904),n=s(64049),l=s(62166),d=s(70868),o=s(18586),c=s(47025),m=s(30441),p=s(50720),u=s(49784),x=s(34571),h=s(42746),f=s(9737),g=s(57115),j=s(39543),v="Dialog",[y,b]=(0,n.b)(v),[N,w]=y(v),k=e=>{let{__scopeDialog:t,children:s,open:r,defaultOpen:i,onOpenChange:n,modal:o=!0}=e,c=a.useRef(null),m=a.useRef(null),[p=!1,u]=(0,d.T)({prop:r,defaultProp:i,onChange:n});return(0,j.jsx)(N,{scope:t,triggerRef:c,contentRef:m,contentId:(0,l.M)(),titleId:(0,l.M)(),descriptionId:(0,l.M)(),open:p,onOpenChange:u,onOpenToggle:a.useCallback(()=>u(e=>!e),[u]),modal:o,children:s})};k.displayName=v;var C="DialogTrigger",D=a.forwardRef((e,t)=>{let{__scopeDialog:s,...a}=e,n=w(C,s),l=(0,i.e)(t,n.triggerRef);return(0,j.jsx)(u.WV.button,{type:"button","aria-haspopup":"dialog","aria-expanded":n.open,"aria-controls":n.contentId,"data-state":H(n.open),...a,ref:l,onClick:(0,r.M)(e.onClick,n.onOpenToggle)})});D.displayName=C;var R="DialogPortal",[_,S]=y(R,{forceMount:void 0}),Z=e=>{let{__scopeDialog:t,forceMount:s,children:r,container:i}=e,n=w(R,t);return(0,j.jsx)(_,{scope:t,forceMount:s,children:a.Children.map(r,e=>(0,j.jsx)(p.z,{present:s||n.open,children:(0,j.jsx)(m.h,{asChild:!0,container:i,children:e})}))})};Z.displayName=R;var z="DialogOverlay",P=a.forwardRef((e,t)=>{let s=S(z,e.__scopeDialog),{forceMount:a=s.forceMount,...r}=e,i=w(z,e.__scopeDialog);return i.modal?(0,j.jsx)(p.z,{present:a||i.open,children:(0,j.jsx)(E,{...r,ref:t})}):null});P.displayName=z;var E=a.forwardRef((e,t)=>{let{__scopeDialog:s,...a}=e,r=w(z,s);return(0,j.jsx)(h.Z,{as:g.g7,allowPinchZoom:!0,shards:[r.contentRef],children:(0,j.jsx)(u.WV.div,{"data-state":H(r.open),...a,ref:t,style:{pointerEvents:"auto",...a.style}})})}),M="DialogContent",A=a.forwardRef((e,t)=>{let s=S(M,e.__scopeDialog),{forceMount:a=s.forceMount,...r}=e,i=w(M,e.__scopeDialog);return(0,j.jsx)(p.z,{present:a||i.open,children:i.modal?(0,j.jsx)(T,{...r,ref:t}):(0,j.jsx)(O,{...r,ref:t})})});A.displayName=M;var T=a.forwardRef((e,t)=>{let s=w(M,e.__scopeDialog),n=a.useRef(null),l=(0,i.e)(t,s.contentRef,n);return a.useEffect(()=>{let e=n.current;if(e)return(0,f.Ry)(e)},[]),(0,j.jsx)(I,{...e,ref:l,trapFocus:s.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,r.M)(e.onCloseAutoFocus,e=>{e.preventDefault(),s.triggerRef.current?.focus()}),onPointerDownOutside:(0,r.M)(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,s=0===t.button&&!0===t.ctrlKey;(2===t.button||s)&&e.preventDefault()}),onFocusOutside:(0,r.M)(e.onFocusOutside,e=>e.preventDefault())})}),O=a.forwardRef((e,t)=>{let s=w(M,e.__scopeDialog),r=a.useRef(!1),i=a.useRef(!1);return(0,j.jsx)(I,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{e.onCloseAutoFocus?.(t),t.defaultPrevented||(r.current||s.triggerRef.current?.focus(),t.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:t=>{e.onInteractOutside?.(t),t.defaultPrevented||(r.current=!0,"pointerdown"!==t.detail.originalEvent.type||(i.current=!0));let a=t.target;s.triggerRef.current?.contains(a)&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&i.current&&t.preventDefault()}})}),I=a.forwardRef((e,t)=>{let{__scopeDialog:s,trapFocus:r,onOpenAutoFocus:n,onCloseAutoFocus:l,...d}=e,m=w(M,s),p=a.useRef(null),u=(0,i.e)(t,p);return(0,x.EW)(),(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(c.M,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:n,onUnmountAutoFocus:l,children:(0,j.jsx)(o.XB,{role:"dialog",id:m.contentId,"aria-describedby":m.descriptionId,"aria-labelledby":m.titleId,"data-state":H(m.open),...d,ref:u,onDismiss:()=>m.onOpenChange(!1)})}),(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(B,{titleId:m.titleId}),(0,j.jsx)(G,{contentRef:p,descriptionId:m.descriptionId})]})]})}),V="DialogTitle",F=a.forwardRef((e,t)=>{let{__scopeDialog:s,...a}=e,r=w(V,s);return(0,j.jsx)(u.WV.h2,{id:r.titleId,...a,ref:t})});F.displayName=V;var L="DialogDescription",q=a.forwardRef((e,t)=>{let{__scopeDialog:s,...a}=e,r=w(L,s);return(0,j.jsx)(u.WV.p,{id:r.descriptionId,...a,ref:t})});q.displayName=L;var Y="DialogClose",$=a.forwardRef((e,t)=>{let{__scopeDialog:s,...a}=e,i=w(Y,s);return(0,j.jsx)(u.WV.button,{type:"button",...a,ref:t,onClick:(0,r.M)(e.onClick,()=>i.onOpenChange(!1))})});function H(e){return e?"open":"closed"}$.displayName=Y;var U="DialogTitleWarning",[W,Q]=(0,n.k)(U,{contentName:M,titleName:V,docsSlug:"dialog"}),B=({titleId:e})=>{let t=Q(U),s=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return a.useEffect(()=>{e&&!document.getElementById(e)&&console.error(s)},[s,e]),null},G=({contentRef:e,descriptionId:t})=>{let s=Q("DialogDescriptionWarning"),r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${s.contentName}}.`;return a.useEffect(()=>{let s=e.current?.getAttribute("aria-describedby");t&&s&&!document.getElementById(t)&&console.warn(r)},[r,e,t]),null},K=k,X=D,J=Z,ee=P,et=A,es=F,ea=q,er=$}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[128,292,547,633,773],()=>s(7362));module.exports=a})();