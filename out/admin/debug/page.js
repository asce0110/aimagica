(()=>{var e={};e.id=585,e.ids=[585],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},13002:(e,a,r)=>{"use strict";r.r(a),r.d(a,{GlobalError:()=>l.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>c,routeModule:()=>x,tree:()=>o}),r(33479),r(27810),r(40509),r(68199),r(70546);var t=r(30170),s=r(45002),i=r(83876),l=r.n(i),n=r(66299),d={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);r.d(a,d);let o=["",{children:["admin",{children:["debug",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,33479)),"/mnt/d/cursor/aitoimage/ai-sketch-platform/app/admin/debug/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,27810)),"/mnt/d/cursor/aitoimage/ai-sketch-platform/app/layout.tsx"],error:[()=>Promise.resolve().then(r.bind(r,40509)),"/mnt/d/cursor/aitoimage/ai-sketch-platform/app/error.tsx"],loading:[()=>Promise.resolve().then(r.bind(r,68199)),"/mnt/d/cursor/aitoimage/ai-sketch-platform/app/loading.tsx"],"not-found":[()=>Promise.resolve().then(r.bind(r,70546)),"/mnt/d/cursor/aitoimage/ai-sketch-platform/app/not-found.tsx"]}],c=["/mnt/d/cursor/aitoimage/ai-sketch-platform/app/admin/debug/page.tsx"],m="/admin/debug/page",u={require:r,loadChunk:()=>Promise.resolve()},x=new t.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/admin/debug/page",pathname:"/admin/debug",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},90281:(e,a,r)=>{Promise.resolve().then(r.bind(r,21566))},21566:(e,a,r)=>{"use strict";r.r(a),r.d(a,{default:()=>d});var t=r(97247),s=r(57490),i=r(28964),l=r(58053),n=r(27757);function d(){let{data:e,status:a}=(0,s.V)(),[r,d]=(0,i.useState)(null),[o,c]=(0,i.useState)(!1),m=async()=>{c(!0);try{let e=await fetch("/api/admin/test-check"),a=await e.json();d(a)}catch(e){d({error:"Failed to run test",details:e})}finally{c(!1)}},u=async()=>{c(!0);try{let e=await fetch("/api/admin/check"),a=await e.json();d({...r,regularCheck:a})}catch(e){d({...r,regularCheckError:e})}finally{c(!1)}};return t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[#f5f1e8] via-[#e8dcc0] to-[#d4a574] p-8",children:t.jsx("div",{className:"container mx-auto max-w-4xl",children:(0,t.jsxs)(n.Zb,{className:"bg-white border-4 border-[#2d3e2d] rounded-2xl shadow-lg mb-8",children:[t.jsx(n.Ol,{children:t.jsx(n.ll,{className:"text-2xl font-black text-[#2d3e2d]",style:{fontFamily:"Comic Sans MS, cursive"},children:"\uD83D\uDD0D Admin Debug Panel"})}),(0,t.jsxs)(n.aY,{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[t.jsx("h3",{className:"text-lg font-bold text-[#2d3e2d] mb-2",children:"Session Information:"}),t.jsx("pre",{className:"bg-gray-100 p-4 rounded-lg text-sm overflow-auto",children:JSON.stringify({status:a,hasSession:!!e,email:e?.user?.email,name:e?.user?.name,image:e?.user?.image},null,2)})]}),(0,t.jsxs)("div",{className:"flex gap-4",children:[t.jsx(l.z,{onClick:m,disabled:o,className:"bg-[#4a5a4a] hover:bg-[#5a6a5a] text-white",children:o?"Testing...":"Run Admin Test"}),t.jsx(l.z,{onClick:u,disabled:o,className:"bg-[#8b7355] hover:bg-[#6d5a42] text-white",children:"Run Regular Check"})]}),r&&(0,t.jsxs)("div",{children:[t.jsx("h3",{className:"text-lg font-bold text-[#2d3e2d] mb-2",children:"Test Results:"}),t.jsx("pre",{className:"bg-gray-100 p-4 rounded-lg text-sm overflow-auto max-h-96",children:JSON.stringify(r,null,2)})]}),(0,t.jsxs)("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4",children:[t.jsx("h3",{className:"text-lg font-bold text-yellow-800 mb-2",children:"Troubleshooting Steps:"}),(0,t.jsxs)("ol",{className:"list-decimal list-inside space-y-2 text-yellow-700",children:[t.jsx("li",{children:"Check if your email is in the admin_config table in Supabase"}),t.jsx("li",{children:"Verify environment variables are set correctly"}),t.jsx("li",{children:"Check browser console for any errors"}),t.jsx("li",{children:"Ensure you're logged in with the correct Google account"}),t.jsx("li",{children:"Try logging out and logging back in"})]})]}),(0,t.jsxs)("div",{className:"bg-blue-50 border-l-4 border-blue-400 p-4",children:[t.jsx("h3",{className:"text-lg font-bold text-blue-800 mb-2",children:"Quick Fix:"}),t.jsx("p",{className:"text-blue-700 mb-2",children:"If you need to add yourself as an admin manually, you can run this SQL in Supabase:"}),t.jsx("pre",{className:"bg-blue-100 p-2 rounded text-sm",children:`INSERT INTO admin_config (email, role) 
VALUES ('your-email@gmail.com', 'admin') 
ON CONFLICT (email) DO UPDATE SET role = 'admin';`})]})]})]})})})}},27757:(e,a,r)=>{"use strict";r.d(a,{Ol:()=>n,SZ:()=>o,Zb:()=>l,aY:()=>c,ll:()=>d});var t=r(97247),s=r(28964),i=r(25008);let l=s.forwardRef(({className:e,...a},r)=>t.jsx("div",{ref:r,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...a}));l.displayName="Card";let n=s.forwardRef(({className:e,...a},r)=>t.jsx("div",{ref:r,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",e),...a}));n.displayName="CardHeader";let d=s.forwardRef(({className:e,...a},r)=>t.jsx("div",{ref:r,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",e),...a}));d.displayName="CardTitle";let o=s.forwardRef(({className:e,...a},r)=>t.jsx("div",{ref:r,className:(0,i.cn)("text-sm text-muted-foreground",e),...a}));o.displayName="CardDescription";let c=s.forwardRef(({className:e,...a},r)=>t.jsx("div",{ref:r,className:(0,i.cn)("p-6 pt-0",e),...a}));c.displayName="CardContent",s.forwardRef(({className:e,...a},r)=>t.jsx("div",{ref:r,className:(0,i.cn)("flex items-center p-6 pt-0",e),...a})).displayName="CardFooter"},33479:(e,a,r)=>{"use strict";r.r(a),r.d(a,{default:()=>t});let t=(0,r(45347).createProxy)(String.raw`/mnt/d/cursor/aitoimage/ai-sketch-platform/app/admin/debug/page.tsx#default`)}};var a=require("../../../webpack-runtime.js");a.C(e);var r=e=>a(a.s=e),t=a.X(0,[581,625],()=>r(13002));module.exports=t})();