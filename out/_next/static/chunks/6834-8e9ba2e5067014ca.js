"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6834],{97882:function(e,t,s){s.d(t,{Z:function(){return D}});var r=s(18376),a=s(57894),l=s(73245),o=s(58755);let i=a.forwardRef((e,t)=>{let{className:s,value:a,...i}=e;return(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("div",{className:"absolute -left-2 top-1/2 transform -translate-y-1/2 w-3 h-3 bg-[#d4a574] rounded-full border-2 border-white shadow-sm"}),(0,r.jsx)("div",{className:"absolute -right-2 top-1/2 transform -translate-y-1/2 w-3 h-3 bg-[#8b7355] rounded-full border-2 border-white shadow-sm"}),(0,r.jsx)(l.fC,{ref:t,className:(0,o.cn)("relative h-4 w-full overflow-hidden rounded-full bg-[#f5f1e8] border-2 border-[#8b7355]/30 shadow-inner",s),...i,children:(0,r.jsx)(l.z$,{className:"h-full w-full flex-1 bg-gradient-to-r from-[#8b7355] via-[#d4a574] to-[#f0c674] transition-all duration-500 shadow-lg relative overflow-hidden",style:{transform:"translateX(-".concat(100-(a||0),"%)")},children:(0,r.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent transform -skew-x-12 animate-[shimmer_3s_infinite]"})})})]})});i.displayName=l.fC.displayName;var n=s(75619),d=s(84349),c=s(9978),m=s(77456),u=s(38049),x=s(98468);function b(e){let{size:t="medium",message:s="Creating magic...",showMessage:l=!0,className:o=""}=e,[i,n]=(0,a.useState)("");(0,a.useEffect)(()=>{let e=setInterval(()=>{n(e=>e.length>=3?"":e+".")},500);return()=>clearInterval(e)},[]);let d={small:{container:"w-8 h-8",sparkles:"w-4 h-4",text:"text-xs mt-1"},medium:{container:"w-12 h-12",sparkles:"w-6 h-6",text:"text-sm mt-2"},large:{container:"w-16 h-16",sparkles:"w-8 h-8",text:"text-base mt-3"}}[t];return(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center ".concat(o),children:[(0,r.jsxs)("div",{className:"relative ".concat(d.container),children:[(0,r.jsx)("div",{className:"absolute inset-0 rounded-full border-2 border-[#d4a574]/30 animate-spin"}),(0,r.jsx)("div",{className:"absolute inset-1 rounded-full border-2 border-[#8b7355]/50 animate-[spin_1.5s_linear_infinite_reverse]"}),(0,r.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,r.jsx)(m.Z,{className:"".concat(d.sparkles," text-[#8b7355] animate-pulse")})}),(0,r.jsx)("div",{className:"absolute -top-1 -right-1 w-2 h-2 bg-[#d4a574] rounded-full animate-ping"}),(0,r.jsx)("div",{className:"absolute -bottom-1 -left-1 w-1.5 h-1.5 bg-[#8b7355] rounded-full animate-ping delay-300"}),(0,r.jsx)("div",{className:"absolute top-1/2 -left-2 w-1 h-1 bg-[#f5f1e8] rounded-full animate-ping delay-700"})]}),l&&(0,r.jsxs)("div",{className:"".concat(d.text," text-[#8b7355] font-bold text-center"),style:{fontFamily:"Comic Sans MS, cursive"},children:[s,i]})]})}function h(e){let{src:t,alt:s,className:l="",objectFit:o="cover",loadingMessage:i="Loading image...",onError:n,priority:d=!1,width:c,height:m,sizes:u,style:x}=e,[h,f]=(0,a.useState)(!0),[g,p]=(0,a.useState)(!1),[v,j]=(0,a.useState)(!1);(0,a.useEffect)(()=>{f(!0),p(!1),j(!1)},[t]);let y="\n    ".concat(l,"\n    ").concat(h?"opacity-0":"opacity-100","\n    transition-opacity duration-300\n  ").trim();return(0,r.jsxs)("div",{className:"relative w-full h-full",children:[h&&!g&&(0,r.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-gradient-to-br from-[#f5f1e8] to-[#d4a574]/20",children:(0,r.jsx)(b,{size:"small",message:i,showMessage:!1})}),g&&(0,r.jsxs)("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-gradient-to-br from-[#f5f1e8] to-[#d4a574]/20 text-[#8b7355]",children:[(0,r.jsx)("div",{className:"text-2xl mb-2",children:"\uD83D\uDDBC️"}),(0,r.jsx)("div",{className:"text-sm font-bold text-center font-accent",children:"Image unavailable"})]}),!g&&(0,r.jsx)("img",{src:t,alt:s,className:y,style:{objectFit:o,width:"100%",height:"100%",...x},onLoad:()=>{console.log("✅ Image loaded successfully: ".concat(t)),f(!1),j(!0)},onError:()=>{console.error("❌ Image failed to load: ".concat(t)),f(!1),p(!0),n&&n()},loading:d?"eager":"lazy",decoding:"async",crossOrigin:"anonymous"})]})}var f=s(24645),g=s.n(f),p=s(65354),v=s(95801),j=s(8714),y=s(12513),w=s(7753),N=s(62420),C=e=>{let{onGameComplete:t,isVisible:s=!0}=e,[l,o]=(0,a.useState)(1),[i,n]=(0,a.useState)(!1),[c,m]=(0,a.useState)([]),[u,b]=(0,a.useState)(1),[h,f]=(0,a.useState)(0),[C,k]=(0,a.useState)(null),[D,S]=(0,a.useState)(!1),[F,A]=(0,a.useState)(0),[M,z]=(0,a.useState)(!0),[P,I]=(0,a.useState)([{id:1,name:"Warm Up",size:3,timeLimit:60,description:"Find numbers 1-9 in order",icon:(0,r.jsx)(j.Z,{className:"w-4 h-4"}),unlocked:!0,completed:!1},{id:2,name:"Getting Focused",size:4,timeLimit:80,description:"Find numbers 1-16 in order",icon:(0,r.jsx)(d.Z,{className:"w-4 h-4"}),unlocked:!1,completed:!1},{id:3,name:"Concentration Test",size:5,timeLimit:120,description:"Find numbers 1-25 in order",icon:(0,r.jsx)(y.Z,{className:"w-4 h-4"}),unlocked:!1,completed:!1},{id:4,name:"Master Challenge",size:6,timeLimit:180,description:"Find numbers 1-36 in order",icon:(0,r.jsx)(w.Z,{className:"w-4 h-4"}),unlocked:!1,completed:!1}]),R=()=>P.find(e=>e.id===l)||P[0],E=e=>{let t=[...e];for(let e=t.length-1;e>0;e--){let s=Math.floor(Math.random()*(e+1));[t[e],t[s]]=[t[s],t[e]]}return t},L=(0,a.useCallback)(()=>{let e=R();m(E(Array.from({length:e.size*e.size},(e,t)=>t+1)))},[l]),Z=e=>{if(i&&!D){if(e===u){let e=R();u===e.size*e.size?T():b(e=>e+1)}else{let t=document.querySelector('[data-number="'.concat(e,'"]'));t&&(t.classList.add("wrong-shake"),setTimeout(()=>{t.classList.remove("wrong-shake")},500))}}},T=()=>{C&&(clearInterval(C),k(null)),n(!1),S(!0);let e=R(),s=1e3+10*Math.max(0,e.timeLimit-h)+(h<e.timeLimit/2?500:0);A(e=>e+s),I(e=>e.map(e=>e.id===l?{...e,completed:!0,bestTime:e.bestTime?Math.min(e.bestTime,h):h}:e.id===l+1?{...e,unlocked:!0}:e)),null==t||t(s)},_=()=>{C&&(clearInterval(C),k(null)),n(!1),S(!1),b(1),f(0),L()},Y=e=>{let t=P.find(t=>t.id===e);t&&t.unlocked&&(o(e),_())};if((0,a.useEffect)(()=>{L()},[L]),!s)return null;let G=R(),B=e=>e<u,W=e=>e===u;return(0,r.jsxs)("div",{className:"jsx-b444ee11d5d0d5bf relative",children:[(0,r.jsx)(v.Zb,{className:"w-full max-w-md mx-auto bg-white border-4 border-[#2d3e2d] shadow-xl transform rotate-0.5",children:(0,r.jsxs)(v.aY,{className:"p-6 relative",children:[(0,r.jsx)("div",{className:"jsx-b444ee11d5d0d5bf absolute -top-2 -left-2 w-4 h-4 bg-[#d4a574] rounded-full border-2 border-white shadow-sm"}),(0,r.jsx)("div",{className:"jsx-b444ee11d5d0d5bf absolute -top-2 -right-2 w-4 h-4 bg-[#8b7355] rounded-full border-2 border-white shadow-sm"}),(0,r.jsxs)("div",{className:"jsx-b444ee11d5d0d5bf text-center mb-4",children:[(0,r.jsx)("h2",{style:{fontFamily:"Comic Sans MS, cursive",textShadow:"1px 1px 0px #d4a574"},className:"jsx-b444ee11d5d0d5bf text-xl font-black text-[#2d3e2d] mb-1 transform -rotate-1",children:"\uD83E\uDDE0 Mind Sharpener"}),(0,r.jsx)("p",{style:{fontFamily:"Comic Sans MS, cursive"},className:"jsx-b444ee11d5d0d5bf text-[#8b7355] font-bold",children:"Keep your brain busy while we create magic! ✨"})]}),M&&(0,r.jsxs)("div",{className:"jsx-b444ee11d5d0d5bf bg-[#f5f1e8] p-3 rounded-lg mb-4 text-xs border-2 border-[#8b7355]/30",children:[(0,r.jsx)("p",{className:"jsx-b444ee11d5d0d5bf text-[#2d3e2d] font-black mb-2",children:"\uD83D\uDCCB How to Play:"}),(0,r.jsxs)("ul",{className:"jsx-b444ee11d5d0d5bf text-[#8b7355] space-y-1 font-bold",children:[(0,r.jsxs)("li",{className:"jsx-b444ee11d5d0d5bf",children:["• Click numbers in order from 1 to ",G.size*G.size]}),(0,r.jsx)("li",{className:"jsx-b444ee11d5d0d5bf",children:"• Complete levels to unlock harder challenges"}),(0,r.jsx)("li",{className:"jsx-b444ee11d5d0d5bf",children:"• Faster completion = higher score!"})]})]}),(0,r.jsxs)("div",{className:"jsx-b444ee11d5d0d5bf mb-4",children:[(0,r.jsx)("p",{className:"jsx-b444ee11d5d0d5bf text-sm font-black text-[#2d3e2d] mb-2",children:"Choose Your Challenge:"}),(0,r.jsx)("div",{className:"jsx-b444ee11d5d0d5bf grid grid-cols-2 gap-2",children:P.map(e=>(0,r.jsxs)("button",{onClick:()=>Y(e.id),disabled:!e.unlocked,style:{fontFamily:"Comic Sans MS, cursive"},className:"jsx-b444ee11d5d0d5bf "+"p-2 rounded-lg text-xs font-black transition-all transform hover:scale-105 ".concat(e.id===l?"bg-[#d4a574] text-[#2d3e2d] shadow-lg scale-105 border-2 border-[#2d3e2d]":e.unlocked?"bg-white text-[#2d3e2d] hover:bg-[#f5f1e8] border-2 border-[#8b7355]":"bg-[#8b7355]/30 text-[#8b7355] cursor-not-allowed border-2 border-[#8b7355]/50"),children:[(0,r.jsxs)("div",{className:"jsx-b444ee11d5d0d5bf flex items-center justify-center gap-1 mb-1",children:[e.icon,(0,r.jsx)("span",{className:"jsx-b444ee11d5d0d5bf",children:e.name}),e.completed&&(0,r.jsx)(w.Z,{className:"w-3 h-3 text-yellow-500"})]}),(0,r.jsxs)("div",{className:"jsx-b444ee11d5d0d5bf text-xs opacity-75",children:[e.size,"\xd7",e.size," grid"]})]},e.id))})]}),(0,r.jsxs)("div",{className:"jsx-b444ee11d5d0d5bf flex justify-between items-center mb-3 bg-[#f5f1e8] p-2 rounded-lg border-2 border-[#8b7355]/30",children:[(0,r.jsxs)("div",{className:"jsx-b444ee11d5d0d5bf flex items-center gap-1 text-sm font-black text-[#2d3e2d]",children:[(0,r.jsx)(j.Z,{className:"w-4 h-4"}),(0,r.jsxs)("span",{className:"jsx-b444ee11d5d0d5bf",children:["Next: ",u]})]}),(0,r.jsxs)("div",{className:"jsx-b444ee11d5d0d5bf flex items-center gap-1 text-sm font-black text-[#2d3e2d]",children:[(0,r.jsx)(x.Z,{className:"w-4 h-4"}),(0,r.jsxs)("span",{className:"jsx-b444ee11d5d0d5bf",children:[h,"s"]})]}),(0,r.jsxs)("div",{className:"jsx-b444ee11d5d0d5bf flex items-center gap-1 text-sm font-black text-[#2d3e2d]",children:[(0,r.jsx)(y.Z,{className:"w-4 h-4"}),(0,r.jsx)("span",{className:"jsx-b444ee11d5d0d5bf",children:F})]})]}),(0,r.jsx)("div",{style:{gridTemplateColumns:"repeat(".concat(G.size,", 1fr)"),aspectRatio:"1"},className:"jsx-b444ee11d5d0d5bf grid gap-1 mb-4",children:c.map((e,t)=>(0,r.jsx)("button",{"data-number":e,onClick:()=>Z(e),disabled:!i||D,style:{fontFamily:"Comic Sans MS, cursive"},className:"jsx-b444ee11d5d0d5bf "+"\n                aspect-square flex items-center justify-center font-black text-sm rounded-md transition-all duration-200 transform hover:scale-105 border-2\n                ".concat(B(e)?"bg-[#4a5a4a] text-white shadow-md border-[#2d3e2d]":W(e)?"bg-[#d4a574] text-[#2d3e2d] shadow-lg ring-2 ring-[#d4a574] animate-pulse border-[#2d3e2d]":"bg-white text-[#2d3e2d] hover:bg-[#f5f1e8] border-[#8b7355]","\n                ").concat(!i||D?"cursor-not-allowed opacity-50":"cursor-pointer","\n              "),children:e},t))}),(0,r.jsx)("div",{className:"jsx-b444ee11d5d0d5bf flex gap-2",children:i?(0,r.jsxs)(p.z,{onClick:_,variant:"outline",className:"flex-1 border-2 border-[#8b7355] text-[#8b7355] hover:bg-[#8b7355] hover:text-white font-black py-2 px-4 rounded-lg transform hover:scale-105 transition-all",style:{fontFamily:"Comic Sans MS, cursive"},children:[(0,r.jsx)(N.Z,{className:"w-4 h-4 mr-2"}),"Reset"]}):(0,r.jsxs)(p.z,{onClick:()=>{L(),n(!0),b(1),f(0),S(!1),z(!1),k(setInterval(()=>{f(e=>e+1)},1e3))},className:"flex-1 bg-[#d4a574] hover:bg-[#c19660] text-[#2d3e2d] font-black py-2 px-4 rounded-lg transform hover:scale-105 transition-all border-2 border-[#2d3e2d] shadow-lg",style:{fontFamily:"Comic Sans MS, cursive"},children:[(0,r.jsx)(d.Z,{className:"w-4 h-4 mr-2"}),"Start Level ",l,"!"]})}),D&&(0,r.jsxs)("div",{className:"jsx-b444ee11d5d0d5bf mt-4 p-3 bg-[#f5f1e8] rounded-lg text-center border-2 border-[#d4a574] relative",children:[(0,r.jsx)("div",{className:"jsx-b444ee11d5d0d5bf absolute -top-1 -right-1 w-3 h-3 bg-[#d4a574] rounded-full"}),(0,r.jsxs)("p",{style:{fontFamily:"Comic Sans MS, cursive"},className:"jsx-b444ee11d5d0d5bf text-[#2d3e2d] font-black mb-1",children:["\uD83C\uDF89 Level ",l," Complete!"]}),(0,r.jsxs)("p",{className:"jsx-b444ee11d5d0d5bf text-sm text-[#8b7355] font-bold",children:["Time: ",h,"s | Score: +",1e3+10*Math.max(0,G.timeLimit-h)]}),l<P.length&&P[l].unlocked&&(0,r.jsx)(p.z,{onClick:()=>Y(l+1),className:"mt-2 bg-[#4a5a4a] hover:bg-[#2d3e2d] text-white text-sm py-1 px-3 rounded font-black border-2 border-[#2d3e2d] transform hover:scale-105 transition-all",style:{fontFamily:"Comic Sans MS, cursive"},children:"Next Level! \uD83D\uDE80"})]})]})}),(0,r.jsx)(g(),{id:"b444ee11d5d0d5bf",children:"@-webkit-keyframes shake{0%,100%{-webkit-transform:translatex(0);transform:translatex(0)}25%{-webkit-transform:translatex(-2px);transform:translatex(-2px)}75%{-webkit-transform:translatex(2px);transform:translatex(2px)}}@-moz-keyframes shake{0%,100%{-moz-transform:translatex(0);transform:translatex(0)}25%{-moz-transform:translatex(-2px);transform:translatex(-2px)}75%{-moz-transform:translatex(2px);transform:translatex(2px)}}@-o-keyframes shake{0%,100%{-o-transform:translatex(0);transform:translatex(0)}25%{-o-transform:translatex(-2px);transform:translatex(-2px)}75%{-o-transform:translatex(2px);transform:translatex(2px)}}@keyframes shake{0%,100%{-webkit-transform:translatex(0);-moz-transform:translatex(0);-o-transform:translatex(0);transform:translatex(0)}25%{-webkit-transform:translatex(-2px);-moz-transform:translatex(-2px);-o-transform:translatex(-2px);transform:translatex(-2px)}75%{-webkit-transform:translatex(2px);-moz-transform:translatex(2px);-o-transform:translatex(2px);transform:translatex(2px)}}.wrong-shake{-webkit-animation:shake.5s ease-in-out;-moz-animation:shake.5s ease-in-out;-o-animation:shake.5s ease-in-out;animation:shake.5s ease-in-out;background-color:#ef4444!important;color:white!important}"})]})};let k=[{name:"Preparing",range:[0,10],icon:n.Z,tip:"Preparing your creative request...",emoji:"\uD83D\uDD0D",color:"#8b7355"},{name:"Connecting",range:[10,20],icon:d.Z,tip:"Connecting to AI magic factory...",emoji:"\uD83D\uDE80",color:"#d4a574"},{name:"Creating",range:[20,85],icon:c.Z,tip:"AI is painting your masterpiece...",emoji:"\uD83C\uDFA8",color:"#2d3e2d"},{name:"Polishing",range:[85,95],icon:m.Z,tip:"Adding final magic touches...",emoji:"✨",color:"#8b7355"},{name:"Complete!",range:[95,100],icon:u.Z,tip:"Your masterpiece is born!",emoji:"\uD83C\uDF89",color:"#2d3e2d"}];function D(e){let{progress:t,generatedImages:s,selectedStyleId:l,isGenerationFailed:o,generationError:n,onClearError:d}=e,[c,m]=(0,a.useState)(null),[b,f]=(0,a.useState)([]),[g,p]=(0,a.useState)(!1),[v,j]=(0,a.useState)(!1),[y,w]=(0,a.useState)(!1),[N,D]=(0,a.useState)(!1),[S,F]=(0,a.useState)(!1);if((0,a.useEffect)(()=>{(async()=>{if(console.log("\uD83C\uDFA8 [RenderProgress] Starting fetchStyleData, selectedStyleId:",l),!l){console.log("\uD83C\uDFA8 [RenderProgress] No selectedStyleId, using default preview images"),f([{url:"/api/placeholder/200/200",style:"Miniature Style",prompt:"cute diorama scene"},{url:"/api/placeholder/200/200",style:"Chibi Art",prompt:"kawaii character design"},{url:"/api/placeholder/200/200",style:"Tilt-shift Effect",prompt:"aerial miniature world"},{url:"/api/placeholder/200/200",style:"Vibrant Colors",prompt:"colorful artistic scene"}]);return}try{var e;p(!0),console.log("\uD83C\uDFA8 [RenderProgress] Loading style data...");let t=await fetch("/api/styles"),s=await t.json();console.log("\uD83C\uDFA8 [RenderProgress] Style API response:",s);let r=null===(e=s.styles)||void 0===e?void 0:e.find(e=>e.id===l);if(console.log("\uD83C\uDFA8 [RenderProgress] Selected style found:",r),r){m(r);let e="/api/gallery/public?style=".concat(encodeURIComponent(r.name),"&limit=4&optimize=true");console.log("\uD83C\uDFA8 [RenderProgress] Fetching gallery images from:",e),console.log("\uD83C\uDFA8 [RenderProgress] Selected style name:",r.name);let t=await fetch(e),s=await t.json();if(console.log("\uD83C\uDFA8 [RenderProgress] Gallery API response:",s),console.log("\uD83C\uDFA8 [RenderProgress] Gallery API response type:",typeof s),console.log("\uD83C\uDFA8 [RenderProgress] Gallery API response keys:",Object.keys(s)),s.images&&s.images.length>0){console.log("\uD83C\uDFA8 [RenderProgress] Found ".concat(s.images.length," style-matching images"));let e=s.images.sort(()=>.5-Math.random()).slice(0,4).map(e=>({url:e.url,style:r.name,prompt:e.prompt||"Creative artwork",id:e.id}));console.log("\uD83C\uDFA8 [RenderProgress] Selected preview images:",e),f(e)}else{console.log("\uD83C\uDFA8 [RenderProgress] No matching style images found, trying to get any gallery images as fallback");try{let e=await fetch("/api/gallery/public?limit=4&optimize=true"),t=await e.json();if(console.log("\uD83C\uDFA8 [RenderProgress] Fallback gallery response:",t),t.images&&t.images.length>0){console.log("\uD83C\uDFA8 [RenderProgress] Using fallback gallery images");let e=t.images.slice(0,4).map(e=>({url:e.url,style:e.style||r.name,prompt:e.prompt||"Gallery artwork",id:e.id}));f(e)}else console.log("\uD83C\uDFA8 [RenderProgress] No gallery images available, using placeholder images"),f([{url:r.image_url||"/api/placeholder/200/200",style:r.name,prompt:r.description||"Creative artwork"},{url:"/api/placeholder/200/200",style:r.name,prompt:r.description||"Creative artwork"},{url:"/api/placeholder/200/200",style:r.name,prompt:r.description||"Creative artwork"},{url:"/api/placeholder/200/200",style:r.name,prompt:r.description||"Creative artwork"}])}catch(e){console.error("\uD83C\uDFA8 [RenderProgress] Error fetching fallback images:",e),f([{url:r.image_url||"/api/placeholder/200/200",style:r.name,prompt:r.description||"Creative artwork"},{url:"/api/placeholder/200/200",style:r.name,prompt:r.description||"Creative artwork"},{url:"/api/placeholder/200/200",style:r.name,prompt:r.description||"Creative artwork"},{url:"/api/placeholder/200/200",style:r.name,prompt:r.description||"Creative artwork"}])}}}else console.log("\uD83C\uDFA8 [RenderProgress] Selected style not found in styles list")}catch(e){console.error("\uD83C\uDFA8 [RenderProgress] Error fetching style data:",e),f([{url:"/api/placeholder/200/200",style:"Creative Art",prompt:"Amazing artwork"},{url:"/api/placeholder/200/200",style:"Creative Art",prompt:"Beautiful creation"},{url:"/api/placeholder/200/200",style:"Creative Art",prompt:"Stunning design"},{url:"/api/placeholder/200/200",style:"Creative Art",prompt:"Artistic masterpiece"}])}finally{p(!1),console.log("\uD83C\uDFA8 [RenderProgress] Finished loading style data")}})()},[l]),(0,a.useEffect)(()=>{0===t&&(console.log("\uD83C\uDFAE Resetting game reminder states - new generation started"),w(!1),D(!1),F(!1))},[t]),(0,a.useEffect)(()=>{if(t>0&&t<95&&!N&&!S){console.log("\uD83C\uDFAE Starting game reminder timer - 1 second from now"),F(!0);let e=setTimeout(()=>{console.log("\uD83C\uDFAE Showing game reminder after 1 second"),w(!0)},1e3);return()=>clearTimeout(e)}},[t,N,S]),console.log("\uD83D\uDC1B RenderProgress props:",{progress:t,isGenerationFailed:o,generationError:n,hasGeneratedImages:(null==s?void 0:s.length)||0,showGameReminder:y,gameReminderDismissed:N,gameTimerStarted:S}),o&&n)return console.log("\uD83D\uDC1B Showing error interface for:",n),(0,r.jsxs)("div",{className:"w-full max-w-3xl mx-auto p-8 space-y-8",children:[(0,r.jsxs)("div",{className:"text-center space-y-4",children:[(0,r.jsx)("div",{className:"text-6xl animate-pulse",children:"❌"}),(0,r.jsx)("h2",{className:"text-3xl font-bold text-red-600",style:{fontFamily:"Comic Sans MS, cursive"},children:"Oops! Generation Failed"}),(0,r.jsx)("p",{className:"text-lg text-gray-600",children:"Something went wrong during the creation process"})]}),(0,r.jsxs)("div",{className:"bg-red-50 rounded-2xl p-6 border-2 border-red-200 transform rotate-0.5 hover:-rotate-0.5 transition-all duration-300 relative",children:[(0,r.jsx)("div",{className:"absolute -top-2 -left-2 w-4 h-4 bg-red-400 rounded-full border-2 border-white shadow-sm"}),(0,r.jsx)("div",{className:"absolute -top-2 -right-2 w-4 h-4 bg-red-600 rounded-full border-2 border-white shadow-sm"}),(0,r.jsxs)("div",{className:"flex items-start gap-4",children:[(0,r.jsx)("div",{className:"p-3 rounded-full bg-red-100 text-red-600 text-2xl shadow-lg flex-shrink-0",children:"\uD83D\uDEA8"}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("h3",{className:"text-xl font-bold text-red-700 mb-2",style:{fontFamily:"Comic Sans MS, cursive"},children:"Error Details"}),(0,r.jsx)("div",{className:"bg-white rounded-lg p-4 border border-red-200",children:(0,r.jsx)("p",{className:"text-red-800 font-medium break-words",children:n.includes("polling timeout")||n.includes("polling failed")?"⏱️ The AI service is taking longer than expected to respond. This usually means the servers are busy. Please try again in a few moments.":n.includes("KIE.AI image generation started")?"\uD83D\uDD04 Your image generation has started but we lost connection with the server. Your image may still be processing. Please wait a few minutes and try generating again.":n})})]})]})]}),(0,r.jsxs)("div",{className:"bg-blue-50 rounded-2xl p-6 border-2 border-blue-200 transform -rotate-0.5 hover:rotate-0.5 transition-all duration-300 relative",children:[(0,r.jsx)("div",{className:"absolute -top-2 -left-2 w-4 h-4 bg-blue-400 rounded-full border-2 border-white shadow-sm"}),(0,r.jsx)("div",{className:"absolute -bottom-2 -right-2 w-4 h-4 bg-blue-600 rounded-full border-2 border-white shadow-sm"}),(0,r.jsx)("h3",{className:"text-xl font-bold text-blue-700 mb-4 text-center",style:{fontFamily:"Comic Sans MS, cursive"},children:"\uD83D\uDCA1 What you can try:"}),(0,r.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"bg-white rounded-lg p-4 border border-blue-200",children:[(0,r.jsx)("div",{className:"text-blue-600 text-lg mb-2",children:"\uD83D\uDD27 Technical Issues"}),(0,r.jsxs)("ul",{className:"text-sm text-blue-800 space-y-1",children:[(0,r.jsx)("li",{children:"• Check your internet connection"}),(0,r.jsx)("li",{children:"• Try refreshing the page"}),(0,r.jsx)("li",{children:"• Wait a moment and try again"})]})]}),(0,r.jsxs)("div",{className:"bg-white rounded-lg p-4 border border-blue-200",children:[(0,r.jsx)("div",{className:"text-blue-600 text-lg mb-2",children:"✏️ Prompt Issues"}),(0,r.jsxs)("ul",{className:"text-sm text-blue-800 space-y-1",children:[(0,r.jsx)("li",{children:"• Simplify your description"}),(0,r.jsx)("li",{children:"• Try different keywords"}),(0,r.jsx)("li",{children:"• Choose a different style"})]})]})]})]}),(0,r.jsx)("div",{className:"text-center",children:(0,r.jsxs)("button",{onClick:d,className:"group relative inline-flex items-center justify-center w-32 h-32 bg-gradient-to-br from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 rounded-full shadow-2xl transform hover:scale-105 transition-all duration-300 border-4 border-white",style:{fontFamily:"Comic Sans MS, cursive"},children:[(0,r.jsx)("div",{className:"absolute inset-2 rounded-full border-2 border-white/30 animate-pulse"}),(0,r.jsx)("div",{className:"text-white text-6xl font-black group-hover:rotate-90 transition-transform duration-300",children:"✕"}),(0,r.jsxs)("div",{className:"absolute -bottom-16 left-1/2 transform -translate-x-1/2 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:[(0,r.jsx)("div",{className:"bg-gray-800 text-white px-4 py-2 rounded-lg text-sm font-bold whitespace-nowrap",children:"Click to try again! \uD83D\uDD04"}),(0,r.jsx)("div",{className:"w-0 h-0 border-l-4 border-r-4 border-b-4 border-transparent border-b-gray-800 mx-auto"})]})]})}),(0,r.jsx)("div",{className:"text-center p-4 bg-gradient-to-r from-gray-100 to-gray-200 rounded-xl border border-gray-300",children:(0,r.jsxs)("p",{className:"text-gray-700 font-medium",style:{fontFamily:"Comic Sans MS, cursive"},children:["Don't worry! Even the best AI artists have creative blocks sometimes.",(0,r.jsx)("br",{}),(0,r.jsx)("span",{className:"text-blue-600 font-bold",children:"Click the X above to return and try again! \uD83C\uDFA8"})]})})]});if(t>=100&&s&&s.length>0)return(0,r.jsx)("div",{className:"w-full max-w-4xl mx-auto p-8 space-y-6",children:(0,r.jsxs)("div",{className:"text-center space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-center gap-2 text-2xl font-bold text-[#2d3e2d]",children:[(0,r.jsx)(u.Z,{className:"w-8 h-8 text-green-500"}),"Generation Complete!"]}),(0,r.jsx)("p",{className:"text-gray-600 text-lg",children:"Your AI artwork has been created"})]})});let A=k.find(e=>t>=e.range[0]&&t<=e.range[1])||k[0],M=Math.max(0,Math.min(100,(t-A.range[0])/(A.range[1]-A.range[0])*100)),z=Math.max(0,Math.round((100-t)*.8));return(0,r.jsxs)("div",{className:"w-full max-w-3xl mx-auto p-8 space-y-8",children:[(0,r.jsxs)("div",{className:"text-center space-y-3",children:[(0,r.jsx)("h2",{className:"text-3xl font-bold text-[#2d3e2d]",style:{fontFamily:"Comic Sans MS, cursive"},children:"\uD83C\uDFA8 AI is Creating Your Artwork"}),(0,r.jsx)("p",{className:"text-lg text-gray-600",children:"Please wait, magic is happening..."})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsxs)("span",{className:"text-xl font-semibold text-[#2d3e2d]",children:["Progress: ",Math.round(t),"%"]}),(0,r.jsxs)("span",{className:"text-sm text-[#8b7355] font-bold flex items-center gap-1",style:{fontFamily:"Comic Sans MS, cursive"},children:[(0,r.jsx)(x.Z,{className:"w-4 h-4"}),"Est. ",z,"s remaining"]})]}),(0,r.jsx)("div",{className:"relative transform -rotate-0.5 hover:rotate-0.5 transition-all duration-300",children:(0,r.jsx)(i,{value:t,className:"h-4"})})]}),(0,r.jsxs)("div",{className:"bg-white rounded-2xl p-6 shadow-lg border-2 border-[#8b7355]/20 transform rotate-0.5 hover:-rotate-0.5 transition-all duration-300 relative",children:[(0,r.jsx)("div",{className:"absolute -top-2 -left-2 w-4 h-4 bg-[#d4a574] rounded-full border-2 border-white shadow-sm"}),(0,r.jsx)("div",{className:"absolute -top-2 -right-2 w-4 h-4 bg-[#8b7355] rounded-full border-2 border-white shadow-sm"}),(0,r.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,r.jsx)("div",{className:"p-3 rounded-full text-white text-2xl shadow-lg",style:{backgroundColor:A.color},children:A.emoji}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("h3",{className:"text-xl font-bold text-[#2d3e2d] mb-1",children:A.name}),(0,r.jsx)("p",{className:"text-[#8b7355] font-bold",style:{fontFamily:"Comic Sans MS, cursive"},children:A.tip})]}),(0,r.jsxs)("div",{className:"text-2xl font-bold text-[#2d3e2d]",children:[Math.round(M),"%"]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("div",{className:"text-sm text-[#8b7355] font-bold",style:{fontFamily:"Comic Sans MS, cursive"},children:"Current Stage Progress"}),(0,r.jsx)("div",{className:"transform rotate-0.5 hover:-rotate-0.5 transition-all duration-300",children:(0,r.jsx)(i,{value:M,className:"h-3"})})]})]}),(0,r.jsx)("div",{className:"flex justify-between items-center py-4",children:k.map((e,s)=>{let a=t>e.range[1],l=t>=e.range[0]&&t<=e.range[1],o=e.icon;return(0,r.jsxs)("div",{className:"flex flex-col items-center space-y-2 flex-1",children:[(0,r.jsx)("div",{className:"\n                  w-12 h-12 rounded-full flex items-center justify-center transition-all duration-300\n                  ".concat(a?"bg-[#4a5a4a] text-white shadow-lg":l?"bg-[#d4a574] text-white shadow-lg animate-pulse":"bg-[#f5f1e8] border-2 border-[#8b7355]/30 text-[#8b7355]","\n                "),children:a?(0,r.jsx)(u.Z,{className:"w-6 h-6"}):(0,r.jsx)(o,{className:"w-6 h-6"})}),(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"text-sm font-bold ".concat(l?"text-[#2d3e2d]":"text-[#8b7355]"),style:{fontFamily:"Comic Sans MS, cursive"},children:e.name}),l&&(0,r.jsx)("div",{className:"text-xs text-[#8b7355] mt-1",children:"In Progress..."})]})]},s)})}),(0,r.jsxs)("div",{className:"text-center p-4 bg-gradient-to-r from-[#8b7355]/10 to-[#d4a574]/10 rounded-xl transform rotate-0.5 hover:-rotate-0.5 transition-all duration-300 relative border border-[#8b7355]/20",children:[(0,r.jsx)("div",{className:"absolute -top-1 left-2 w-2 h-2 bg-[#d4a574] rounded-full"}),(0,r.jsx)("div",{className:"absolute -bottom-1 right-2 w-2 h-2 bg-[#8b7355] rounded-full"}),(0,r.jsx)("div",{className:"text-[#2d3e2d] font-medium",children:t<20?"\uD83D\uDD2E Analyzing your creative vision...":t<50?"\uD83C\uDFA8 AI artist is painting with creativity...":t<80?"✨ Adding beautiful details...":t<95?"\uD83C\uDFAF Applying final touches...":"\uD83C\uDF89 Your masterpiece is almost ready!"})]}),v&&(0,r.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:(0,r.jsxs)("div",{className:"relative max-w-lg w-full max-h-[90vh] overflow-y-auto",children:[(0,r.jsx)("button",{onClick:()=>j(!1),className:"absolute top-2 right-2 z-10 w-8 h-8 bg-red-500 hover:bg-red-600 text-white rounded-full flex items-center justify-center font-bold transition-all duration-200 shadow-lg transform hover:scale-110",style:{fontFamily:"Comic Sans MS, cursive"},children:"✕"}),(0,r.jsx)(C,{onGameComplete:e=>{console.log("\uD83C\uDF89 Game completed with score:",e)},isVisible:!0})]})}),t<100&&c&&b.length>0&&b.some(e=>e.url&&!e.url.includes("placeholder"))&&(0,r.jsxs)("div",{className:"bg-gradient-to-r from-[#f5f1e8] to-[#d4a574]/20 rounded-2xl p-6 border-2 border-[#8b7355]/30 transform -rotate-0.5 hover:rotate-0.5 transition-all duration-300 relative",children:[(0,r.jsx)("div",{className:"absolute -top-3 left-4 w-5 h-5 bg-[#d4a574] rounded-full border-2 border-white shadow-sm"}),(0,r.jsx)("div",{className:"absolute -bottom-3 right-4 w-5 h-5 bg-[#8b7355] rounded-full border-2 border-white shadow-sm"}),(0,r.jsxs)("div",{className:"text-center mb-4",children:[(0,r.jsxs)("h3",{className:"text-xl font-bold text-[#2d3e2d] mb-2",style:{fontFamily:"Comic Sans MS, cursive"},children:["✨ You're getting 【",c.name,"】 style!"]}),(0,r.jsx)("div",{className:"text-[#8b7355] font-medium",style:{fontFamily:"Comic Sans MS, cursive"},children:t<30?"\uD83C\uDFAF AI is understanding your vision, preparing to paint...":t<60?"\uD83C\uDFA8 Artist is mixing perfect colors on the palette...":t<90?"✨ Adding details to bring your artwork to life...":"\uD83C\uDF89 Almost done! Your masterpiece is ready!"})]}),(0,r.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:b.filter(e=>e.url&&!e.url.includes("placeholder")).map((e,t)=>(0,r.jsxs)("div",{className:"bg-white rounded-xl p-3 shadow-lg border-2 border-[#8b7355]/20 transform hover:scale-105 transition-all cursor-pointer hover:shadow-xl",onClick:()=>{e.id?window.open("/gallery/".concat(e.id),"_blank"):window.open("/gallery?style=".concat(encodeURIComponent(e.style.toLowerCase().replace(/\s+/g,"-"))),"_blank")},children:[(0,r.jsxs)("div",{className:"aspect-square bg-gradient-to-br from-[#d4a574]/30 to-[#8b7355]/30 rounded-lg mb-2 flex items-center justify-center relative overflow-hidden",children:[(0,r.jsx)(h,{src:e.url,alt:e.style,className:"w-full h-full rounded-lg",objectFit:"cover",loadingMessage:"Loading style...",onError:()=>{let e=document.querySelector("[data-image-card]");e&&(e.style.display="none")}}),(0,r.jsx)("div",{className:"absolute inset-0 bg-black/0 hover:bg-black/10 transition-all duration-300 flex items-center justify-center",children:(0,r.jsx)("div",{className:"opacity-0 hover:opacity-100 transition-opacity duration-300 bg-white/90 rounded-full p-2",children:(0,r.jsx)("svg",{className:"w-4 h-4 text-gray-800",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})})})]}),(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("p",{className:"text-xs font-bold text-[#2d3e2d] mb-1",style:{fontFamily:"Comic Sans MS, cursive"},children:e.style}),(0,r.jsx)("p",{className:"text-xs text-[#8b7355]",style:{fontFamily:"Comic Sans MS, cursive"},children:"Click to explore"})]})]},t))}),(0,r.jsx)("div",{className:"text-center mt-4 p-3 bg-white/80 rounded-xl border border-[#8b7355]/20",children:(0,r.jsxs)("p",{className:"text-sm text-[#2d3e2d] font-bold",style:{fontFamily:"Comic Sans MS, cursive"},children:["\uD83D\uDCA1 ",(0,r.jsx)("strong",{children:"Tip"}),": Your artwork will feature 【",c.name,"】 style, ",c.description||"showcasing unique charm","!"]})})]}),t>=100&&s&&s.length>0&&(0,r.jsx)("div",{className:"\n          grid gap-4 \n          ".concat(1===s.length?"grid-cols-1 max-w-md mx-auto":"","\n          ").concat(2===s.length?"grid-cols-1 md:grid-cols-2":"","\n          ").concat(s.length>=4?"grid-cols-2":"","\n        "),children:s.map((e,t)=>(0,r.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden border-2 border-[#8b7355]/20 cursor-pointer transform hover:scale-105 transition-all duration-300",onClick:()=>{window.open(e.url,"_blank")},children:[(0,r.jsxs)("div",{className:"\n                relative w-full \n                ".concat(1===s.length?"h-80 md:h-96":"h-48 md:h-64","\n              "),children:[(0,r.jsx)(h,{src:e.url,alt:"Generated image ".concat(t+1),className:"w-full h-full bg-gray-50",objectFit:"cover",loadingMessage:"Loading masterpiece...",priority:!0}),(0,r.jsx)("div",{className:"absolute inset-0 bg-black/0 hover:bg-black/10 transition-all duration-300 flex items-center justify-center",children:(0,r.jsx)("div",{className:"opacity-0 hover:opacity-100 transition-opacity duration-300 bg-white/90 rounded-full p-3",children:(0,r.jsx)("svg",{className:"w-6 h-6 text-gray-800",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM10 7v3m0 0v3m0-3h3m-3 0H7"})})})})]}),(0,r.jsxs)("div",{className:"p-3",children:[(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsxs)("p",{className:"text-sm font-bold text-[#2d3e2d] mb-1",style:{fontFamily:"Comic Sans MS, cursive"},children:["Image ",t+1]}),(0,r.jsx)("p",{className:"text-xs text-[#8b7355]",style:{fontFamily:"Comic Sans MS, cursive"},children:"Click to view"})]}),e.revised_prompt&&(0,r.jsx)("div",{className:"mt-2 pt-2 border-t border-gray-200",children:(0,r.jsxs)("p",{className:"text-xs text-gray-600 overflow-hidden",style:{display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical"},children:[(0,r.jsx)("strong",{children:"Prompt:"})," ",e.revised_prompt]})})]})]},t))}),y&&!N&&t<95&&(0,r.jsx)("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm z-40 flex items-center justify-center p-4",children:(0,r.jsxs)("div",{className:"bg-white rounded-2xl p-6 shadow-2xl border-4 border-[#2d3e2d] transform scale-100 animate-in zoom-in-50 duration-300 relative overflow-hidden max-w-sm w-full",children:[(0,r.jsx)("div",{className:"absolute -top-2 -right-2 w-4 h-4 bg-[#d4a574] rounded-full border-2 border-white"}),(0,r.jsx)("div",{className:"absolute -bottom-1 -left-1 w-3 h-3 bg-[#8b7355] rounded-full border-2 border-white"}),(0,r.jsx)("button",{onClick:()=>{console.log("\uD83C\uDFAE User dismissed game reminder"),w(!1),D(!0)},className:"absolute top-2 right-2 w-6 h-6 bg-[#8b7355] hover:bg-[#2d3e2d] text-white rounded-full flex items-center justify-center text-xs font-black transition-all duration-200 transform hover:scale-110",style:{fontFamily:"Comic Sans MS, cursive"},children:"✕"}),(0,r.jsxs)("div",{className:"text-center pr-6",children:[(0,r.jsx)("div",{className:"text-3xl animate-bounce mb-3",children:"\uD83E\uDDE0"}),(0,r.jsx)("h4",{className:"text-lg font-black text-[#2d3e2d] mb-2 transform -rotate-1",style:{fontFamily:"Comic Sans MS, cursive",textShadow:"1px 1px 0px #d4a574"},children:"Feeling Bored While Waiting?"}),(0,r.jsx)("p",{className:"text-sm text-[#8b7355] font-bold mb-4",style:{fontFamily:"Comic Sans MS, cursive"},children:"Try our fun brain training game to pass the time! \uD83C\uDFAE✨"}),(0,r.jsxs)("div",{className:"flex gap-3",children:[(0,r.jsx)("button",{onClick:()=>{j(!0),w(!1)},className:"bg-[#d4a574] hover:bg-[#c19660] text-[#2d3e2d] font-black px-4 py-3 rounded-xl text-sm transition-all transform hover:scale-105 shadow-lg border-2 border-[#2d3e2d] flex-1",style:{fontFamily:"Comic Sans MS, cursive"},children:"\uD83C\uDFAF Play Now!"}),(0,r.jsx)("button",{onClick:()=>{w(!1),D(!0)},className:"bg-white hover:bg-[#f5f1e8] text-[#8b7355] font-black px-4 py-3 rounded-xl text-sm transition-all transform hover:scale-105 border-2 border-[#8b7355] flex-1",style:{fontFamily:"Comic Sans MS, cursive"},children:"No Thanks"})]})]})]})})]})}},91431:function(e,t,s){s.d(t,{Qd:function(){return d},UQ:function(){return n},o4:function(){return c},vF:function(){return m}});var r=s(18376),a=s(57894),l=s(99754),o=s(96889),i=s(58755);let n=l.fC,d=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(l.ck,{ref:t,className:(0,i.cn)("border-b",s),...a})});d.displayName="AccordionItem";let c=a.forwardRef((e,t)=>{let{className:s,children:a,...n}=e;return(0,r.jsx)(l.h4,{className:"flex",children:(0,r.jsxs)(l.xz,{ref:t,className:(0,i.cn)("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",s),...n,children:[a,(0,r.jsx)(o.Z,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})})});c.displayName=l.xz.displayName;let m=a.forwardRef((e,t)=>{let{className:s,children:a,...o}=e;return(0,r.jsx)(l.VY,{ref:t,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...o,children:(0,r.jsx)("div",{className:(0,i.cn)("pb-4 pt-0",s),children:a})})});m.displayName=l.VY.displayName},31554:function(e,t,s){s.d(t,{I:function(){return o}});var r=s(18376),a=s(57894),l=s(58755);let o=a.forwardRef((e,t)=>{let{className:s,type:a,...o}=e;return(0,r.jsx)("input",{type:a,className:(0,l.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:t,...o})});o.displayName="Input"}}]);