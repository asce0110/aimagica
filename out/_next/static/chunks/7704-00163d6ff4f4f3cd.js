"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7704],{17704:function(e,t,s){s.d(t,{Z:function(){return W}});var a=s(57437),r=s(2265),l=s(62869),o=s(76818),i=s(26815),n=s(92369),d=s(47737),c=s(85929),m=s(97226),u=s(11239),x=s(61094),h=s(33388),f=s(75277),b=s(53113),g=s(29374),p=s(4554),v=s(32489),y=s(72470),w=s(41671),j=s(66070),N=s(12339),S=s(26110),C=s(82023),D=s(98617),k=s(41473),F=s(66337);function M(e){var t,s,o,i;let{onStyleSelect:n,selectedStyleId:d}=e,[c,m]=(0,r.useState)(d||null),[u,x]=(0,r.useState)([]),[h,f]=(0,r.useState)(!0),[b,g]=(0,r.useState)(null),[p,v]=(0,r.useState)("standard"),[y,w]=(0,r.useState)(!1),[M,A]=(0,r.useState)(!1),[R]=(0,r.useState)(10),Z=e=>"",E=async()=>{try{f(!0),g(null),console.log("\uD83C\uDFA8 Loading styles...");let t=await fetch("/api/styles?type=image");if(console.log("\uD83D\uDCE1 API Response status:",t.status),t.ok){var e;let s=await t.json();console.log("\uD83D\uDCCA API Response data:",s),x(s.styles||[]),console.log("✅ Styles loaded:",(null===(e=s.styles)||void 0===e?void 0:e.length)||0)}else{let e=await t.text();console.error("❌ API Error:",t.status,e),g("Failed to load styles: ".concat(t.status))}}catch(e){console.error("❌ Network Error:",e),g("Network error occurred")}finally{f(!1)}};(0,r.useEffect)(()=>{w(!0),E()},[]),(0,r.useEffect)(()=>{console.log("\uD83C\uDFA8 StyleSelector: selectedStyleId prop changed:",d),m(d||null)},[d]);let I=(e,t,s)=>{m(e),null==n||n(e,t,s),A(!1)},L=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=Z(e);return(0,a.jsxs)(j.Zb,{className:"cursor-pointer transition-all duration-200 border-2 md:border-3 ".concat(c===e.id?"border-[#2d3e2d] bg-[#d4a574] transform scale-105 rotate-1":"border-[#8b7355] bg-white hover:border-[#2d3e2d] hover:bg-[#f5f1e8] transform hover:scale-105"," rounded-lg md:rounded-xl shadow-md overflow-hidden ").concat(t?"opacity-80":""," relative"),onClick:()=>I(e.id,e.name,e),children:[s&&(0,a.jsx)("div",{className:"absolute top-1 right-1 z-10",children:(0,a.jsx)("div",{className:"bg-[#d4a574] text-[#2d3e2d] text-xs font-bold px-1 py-0.5 rounded-md border border-[#8b7355]",style:{fontFamily:"Comic Sans MS, cursive"},children:"⚙️"})}),(0,a.jsxs)(j.aY,{className:"p-2 md:p-3 text-center",children:[(0,a.jsx)("div",{className:"w-full aspect-square mb-1 md:mb-2 rounded-lg overflow-hidden border-2 border-[#8b7355]/30",children:e.image_url?(0,a.jsx)("img",{src:e.image_url,alt:"".concat(e.name," style example"),className:"w-full h-full object-cover object-center scale-110 transition-transform duration-300 hover:scale-125 ".concat(t?"grayscale":""),style:{imageRendering:"crisp-edges",filter:"contrast(1.1) brightness(1.05) saturate(1.1)"}}):(0,a.jsx)("div",{className:"w-full h-full bg-gradient-to-br from-[#8b7355] to-[#2d3e2d] flex items-center justify-center text-white text-lg ".concat(t?"grayscale":""),children:e.emoji})}),(0,a.jsx)("h4",{className:"text-[#2d3e2d] font-black text-xs leading-tight mb-1",style:{fontFamily:"Comic Sans MS, cursive"},children:e.name.toUpperCase()}),s&&(0,a.jsx)("div",{className:"text-xs text-[#8b7355] font-bold leading-tight",style:{fontFamily:"Comic Sans MS, cursive"},children:s})]})]},e.id)},z=u.filter(e=>!e.is_premium&&e.is_active),_=u.filter(e=>e.is_premium&&e.is_active),P=z.slice(0,R),T=z.slice(R),Y=z.length>R;return(console.log("\uD83D\uDD0D Render state:",{hasStarted:y,isLoading:h,error:b,stylesCount:u.length}),!y||h)?(0,a.jsx)("div",{className:"space-y-3 md:space-y-4",children:(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[#8b7355] mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-[#8b7355] font-bold",style:{fontFamily:"Comic Sans MS, cursive"},children:"Loading styles... \uD83C\uDFA8"})]})}):b?(0,a.jsx)("div",{className:"space-y-3 md:space-y-4",children:(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,a.jsx)("span",{className:"text-red-500 text-2xl",children:"⚠️"})}),(0,a.jsx)("p",{className:"text-red-600 font-bold mb-4",style:{fontFamily:"Comic Sans MS, cursive"},children:b}),(0,a.jsx)(l.z,{onClick:E,className:"bg-[#8b7355] hover:bg-[#4a5a4a] text-white font-black px-4 py-2 rounded-xl transform hover:scale-105 transition-all",style:{fontFamily:"Comic Sans MS, cursive"},children:"\uD83D\uDD04 Try Again"})]})}):0===u.length?(0,a.jsx)("div",{className:"space-y-3 md:space-y-4",children:(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-[#d4a574] rounded-full flex items-center justify-center mx-auto mb-4",children:(0,a.jsx)("span",{className:"text-[#2d3e2d] text-2xl",children:"\uD83C\uDFA8"})}),(0,a.jsx)("p",{className:"text-[#8b7355] font-bold mb-4",style:{fontFamily:"Comic Sans MS, cursive"},children:"No styles configured yet"}),(0,a.jsx)("p",{className:"text-[#8b7355] text-sm mb-4",style:{fontFamily:"Comic Sans MS, cursive"},children:"Initialize the styles table with sample data or add your first style manually."}),(0,a.jsx)(l.z,{onClick:E,className:"bg-[#8b7355] hover:bg-[#4a5a4a] text-white font-black px-4 py-2 rounded-xl transform hover:scale-105 transition-all",style:{fontFamily:"Comic Sans MS, cursive"},children:"\uD83D\uDD04 Refresh"})]})}):(0,a.jsxs)("div",{className:"space-y-3 md:space-y-4",children:[(0,a.jsxs)(N.mQ,{value:p,onValueChange:e=>v(e),children:[(0,a.jsxs)(N.dr,{className:"grid w-full grid-cols-2 bg-[#4a5a4a] rounded-xl md:rounded-2xl p-1 md:p-2 shadow-lg",children:[(0,a.jsxs)(N.SP,{value:"standard",className:"rounded-lg md:rounded-xl font-black data-[state=active]:bg-[#d4a574] data-[state=active]:text-[#2d3e2d] text-[#f5f1e8] transform hover:scale-105 transition-all text-xs md:text-sm py-2",style:{fontFamily:"Comic Sans MS, cursive"},children:[(0,a.jsx)(C.Z,{className:"w-3 h-3 md:w-4 md:h-4 mr-1 md:mr-2"}),"STANDARD STYLES"]}),(0,a.jsxs)(N.SP,{value:"premium",className:"rounded-lg md:rounded-xl font-black data-[state=active]:bg-[#d4a574] data-[state=active]:text-[#2d3e2d] text-[#f5f1e8] transform hover:scale-105 transition-all text-xs md:text-sm py-2",style:{fontFamily:"Comic Sans MS, cursive"},children:[(0,a.jsx)(D.Z,{className:"w-3 h-3 md:w-4 md:h-4 mr-1 md:mr-2"}),"PREMIUM STYLES"]})]}),(0,a.jsx)(N.nU,{value:"standard",className:"space-y-4 md:space-y-6",children:(0,a.jsxs)("div",{children:[(0,a.jsxs)("h3",{className:"text-[#2d3e2d] font-black text-base md:text-lg mb-2 md:mb-3 flex items-center transform rotate-1",style:{fontFamily:"Comic Sans MS, cursive",textShadow:"1px 1px 0px #d4a574"},children:[(0,a.jsx)(C.Z,{className:"w-4 h-4 md:w-5 md:h-5 mr-1 md:mr-2"}),"PICK YOUR STYLE! \uD83C\uDFAD"]}),(0,a.jsxs)("div",{className:"grid grid-cols-8 gap-2 md:gap-3",children:[(0,a.jsx)(j.Zb,{className:"cursor-pointer transition-all duration-200 border-2 md:border-3 ".concat(null===c?"border-[#2d3e2d] bg-[#d4a574] transform scale-105 rotate-1":"border-[#8b7355] bg-white hover:border-[#2d3e2d] hover:bg-[#f5f1e8] transform hover:scale-105"," rounded-lg md:rounded-xl shadow-md overflow-hidden"),onClick:()=>I(null,"No Style",null),children:(0,a.jsxs)(j.aY,{className:"p-2 md:p-3 text-center",children:[(0,a.jsx)("div",{className:"w-full aspect-square mb-1 md:mb-2 rounded-lg overflow-hidden border-2 border-[#8b7355]/30 bg-gradient-to-br from-gray-100 to-gray-200 flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-gray-400 text-2xl md:text-3xl scale-125",children:"\uD83D\uDEAB"})}),(0,a.jsx)("h4",{className:"text-[#2d3e2d] font-black text-xs leading-tight",style:{fontFamily:"Comic Sans MS, cursive"},children:"NO STYLE"})]})}),P.map(e=>L(e)),Y&&(0,a.jsxs)(S.Vq,{open:M,onOpenChange:A,children:[(0,a.jsx)(S.hg,{asChild:!0,children:(0,a.jsx)(j.Zb,{className:"cursor-pointer transition-all duration-200 border-2 md:border-3 border-dashed border-blue-400/50 bg-gradient-to-br from-blue-500/20 to-purple-500/20 hover:from-blue-500/30 hover:to-purple-500/30 hover:border-blue-400/70 transform hover:scale-105 rounded-lg md:rounded-xl shadow-md overflow-hidden",children:(0,a.jsxs)(j.aY,{className:"p-2 md:p-3 text-center h-full flex flex-col justify-center",children:[(0,a.jsx)("div",{className:"w-full aspect-square mb-1 md:mb-2 rounded-lg overflow-hidden border-2 border-blue-400/30 bg-gradient-to-br from-blue-500/30 to-purple-500/30 flex items-center justify-center",children:(0,a.jsx)(k.Z,{className:"w-8 h-8 md:w-10 md:h-10 text-white scale-125"})}),(0,a.jsx)("h4",{className:"text-foreground font-black text-xs leading-tight",style:{fontFamily:"Comic Sans MS, cursive"},children:"VIEW MORE"}),(0,a.jsxs)("p",{className:"text-muted-foreground font-bold text-xs mt-1",style:{fontFamily:"Comic Sans MS, cursive"},children:["+",T.length," styles"]})]})})}),(0,a.jsxs)(S.cZ,{className:"sm:max-w-4xl max-h-[80vh] overflow-hidden bg-[#f5f1e8] border-4 border-[#8b7355] rounded-2xl",children:[(0,a.jsx)(S.fK,{className:"border-b-2 border-[#8b7355]/30 pb-4",children:(0,a.jsxs)(S.$N,{className:"text-[#2d3e2d] font-black text-xl flex items-center",style:{fontFamily:"Comic Sans MS, cursive",textShadow:"1px 1px 0px #d4a574"},children:[(0,a.jsx)(C.Z,{className:"w-5 h-5 mr-2"}),"ALL STYLE OPTIONS! \uD83C\uDFA8"]})}),(0,a.jsx)("div",{className:"overflow-y-auto max-h-[60vh] pr-2",children:(0,a.jsx)("div",{className:"grid grid-cols-6 sm:grid-cols-8 md:grid-cols-10 gap-3 pt-4",children:z.map(e=>L(e))})})]})]})]})]})}),(0,a.jsxs)(N.nU,{value:"premium",className:"space-y-4 md:space-y-6",children:[(0,a.jsxs)("div",{className:"bg-[#f5f1e8] rounded-lg md:rounded-xl border-2 md:border-3 border-[#8b7355] p-3 md:p-4 mb-3 md:mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(D.Z,{className:"w-4 h-4 md:w-5 md:h-5 text-[#d4a574] mr-1 md:mr-2"}),(0,a.jsx)("h3",{className:"text-[#2d3e2d] font-black text-base md:text-lg transform rotate-1",style:{fontFamily:"Comic Sans MS, cursive",textShadow:"1px 1px 0px #d4a574"},children:"PREMIUM STYLES"})]}),(0,a.jsx)("p",{className:"text-[#8b7355] font-bold text-xs md:text-sm mt-1",style:{fontFamily:"Comic Sans MS, cursive"},children:"Unlock these exclusive styles with AIMAGICA PRO! \uD83C\uDF1F"})]}),(0,a.jsx)("div",{className:"grid grid-cols-4 sm:grid-cols-6 md:grid-cols-8 gap-2 md:gap-3",children:_.map(e=>(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(j.Zb,{className:"cursor-pointer transition-all duration-200 border-2 md:border-3 border-[#8b7355] bg-white hover:border-[#2d3e2d] hover:bg-[#f5f1e8] transform hover:scale-105 rounded-lg md:rounded-xl shadow-md opacity-80 overflow-hidden",children:(0,a.jsxs)(j.aY,{className:"p-2 md:p-3 text-center",children:[(0,a.jsx)("div",{className:"w-full aspect-square mb-1 md:mb-2 rounded-lg overflow-hidden border-2 border-[#8b7355]/30",children:e.image_url?(0,a.jsx)("img",{src:e.image_url,alt:"".concat(e.name," style example"),className:"w-full h-full object-cover grayscale"}):(0,a.jsx)("div",{className:"w-full h-full bg-gradient-to-br from-[#8b7355] to-[#2d3e2d] flex items-center justify-center text-white text-lg grayscale",children:e.emoji})}),(0,a.jsx)("h4",{className:"text-[#2d3e2d] font-black text-xs leading-tight",style:{fontFamily:"Comic Sans MS, cursive"},children:e.name.toUpperCase()})]})}),(0,a.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,a.jsx)("div",{className:"bg-[#4a5a4a]/70 rounded-full w-6 h-6 md:w-8 md:h-8 flex items-center justify-center",children:(0,a.jsx)(F.Z,{className:"w-3 h-3 md:w-4 md:h-4 text-[#d4a574]"})})})]},e.id))}),(0,a.jsx)("div",{className:"flex justify-center mt-3 md:mt-4",children:(0,a.jsxs)(l.z,{className:"bg-[#d4a574] hover:bg-[#c19660] text-[#2d3e2d] font-black px-4 py-2 md:px-6 md:py-3 rounded-xl md:rounded-2xl shadow-lg transform hover:scale-105 transition-all text-xs md:text-sm",style:{fontFamily:"Comic Sans MS, cursive"},children:[(0,a.jsx)(D.Z,{className:"w-3 h-3 md:w-4 md:h-4 mr-1 md:mr-2"}),"UPGRADE TO PRO"]})})]})]}),(0,a.jsxs)("div",{className:"p-2 md:p-3 bg-[#f5f1e8] rounded-lg md:rounded-xl border-2 md:border-3 border-[#8b7355] shadow-md",children:[(0,a.jsx)("h4",{className:"text-[#2d3e2d] font-black mb-1 md:mb-2 transform rotate-1 text-sm md:text-base",style:{fontFamily:"Comic Sans MS, cursive",textShadow:"1px 1px 0px #d4a574"},children:"YOUR SELECTION PREVIEW! \uD83D\uDC40"}),(0,a.jsxs)("div",{className:"flex items-start space-x-2 md:space-x-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 md:w-12 md:h-12 rounded-lg overflow-hidden border-2 md:border-3 border-[#8b7355] transform rotate-3 flex-shrink-0",children:(0,a.jsx)("img",{src:(null===(t=u.find(e=>e.id===c))||void 0===t?void 0:t.image_url)||"/placeholder.svg",alt:"Style preview",className:"w-full h-full object-cover"})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"text-[#2d3e2d] font-black text-xs md:text-sm",style:{fontFamily:"Comic Sans MS, cursive"},children:null===c?"\uD83C\uDFA8 No Style":"".concat(null===(s=u.find(e=>e.id===c))||void 0===s?void 0:s.emoji," ").concat(null===(o=u.find(e=>e.id===c))||void 0===o?void 0:o.name)}),(0,a.jsx)("p",{className:"text-[#8b7355] font-bold text-xs mb-1",style:{fontFamily:"Comic Sans MS, cursive"},children:null===c?"Original prompt will be used":(null===(i=u.find(e=>e.id===c))||void 0===i?void 0:i.description)||"AI-enhanced artistic style"}),null!==c&&(()=>{let e=u.find(e=>e.id===c),t=e?Z(e):"";return t?(0,a.jsxs)("div",{className:"mt-2 p-2 bg-[#d4a574]/20 rounded-lg border border-[#8b7355]/30",children:[(0,a.jsx)("p",{className:"text-xs font-bold text-[#2d3e2d] mb-1",style:{fontFamily:"Comic Sans MS, cursive"},children:"⚙️ 使用要求："}),(0,a.jsx)("p",{className:"text-xs text-[#8b7355] font-bold",style:{fontFamily:"Comic Sans MS, cursive"},children:t}),(null==e?void 0:e.requirements_description)&&(0,a.jsxs)("p",{className:"text-xs text-[#8b7355] mt-1",style:{fontFamily:"Comic Sans MS, cursive"},children:["\uD83D\uDCA1 ",e.requirements_description]})]}):null})()]})]})]})]})}var A=s(85897),R=s(72613),Z=s(75965),E=s(44353),I=s(49322);function L(e){let{onSubmitDrawing:t,baseImage:s,mode:o="draw"}=e,i=(0,r.useRef)(null),n=(0,r.useRef)(null),d=(0,r.useRef)(!1),c=(0,r.useRef)(null),m=(0,r.useRef)(),[u,x]=(0,r.useState)([4]),[h,f]=(0,r.useState)("brush"),[b,g]=(0,r.useState)(null),[p,v]=(0,r.useState)(!1),[j,N]=(0,r.useState)({x:0,y:0}),[S,C]=(0,r.useState)(!1),[D,k]=(0,r.useState)(!1);(0,r.useEffect)(()=>{let e=()=>{k(window.innerWidth<768)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,r.useEffect)(()=>{let e=i.current;if(!e)return;let t=()=>{let t=e.getBoundingClientRect(),a=window.devicePixelRatio||1;e.width=t.width*a,e.height=t.height*a,e.style.width=t.width+"px",e.style.height=t.height+"px";let r=e.getContext("2d");r&&(r.scale(a,a),"draw"===o&&(r.fillStyle="white",r.fillRect(0,0,t.width,t.height)),r.lineCap="round",r.lineJoin="round",r.imageSmoothingEnabled=!0,n.current=r,console.log("\uD83D\uDD8C️ Canvas context set and ready for drawing"),"edit"===o&&s?(console.log("\uD83C\uDFAF Canvas initialized in edit mode, loading base image..."),F(r,t.width,t.height)):(console.log("\uD83C\uDFAF Canvas initialized in draw mode or no base image"),v(!1)))};return t(),window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[s,o]);let F=(e,t,a)=>{if(console.log("\uD83D\uDDBC️ loadBaseImage called with:",{hasBaseImage:!!s,canvasSize:"".concat(t,"x").concat(a),imageType:(null==s?void 0:s.startsWith("data:"))?"Data URL":"External URL"}),!s)return;let r=new Image;s.startsWith("data:")||(r.crossOrigin="anonymous"),r.onload=()=>{let s,l,o,i;console.log("✅ Base image loaded successfully:",r.width,"x",r.height);let n=r.width/r.height;n>t/a?(s=t,o=0,i=(a-(l=t/n))/2):(l=a,o=(t-(s=a*n))/2,i=0),console.log("\uD83D\uDCD0 Drawing image at:",{drawX:o,drawY:i,drawWidth:s,drawHeight:l}),e.clearRect(0,0,t,a),e.drawImage(r,o,i,s,l),v(!0),console.log("\uD83C\uDFA8 Base image drawn to canvas successfully")},r.onerror=r=>{console.error("❌ Failed to load base image:",r),console.error("\uD83D\uDD0D Image source:",(null==s?void 0:s.substring(0,100))+"..."),e.fillStyle="white",e.fillRect(0,0,t,a),v(!1)},r.src=s},M=(0,r.useCallback)(e=>{let t=i.current;if(!t)return;let s=t.getBoundingClientRect();N({x:e.clientX-s.left,y:e.clientY-s.top})},[]),L=(0,r.useCallback)((e,t)=>{let s=i.current;if(!s)return{x:0,y:0};let a=s.getBoundingClientRect();return{x:e-a.left,y:t-a.top}},[]),z=(0,r.useCallback)((e,t,s,a)=>{let r=n.current;if(!r){console.error("❌ No canvas context available in drawLine");return}if("brush"===h)r.lineWidth=u[0],r.globalCompositeOperation="source-over",r.strokeStyle="#000000";else{let e=6+3*u[0];r.lineWidth=e,r.globalCompositeOperation="destination-out"}r.beginPath(),r.moveTo(e,t),r.lineTo(s,a),r.stroke()},[u,h]),_=(0,r.useCallback)(e=>{e.preventDefault(),console.log("\uD83D\uDD8A️ Starting to draw with tool:",h),d.current=!0;let t=L(e.clientX,e.clientY);c.current=t;let s=n.current;if(!s){console.error("❌ No canvas context available for drawing");return}if("brush"===h)s.lineWidth=u[0],s.globalCompositeOperation="source-over",s.strokeStyle="#000000";else{let e=6+3*u[0];s.lineWidth=e,s.globalCompositeOperation="destination-out"}s.beginPath(),s.moveTo(t.x,t.y)},[u,h,L]),P=(0,r.useCallback)(e=>{if(M(e),!d.current||!c.current)return;let t=L(e.clientX,e.clientY);m.current&&cancelAnimationFrame(m.current),m.current=requestAnimationFrame(()=>{console.log("✏️ Drawing line from",c.current,"to",t),z(c.current.x,c.current.y,t.x,t.y),c.current=t}),v(!0)},[M,L,z]),T=(0,r.useCallback)(()=>{d.current=!1,c.current=null,m.current&&cancelAnimationFrame(m.current),setTimeout(()=>{g(Math.random()>.3?"good":"warning")},500)},[]),Y=(0,r.useCallback)(e=>{e.preventDefault();let t=e.touches[0];_({clientX:t.clientX,clientY:t.clientY,preventDefault:()=>{}})},[_]),O=(0,r.useCallback)(e=>{e.preventDefault();let t=e.touches[0];P({clientX:t.clientX,clientY:t.clientY,preventDefault:()=>{}})},[P]),U=(0,r.useCallback)(e=>{e.preventDefault(),T()},[T]);return(0,a.jsxs)("div",{className:"space-y-3 md:space-y-4",children:[(0,a.jsxs)("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between p-3 md:p-4 bg-[#f5f1e8] rounded-xl md:rounded-2xl border-2 md:border-4 border-[#8b7355] shadow-lg gap-3 md:gap-0",children:[(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-2 md:gap-4 w-full md:w-auto",children:[(0,a.jsxs)("div",{className:"flex gap-1 md:gap-2",children:[(0,a.jsx)(l.z,{size:"sm",variant:"brush"===h?"default":"outline",onClick:()=>f("brush"),className:"font-black rounded-lg md:rounded-xl transform hover:scale-105 transition-all text-xs md:text-sm px-2 py-1 md:px-3 md:py-2 ".concat("brush"===h?"bg-[#2d3e2d] text-[#f5f1e8] shadow-lg":"bg-white border-2 md:border-4 border-[#8b7355] text-[#2d3e2d] hover:bg-[#8b7355] hover:text-[#f5f1e8]"),style:{fontFamily:"Comic Sans MS, cursive"},children:(0,a.jsx)(y.Z,{className:"w-3 h-3 md:w-4 md:h-4"})}),(0,a.jsx)(l.z,{size:"sm",variant:"eraser"===h?"default":"outline",onClick:()=>f("eraser"),className:"font-black rounded-lg md:rounded-xl transform hover:scale-105 transition-all text-xs md:text-sm px-2 py-1 md:px-3 md:py-2 ".concat("eraser"===h?"bg-[#ff69b4] text-[#2d3e2d] shadow-lg border-2 border-[#e91e63]":"bg-white border-2 md:border-4 border-[#8b7355] text-[#2d3e2d] hover:bg-[#ff69b4] hover:text-[#2d3e2d] hover:border-[#e91e63]"),style:{fontFamily:"Comic Sans MS, cursive"},children:(0,a.jsx)(R.Z,{className:"w-3 h-3 md:w-4 md:h-4"})})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1 md:gap-2 flex-1 min-w-0",children:[(0,a.jsx)("span",{className:"text-[#2d3e2d] font-black text-xs md:text-sm whitespace-nowrap",style:{fontFamily:"Comic Sans MS, cursive"},children:"SIZE:"}),(0,a.jsx)("div",{className:"w-16 md:w-24",children:(0,a.jsx)(A.i,{value:u,onValueChange:x,max:8,min:1,step:1,className:"w-full"})}),(0,a.jsx)("span",{className:"text-[#2d3e2d] font-black text-xs md:text-sm whitespace-nowrap",style:{fontFamily:"Comic Sans MS, cursive"},children:u[0]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1 md:gap-2",children:[(0,a.jsx)(l.z,{size:"sm",className:"bg-white border-2 md:border-4 border-[#8b7355] text-[#2d3e2d] hover:bg-[#8b7355] hover:text-[#f5f1e8] font-black rounded-lg md:rounded-xl transform hover:rotate-1 transition-all text-xs px-2 py-1",style:{fontFamily:"Comic Sans MS, cursive"},children:(0,a.jsx)(Z.Z,{className:"w-3 h-3 md:w-4 md:h-4"})}),(0,a.jsx)(l.z,{size:"sm",className:"bg-white border-2 md:border-4 border-[#8b7355] text-[#2d3e2d] hover:bg-[#8b7355] hover:text-[#f5f1e8] font-black rounded-lg md:rounded-xl transform hover:rotate-1 transition-all text-xs px-2 py-1",style:{fontFamily:"Comic Sans MS, cursive"},children:(0,a.jsx)(E.Z,{className:"w-3 h-3 md:w-4 md:h-4"})}),(0,a.jsx)(l.z,{size:"sm",onClick:()=>{let e=i.current,t=n.current;if(!e||!t)return;let a=e.getBoundingClientRect();"edit"===o&&s?F(t,a.width,a.height):(t.fillStyle="white",t.fillRect(0,0,a.width,a.height),v(!1)),g(null)},className:"bg-white border-2 md:border-4 border-[#8b7355] text-[#2d3e2d] hover:bg-[#8b7355] hover:text-[#f5f1e8] font-black rounded-lg md:rounded-xl transform hover:rotate-1 transition-all text-xs px-2 py-1",style:{fontFamily:"Comic Sans MS, cursive"},children:"edit"===o?"RESET":"CLEAR"})]})]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)("div",{className:"absolute inset-0 bg-[#f8f6f0] rounded-xl md:rounded-2xl border-2 md:border-4 border-[#8b7355] shadow-lg",children:[(0,a.jsx)("div",{className:"absolute inset-2 md:inset-4 bg-white rounded-lg opacity-95",style:{backgroundImage:"\n                radial-gradient(circle at 25% 25%, rgba(139,115,85,0.02) 1px, transparent 1px),\n                radial-gradient(circle at 75% 75%, rgba(139,115,85,0.02) 1px, transparent 1px)\n              ",backgroundSize:"20px 20px"}}),(0,a.jsx)("div",{className:"absolute left-2 md:left-4 top-6 md:top-8 w-1 h-1 bg-[#d4a574] rounded-full opacity-60"}),(0,a.jsx)("div",{className:"absolute left-2 md:left-4 top-12 md:top-16 w-1 h-1 bg-[#d4a574] rounded-full opacity-60"}),(0,a.jsx)("div",{className:"absolute left-2 md:left-4 bottom-6 md:bottom-8 w-1 h-1 bg-[#d4a574] rounded-full opacity-60"})]}),(0,a.jsx)("canvas",{ref:i,onMouseDown:_,onMouseMove:P,onMouseUp:T,onMouseLeave:()=>{T(),C(!1)},onMouseEnter:()=>C(!0),onTouchStart:Y,onTouchMove:O,onTouchEnd:U,className:"relative z-10 bg-transparent w-full aspect-square touch-none",style:{cursor:D?"auto":'url("'.concat((()=>{let e=Math.min(20+3*u[0],44),t=e=>{try{return window.btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,(e,t)=>String.fromCharCode(Number.parseInt(t,16))))}catch(e){return console.warn("Failed to encode SVG, using fallback cursor"),""}};if("brush"===h){let s=t('\n      <svg width="'.concat(e,'" height="').concat(e,'" viewBox="0 0 ').concat(e," ").concat(e,'" xmlns="http://www.w3.org/2000/svg">\n        <!-- 手部 -->\n        <ellipse cx="').concat(.3*e,'" cy="').concat(.75*e,'" rx="').concat(.12*e,'" ry="').concat(.15*e,'" \n                 fill="#fdbcb4" stroke="#2d3e2d" strokeWidth="1"/>\n        <!-- 手指 -->\n        <ellipse cx="').concat(.25*e,'" cy="').concat(.65*e,'" rx="').concat(.04*e,'" ry="').concat(.08*e,'" \n                 fill="#fdbcb4" stroke="#2d3e2d" strokeWidth="0.5"/>\n        <ellipse cx="').concat(.35*e,'" cy="').concat(.6*e,'" rx="').concat(.04*e,'" ry="').concat(.08*e,'" \n                 fill="#fdbcb4" stroke="#2d3e2d" strokeWidth="0.5"/>\n        <!-- 笔杆 -->\n        <rect x="').concat(.4*e,'" y="').concat(.1*e,'" width="').concat(.08*e,'" height="').concat(.6*e,'" \n              fill="#d4a574" stroke="#2d3e2d" strokeWidth="1" rx="2"/>\n        <!-- 笔芯 -->\n        <polygon points="').concat(.44*e,",").concat(.7*e," ").concat(.42*e,",").concat(.85*e," ").concat(.46*e,",").concat(.85*e,'" \n                 fill="#2d3e2d"/>\n        <!-- 笔帽装饰 -->\n        <circle cx="').concat(.44*e,'" cy="').concat(.15*e,'" r="').concat(.06*e,'" fill="#8b7355"/>\n        <!-- 画笔大小指示器 -->\n        <circle cx="').concat(.75*e,'" cy="').concat(.25*e,'" r="').concat(u[0]+1,'" \n                fill="rgba(45,62,45,0.2)" stroke="#2d3e2d" strokeWidth="1"/>\n        <text x="').concat(.75*e,'" y="').concat(.1*e,'" textAnchor="middle" \n              fontFamily="Arial" fontSize="8" fill="#2d3e2d" fontWeight="bold">').concat(u[0],"</text>\n      </svg>\n    "));return s?"data:image/svg+xml;base64,".concat(s):"crosshair"}{let s=6+3*u[0],a=t('\n      <svg width="'.concat(e,'" height="').concat(e,'" viewBox="0 0 ').concat(e," ").concat(e,'" xmlns="http://www.w3.org/2000/svg">\n        <!-- 手部 -->\n        <ellipse cx="').concat(.25*e,'" cy="').concat(.75*e,'" rx="').concat(.1*e,'" ry="').concat(.12*e,'" \n                 fill="#fdbcb4" stroke="#2d3e2d" strokeWidth="1"/>\n        <!-- 橡皮擦主体 -->\n        <rect x="').concat(.35*e,'" y="').concat(.2*e,'" width="').concat(.15*e,'" height="').concat(.4*e,'" \n              fill="#ff69b4" stroke="#2d3e2d" strokeWidth="1.5" rx="4"/>\n        <!-- 橡皮擦底部 -->\n        <rect x="').concat(.36*e,'" y="').concat(.58*e,'" width="').concat(.13*e,'" height="').concat(.08*e,'" \n              fill="#ff91a4" stroke="#2d3e2d" strokeWidth="1" rx="2"/>\n        <!-- 橡皮擦文字 -->\n        <text x="').concat(.425*e,'" y="').concat(.35*e,'" textAnchor="middle" \n              fontFamily="Arial" fontSize="6" fill="white" fontWeight="bold">ERASER</text>\n        <!-- 擦除区域指示器 -->\n        <circle cx="').concat(.7*e,'" cy="').concat(.3*e,'" r="').concat(s,'" \n                fill="rgba(255,105,180,0.15)" stroke="#ff69b4" strokeWidth="1.5" strokeDasharray="3,2"/>\n        <!-- SIZE指示 -->\n        <text x="').concat(.7*e,'" y="').concat(.15*e,'" textAnchor="middle" \n              fontFamily="Arial" fontSize="8" fill="#ff69b4" fontWeight="bold">').concat(u[0],"</text>\n      </svg>\n    "));return a?"data:image/svg+xml;base64,".concat(a):"crosshair"}})(),'") ').concat(u[0]+10," ").concat(u[0]+10,", auto")}}),b&&(0,a.jsx)("div",{className:"absolute top-2 md:top-4 right-2 md:right-4",children:"good"===b?(0,a.jsxs)("div",{className:"bg-[#d4a574] border-2 md:border-4 border-[#2d3e2d] text-[#2d3e2d] font-black px-2 py-1 md:px-3 md:py-2 rounded-xl md:rounded-2xl shadow-lg transform rotate-1 text-xs md:text-sm",style:{fontFamily:"Comic Sans MS, cursive"},children:[(0,a.jsx)(w.Z,{className:"w-3 h-3 md:w-4 md:h-4 mr-1 inline"}),"PERFECT! ✨"]}):(0,a.jsxs)("div",{className:"bg-[#8b7355] border-2 md:border-4 border-[#2d3e2d] text-[#f5f1e8] font-black px-2 py-1 md:px-3 md:py-2 rounded-xl md:rounded-2xl shadow-lg transform -rotate-1 text-xs md:text-sm",style:{fontFamily:"Comic Sans MS, cursive"},children:[(0,a.jsx)(I.Z,{className:"w-3 h-3 md:w-4 md:h-4 mr-1 inline"}),"MAKE IT BOLDER! \uD83D\uDCAA"]})}),("edit"===o||p)&&(0,a.jsx)("div",{className:"absolute bottom-2 md:bottom-4 right-2 md:right-4",children:(0,a.jsxs)(l.z,{onClick:()=>{let e=i.current;if(!e)return;let s=e.toDataURL("image/png");t&&t(s)},className:"bg-[#d4a574] hover:bg-[#c19660] text-[#2d3e2d] font-black px-3 py-2 md:px-4 md:py-2 rounded-xl md:rounded-2xl shadow-lg transform hover:scale-105 transition-all animate-pulse text-xs md:text-sm",style:{fontFamily:"Comic Sans MS, cursive"},children:[(0,a.jsx)(w.Z,{className:"w-3 h-3 md:w-4 md:h-4 mr-1 md:mr-2"}),"edit"===o?"Apply Changes! ✨":"Use This Drawing! ✨"]})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3 md:gap-4 p-3 md:p-4 bg-[#f5f1e8] rounded-xl md:rounded-2xl border-2 md:border-4 border-[#8b7355] shadow-lg",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"w-12 h-12 md:w-16 md:h-16 mx-auto mb-1 md:mb-2 bg-[#d4a574] rounded-xl md:rounded-2xl flex items-center justify-center border-2 md:border-4 border-[#2d3e2d] transform rotate-3",children:(0,a.jsx)(w.Z,{className:"w-6 h-6 md:w-8 md:h-8 text-[#2d3e2d]"})}),(0,a.jsx)("p",{className:"text-[#2d3e2d] font-black text-xs md:text-sm",style:{fontFamily:"Comic Sans MS, cursive"},children:"DO THIS! ✅"}),(0,a.jsx)("p",{className:"text-[#8b7355] font-bold text-xs",style:{fontFamily:"Comic Sans MS, cursive"},children:"Bold & clear lines!"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"w-12 h-12 md:w-16 md:h-16 mx-auto mb-1 md:mb-2 bg-[#8b7355] rounded-xl md:rounded-2xl flex items-center justify-center border-2 md:border-4 border-[#2d3e2d] transform -rotate-3",children:(0,a.jsx)(I.Z,{className:"w-6 h-6 md:w-8 md:h-8 text-[#f5f1e8]"})}),(0,a.jsx)("p",{className:"text-[#2d3e2d] font-black text-xs md:text-sm",style:{fontFamily:"Comic Sans MS, cursive"},children:"AVOID THIS! ❌"}),(0,a.jsx)("p",{className:"text-[#8b7355] font-bold text-xs",style:{fontFamily:"Comic Sans MS, cursive"},children:"Too thin & messy!"})]})]})]})}var z=s(9695),_=s(53647),P=s(35974),T=s(51817),Y=s(14822);function O(e){var t,s,l,o;let{onModelSelect:n,selectedModelId:d,type:c="image_generation",className:m="",dynamicKieModel:x,availableModels:h}=e,[f,b]=(0,r.useState)([]),[g,p]=(0,r.useState)(null),[v,y]=(0,r.useState)(!0),[w,N]=(0,r.useState)(null);(0,r.useEffect)(()=>{(async()=>{try{y(!0);let e=await fetch("/api/models/available?type=".concat(c)),t=await e.json();if(!e.ok){if(401===e.status){N("Please login to select specific AI models"),b([]),p(null),null!==d&&n(null);return}throw Error(t.error||"Failed to fetch models")}b(t.models||[]),p(t.defaultModel||null),!d&&t.defaultModel&&n(t.defaultModel.id)}catch(e){console.error("Error fetching models:",e),N(e instanceof Error?e.message:"Unknown error")}finally{y(!1)}})()},[c,d,n]);let S=f.find(e=>e.id===d);if(f.filter(e=>e.provider.toLowerCase().includes("kie")).length,v)return(0,a.jsx)(j.Zb,{className:"bg-white border-2 border-[#8b7355] rounded-xl ".concat(m),children:(0,a.jsx)(j.aY,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,a.jsx)(T.Z,{className:"w-4 h-4 animate-spin text-[#8b7355]"}),(0,a.jsx)("span",{className:"text-[#8b7355] font-medium",style:{fontFamily:"Comic Sans MS, cursive"},children:"Loading AI Models..."})]})})});if(w&&!w.includes("login"))return(0,a.jsx)(j.Zb,{className:"bg-white border-2 border-red-300 rounded-xl ".concat(m),children:(0,a.jsx)(j.aY,{className:"p-4",children:(0,a.jsxs)("div",{className:"text-red-600 text-sm font-medium",style:{fontFamily:"Comic Sans MS, cursive"},children:["❌ ",w]})})});if(0===f.length){let e=w&&w.includes("login");return(0,a.jsx)(j.Zb,{className:"bg-white border-4 border-[#8b7355] rounded-2xl shadow-lg transform hover:scale-[1.02] transition-all duration-300 ".concat(m),children:(0,a.jsx)(j.aY,{className:"p-4",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(Y.Z,{className:"w-5 h-5 text-[#8b7355]"}),(0,a.jsx)(i._,{className:"text-[#2d3e2d] font-black text-base transform hover:rotate-1 hover:scale-105 transition-all duration-300 cursor-pointer inline-block",style:{fontFamily:"Comic Sans MS, cursive"},children:"Choose AI Model \uD83E\uDD16"})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"p-3 bg-gradient-to-r from-[#d4a574]/20 to-[#8b7355]/20 border-2 border-[#d4a574] rounded-xl",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(u.Z,{className:"w-5 h-5 text-[#d4a574]"}),(0,a.jsx)("span",{className:"font-bold text-[#2d3e2d]",style:{fontFamily:"Comic Sans MS, cursive"},children:"Auto Selection (Smart)"}),(0,a.jsx)(P.C,{className:"bg-[#d4a574] text-[#2d3e2d] text-xs",children:"Active"})]}),(0,a.jsx)("p",{className:"text-xs text-[#8b7355] mt-1",children:"System will automatically choose the best AI model for your request"})]}),e&&(0,a.jsx)("div",{className:"p-3 bg-[#f5f1e8] border border-[#8b7355]/30 rounded-xl",children:(0,a.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,a.jsx)("div",{className:"text-lg",children:"\uD83D\uDD10"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-bold text-[#2d3e2d]",style:{fontFamily:"Comic Sans MS, cursive"},children:"Login for More Options"}),(0,a.jsx)("p",{className:"text-xs text-[#8b7355] mt-1",children:"Login to access specific AI models like GPT-4, DALL-E, Stable Diffusion, and more!"})]})]})})]})]})})})}return(0,a.jsx)(j.Zb,{className:"bg-white border-4 border-[#8b7355] rounded-2xl shadow-lg transform hover:scale-[1.02] transition-all duration-300 ".concat(m),children:(0,a.jsx)(j.aY,{className:"p-4",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(Y.Z,{className:"w-5 h-5 text-[#8b7355]"}),(0,a.jsx)(i._,{className:"text-[#2d3e2d] font-black text-base transform hover:rotate-1 hover:scale-105 transition-all duration-300 cursor-pointer inline-block",style:{fontFamily:"Comic Sans MS, cursive"},children:"Choose AI Model \uD83E\uDD16"})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)(_.Ph,{value:d||"auto",onValueChange:e=>{"auto"===e?n(null):n(e)},children:[(0,a.jsx)(_.i4,{className:"border-2 border-[#8b7355] rounded-xl bg-[#f5f1e8] hover:bg-white transition-colors",children:(0,a.jsx)(_.ki,{children:S?(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(P.C,{variant:"outline",className:"text-xs ".concat(S.provider.toLowerCase().includes("kie")?"border-purple-500 text-purple-700":"border-[#8b7355] text-[#8b7355]"),children:S.provider.includes("Pro")?"Pro":S.provider.includes("Max")?"Max":S.shortName}),(0,a.jsx)("span",{className:"font-bold text-[#2d3e2d]",style:{fontFamily:"Comic Sans MS, cursive"},children:S.provider.toLowerCase().includes("kie")?"Kie.ai ".concat(S.provider.includes("Pro")?"Pro":S.provider.includes("Max")?"Max":"Flux"):S.name}),S.provider.toLowerCase().includes("kie")&&(0,a.jsx)("div",{className:"text-xs text-[#8b7355]",children:S.provider.includes("Pro")?"⚡ Fast":S.provider.includes("Max")?"\uD83C\uDFA8 High Quality":""})]}):(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(u.Z,{className:"w-4 h-4 text-[#d4a574]"}),(0,a.jsx)("span",{className:"font-bold text-[#2d3e2d]",style:{fontFamily:"Comic Sans MS, cursive"},children:"Auto (Smart Selection)"})]})})}),(0,a.jsxs)(_.Bw,{children:[(0,a.jsx)(_.Ql,{value:"auto",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(u.Z,{className:"w-4 h-4 text-[#d4a574]"}),(0,a.jsx)("span",{className:"font-bold",children:"Auto Selection"}),(0,a.jsx)(P.C,{className:"bg-[#d4a574] text-[#2d3e2d] text-xs",children:"Smart"})]})}),f.map(e=>(0,a.jsx)(_.Ql,{value:e.id,children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(P.C,{variant:"outline",className:"text-xs ".concat(e.provider.toLowerCase().includes("kie")?"border-purple-500 text-purple-700":"border-[#8b7355] text-[#8b7355]"),children:e.provider.includes("Pro")?"Pro":e.provider.includes("Max")?"Max":e.shortName}),(0,a.jsx)("span",{className:"font-medium",children:e.provider.toLowerCase().includes("kie")?"Kie.ai ".concat(e.provider.includes("Pro")?"Pro":e.provider.includes("Max")?"Max":"Flux"):e.name}),e.isDefault&&(0,a.jsx)(D.Z,{className:"w-3 h-3 text-[#d4a574]"}),e.provider.toLowerCase().includes("kie")&&(0,a.jsx)("div",{className:"text-xs text-gray-500",children:e.provider.includes("Pro")?"(Standard)":e.provider.includes("Max")?"(Enhanced)":""})]})},e.id))]})]}),S&&(0,a.jsx)("div",{className:"p-3 bg-[#f5f1e8]/50 border border-[#8b7355]/30 rounded-xl",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("span",{className:"text-sm font-bold text-[#2d3e2d]",style:{fontFamily:"Comic Sans MS, cursive"},children:(null===(t=S.name)||void 0===t?void 0:t.toLowerCase().includes("flux"))&&(null===(s=S.name)||void 0===s?void 0:s.toLowerCase().includes("kontext"))&&x?"Kie.ai ".concat(x.charAt(0).toUpperCase()+x.slice(1)):S.provider}),S.isDefault&&(0,a.jsx)(P.C,{className:"bg-[#d4a574] text-[#2d3e2d] text-xs",children:"Default"})]}),(0,a.jsxs)("p",{className:"text-xs text-[#8b7355] font-medium",children:["Model: ",((null===(l=S.name)||void 0===l?void 0:l.toLowerCase().includes("flux"))&&(null===(o=S.name)||void 0===o?void 0:o.toLowerCase().includes("kontext"))&&x?"flux-kontext-".concat(x):S.model)||"N/A"]})]}),(0,a.jsx)("div",{className:"text-right",children:(0,a.jsx)("div",{className:"text-xs text-[#8b7355] opacity-70",children:"Selected"})})]})}),!d&&(0,a.jsx)("div",{className:"p-3 bg-gradient-to-r from-[#d4a574]/20 to-[#8b7355]/20 border border-[#d4a574]/30 rounded-xl",children:(0,a.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,a.jsx)(u.Z,{className:"w-4 h-4 text-[#d4a574] mt-0.5"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-bold text-[#2d3e2d]",style:{fontFamily:"Comic Sans MS, cursive"},children:"Smart Auto Selection"}),(0,a.jsx)("p",{className:"text-xs text-[#8b7355]",children:"System will automatically choose the best available model with failover support"})]})]})})]})]})})})}function U(e){var t;let{onModelSelect:s,selectedModel:l,className:o=""}=e,[n,d]=(0,r.useState)(!0),[c,m]=(0,r.useState)(!1),[u,x]=(0,r.useState)(null);(0,r.useEffect)(()=>{(async()=>{try{d(!0);let e=await fetch("/api/admin/api-configs?type=image_generation"),t=await e.json();if(e.ok&&t.configs&&t.configs.length>0){let e=t.configs.find(e=>{var t;return("Kie.ai"===e.provider||"Custom"===e.provider&&(null===(t=e.endpoint)||void 0===t?void 0:t.includes("/flux/kontext/generate")))&&e.is_active});e&&(x(e),m(!0),l||s("pro"))}}catch(e){console.error("Error fetching Kie.ai config:",e)}finally{d(!1)}})()},[l,s]);let h=(null==u?void 0:null===(t=u.config_data)||void 0===t?void 0:t.models)||{pro:{name:"flux-kontext-pro",displayName:"Flux Kontext Pro",description:"Standard model for most use cases",icon:"⚡",speed:"Fast"},max:{name:"flux-kontext-max",displayName:"Flux Kontext Max",description:"Enhanced model for complex scenarios",icon:"\uD83C\uDFA8",speed:"High Quality"}};if(n)return(0,a.jsx)(j.Zb,{className:"bg-white border-2 border-[#8b7355] rounded-xl ".concat(o),children:(0,a.jsx)(j.aY,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,a.jsx)(T.Z,{className:"w-4 h-4 animate-spin text-[#8b7355]"}),(0,a.jsx)("span",{className:"text-[#8b7355] font-medium",style:{fontFamily:"Comic Sans MS, cursive"},children:"Loading Kie.ai Models..."})]})})});if(!c)return(0,a.jsx)(j.Zb,{className:"bg-white border-2 border-gray-300 rounded-xl ".concat(o),children:(0,a.jsx)(j.aY,{className:"p-4",children:(0,a.jsx)("div",{className:"text-gray-600 text-sm font-medium",style:{fontFamily:"Comic Sans MS, cursive"},children:"ℹ️ Kie.ai not configured or not active"})})});let f=h[l]||h.pro;return(0,a.jsx)(j.Zb,{className:"bg-white border-4 border-purple-500 rounded-2xl shadow-lg transform hover:scale-[1.02] transition-all duration-300 ".concat(o),children:(0,a.jsx)(j.aY,{className:"p-4",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"text-2xl",children:"\uD83C\uDFA8"}),(0,a.jsx)(i._,{className:"text-[#2d3e2d] font-black text-base",style:{fontFamily:"Comic Sans MS, cursive"},children:"Kie.ai Flux Kontext Model"})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)(_.Ph,{value:l,onValueChange:s,children:[(0,a.jsx)(_.i4,{className:"border-2 border-purple-500 rounded-xl bg-purple-50 hover:bg-white transition-colors",children:(0,a.jsx)(_.ki,{children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"text-lg",children:f.icon}),(0,a.jsx)(P.C,{variant:"outline",className:"border-purple-500 text-purple-700 text-xs",children:l.toUpperCase()}),(0,a.jsx)("span",{className:"font-bold text-[#2d3e2d]",style:{fontFamily:"Comic Sans MS, cursive"},children:f.displayName}),(0,a.jsx)("div",{className:"text-xs text-purple-600",children:f.speed})]})})}),(0,a.jsx)(_.Bw,{children:Object.entries(h).map(e=>{let[t,s]=e;return(0,a.jsx)(_.Ql,{value:t,children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"text-lg",children:s.icon}),(0,a.jsx)(P.C,{variant:"outline",className:"border-purple-500 text-purple-700 text-xs",children:t.toUpperCase()}),(0,a.jsx)("span",{className:"font-medium",children:s.displayName}),(0,a.jsxs)("div",{className:"text-xs text-gray-500",children:["(",s.speed,")"]})]})},t)})})]}),(0,a.jsx)("div",{className:"p-3 bg-purple-50 border border-purple-200 rounded-xl",children:(0,a.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,a.jsx)("div",{className:"text-lg",children:f.icon}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-bold text-[#2d3e2d]",style:{fontFamily:"Comic Sans MS, cursive"},children:f.displayName}),(0,a.jsx)("p",{className:"text-xs text-purple-700 mt-1",children:f.description})]})]})})]})]})})})}n.Z,d.Z,c.Z,m.Z,u.Z;let V=[{id:"1:1",name:"Square",icon:(0,a.jsx)(x.Z,{className:"w-4 h-4"}),size:"1024x1024"},{id:"2:3",name:"Portrait",icon:(0,a.jsx)(h.Z,{className:"w-4 h-4"}),size:"1024x1536"},{id:"3:2",name:"Landscape",icon:"\uD83D\uDCF1",size:"1536x1024"}],B=(0,r.forwardRef)((e,t)=>{var s,n,d,c,m,u,x,h,j,N;let{onStartRender:S,textPrompt:C,setTextPrompt:D,creationMode:k,setCreationMode:F,interfaceMode:A,setInterfaceMode:R,onAspectRatioChange:Z,onStyleChange:E,initialSelectedStyleId:I,initialSelectedStyleName:_,forcedMode:P,hideModeSelector:T}=e,[Y,B]=(0,r.useState)("quick"),[W,q]=(0,r.useState)(I||null),[K,G]=(0,r.useState)(_||null),[Q,H]=(0,r.useState)(null),[X,$]=(0,r.useState)([]),[J,ee]=(0,r.useState)(1),[et,es]=(0,r.useState)(null),[ea,er]=(0,r.useState)(!1),[el,eo]=(0,r.useState)("1:1"),[ei,en]=(0,r.useState)(null),[ed,ec]=(0,r.useState)("pro"),[em,eu]=(0,r.useState)(new Set);r.useEffect(()=>{void 0!==I&&q(I),void 0!==_&&G(_)},[I,_]),r.useEffect(()=>{P&&k!==P&&F(P)},[P,k,F]);let[ex,eh]=(0,r.useState)([]),ef=ex.find(e=>e.id===ei),eb=ef&&((null===(n=ef.provider)||void 0===n?void 0:null===(s=n.toLowerCase())||void 0===s?void 0:s.includes("kie"))||(null===(c=ef.provider)||void 0===c?void 0:null===(d=c.toLowerCase())||void 0===d?void 0:d.includes("flux"))||(null===(u=ef.model)||void 0===u?void 0:null===(m=u.toLowerCase())||void 0===m?void 0:m.includes("flux"))||(null===(h=ef.name)||void 0===h?void 0:null===(x=h.toLowerCase())||void 0===x?void 0:x.includes("flux"))||(null===(N=ef.name)||void 0===N?void 0:null===(j=N.toLowerCase())||void 0===j?void 0:j.includes("kie")));r.useEffect(()=>{if(ef){var e,t,s,a;console.log("\uD83E\uDD16 Selected model:",ef.provider,ef.name),(null===(e=ef.provider)||void 0===e?void 0:e.includes("Max"))||(null===(t=ef.model)||void 0===t?void 0:t.includes("max"))?(console.log('\uD83C\uDFA8 Setting kieModel to "max"'),ec("max")):((null===(s=ef.provider)||void 0===s?void 0:s.includes("Pro"))||(null===(a=ef.model)||void 0===a?void 0:a.includes("pro")))&&(console.log('⚡ Setting kieModel to "pro"'),ec("pro"))}console.log("\uD83C\uDFAF isKieAiModel:",eb,"| selectedKieModel:",ed)},[ef]),r.useEffect(()=>{(async()=>{try{let e=await fetch("/api/models/available?type=image_generation");if(e.ok){let t=await e.json();eh(t.models||[])}}catch(e){console.error("Failed to load models:",e)}})()},[]),r.useEffect(()=>{(async()=>{try{let e=await fetch("/api/styles?type=image");if(e.ok){let t=await e.json();$(t.styles||[])}}catch(e){console.error("Failed to load styles:",e)}})()},[]);let[eg,ep]=(0,r.useState)(!1),[ev,ey]=(0,r.useState)({title:"",errors:[],warnings:[]});r.useEffect(()=>{(async()=>{try{let e=await fetch("/api/styles?type=image");if(e.ok){let t=await e.json();$(t.styles||[])}}catch(e){console.error("Failed to load styles:",e)}})()},[]),(0,r.useImperativeHandle)(t,()=>({setPromptForCurrentMode:e=>{D(e)},setStyleByName:e=>{console.log("\uD83C\uDFA8 尝试设置风格:",e),console.log("\uD83C\uDFA8 可用风格列表:",X.map(e=>e.name));let t=X.find(t=>t.name.toLowerCase()===e.toLowerCase());if(!t){let s=e.toLowerCase();for(let[e,a]of Object.entries({"text to image":["photorealistic","realistic","photo"],"image to image":["photorealistic","realistic","photo"],"text to video":["cinematic","video","film"],"image to video":["cinematic","video","film"],"ai generated":["photorealistic","realistic","photo"],generated:["photorealistic","realistic","photo"],cartoon:["cartoon","comic","anime","illustration"],anime:["anime","manga","cartoon","japanese"],"digital art":["digital","digital art","digital painting","illustration"],digital:["digital","digital art","digital painting","illustration"],fantasy:["fantasy","magical","mystical","fairy"],realistic:["photorealistic","realistic","photo","photography"],photorealistic:["photorealistic","realistic","photo","photography"],cyberpunk:["cyberpunk","futuristic","sci-fi","neon"],watercolor:["watercolor","painting","artistic","traditional"],"oil painting":["oil painting","painting","classical","traditional"],sketch:["sketch","drawing","pencil","line art"],"3d":["3d","3d render","render","cgi"],vintage:["vintage","retro","old","classic"],abstract:["abstract","modern","contemporary","artistic"]}))if(s.includes(e)||a.some(e=>s.includes(e))){for(let e of a)if(t=X.find(t=>{var s,a;return t.name.toLowerCase().includes(e)||(null===(s=t.category)||void 0===s?void 0:s.toLowerCase().includes(e))||(null===(a=t.description)||void 0===a?void 0:a.toLowerCase().includes(e))}))break;if(t)break}}if(t||(t=X.find(t=>{var s,a;return t.name.toLowerCase().includes(e.toLowerCase())||e.toLowerCase().includes(t.name.toLowerCase())||(null===(s=t.category)||void 0===s?void 0:s.toLowerCase().includes(e.toLowerCase()))||(null===(a=t.description)||void 0===a?void 0:a.toLowerCase().includes(e.toLowerCase()))})),t)console.log("\uD83C\uDFA8 找到匹配风格:",t.name),ew(t.id,t.name,t);else if(console.log("\uD83C\uDFA8 未找到匹配风格，使用默认风格"),X.length>0){let e=X[0];ew(e.id,e.name,e)}}}));let ew=(e,t,s)=>{console.log("\uD83C\uDFA8 handleStyleSelect called:",{styleId:e,styleName:t,styleData:s}),q(e),G(t||null),H(s||null),E&&E(e,t||null),s&&s.prohibits_image_upload&&("img2img"===k?(console.log("\uD83C\uDFA8 Wind style prohibits image upload, switching to text2img"),F("text2img"),es(null)):"img2video"===k&&(console.log("\uD83C\uDFA8 Style prohibits image upload, switching to text2video"),F("text2video"),es(null)))},ej=e=>{eo(e),Z&&Z(e)},eN=e=>{es(e),er(!1)},eS=()=>{console.log("\uD83C\uDFA8 handleStartDrawing: Starting drawing mode with existing image:",!!et),er(!0)};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"bg-white rounded-2xl md:rounded-3xl shadow-2xl overflow-hidden border-2 md:border-4 border-[#2d3e2d] flex flex-col",children:[(0,a.jsx)("div",{className:"bg-[#4a5a4a] p-4 md:p-6 relative",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("h2",{className:"text-xl md:text-3xl font-black text-[#f5f1e8] mb-2 transform -rotate-1",style:{fontFamily:"Comic Sans MS, cursive",textShadow:"2px 2px 0px #8b7355"},children:"CREATE YOUR AIMAGICA! \uD83C\uDFA8"}),(0,a.jsx)("p",{className:"text-[#f5f1e8] font-bold text-sm md:text-base",style:{fontFamily:"Comic Sans MS, cursive"},children:"Quick & Easy Generation ⚡"})]})}),(0,a.jsxs)("div",{className:"flex-1 p-6 space-y-6 min-h-0",children:[!T&&(0,a.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl border-4 border-[#2d3e2d] p-4 transform rotate-1 hover:rotate-0 transition-all duration-300 relative overflow-hidden",children:[(0,a.jsx)("div",{className:"absolute -top-2 -right-2 w-6 h-6 bg-[#d4a574] rounded-full"}),(0,a.jsx)("div",{className:"absolute -bottom-1 -left-1 w-4 h-4 bg-[#8b7355] rounded-full"}),(0,a.jsx)("h3",{className:"text-[#2d3e2d] font-black text-lg mb-4 transform -rotate-2",style:{fontFamily:"Comic Sans MS, cursive",textShadow:"2px 2px 0px #d4a574"},children:"Choose Creation Mode! \uD83C\uDFAF"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[(0,a.jsxs)("button",{onClick:()=>F("text2img"),className:"p-4 rounded-xl border-2 transition-all transform hover:scale-105 hover:rotate-1 ".concat("text2img"===k?"bg-[#d4a574] border-[#d4a574] text-[#2d3e2d] scale-105 rotate-1 shadow-lg":"bg-[#f5f1e8] border-[#8b7355] text-[#8b7355] hover:border-[#d4a574] hover:bg-white"),style:{fontFamily:"Comic Sans MS, cursive"},children:[(0,a.jsx)(f.Z,{className:"w-6 h-6 mx-auto mb-2"}),(0,a.jsx)("div",{className:"font-bold text-sm",children:"Text to Image"})]}),(0,a.jsxs)("button",{onClick:()=>{if(null==Q?void 0:Q.prohibits_image_upload){ey({title:"".concat(Q.emoji," ").concat(Q.name," Restriction"),errors:["".concat(Q.name," style does not support image upload. This is a text-only style. Please use Text-to-Image mode.")],warnings:[],styleName:Q.name,styleEmoji:Q.emoji}),ep(!0);return}F("img2img")},disabled:null==Q?void 0:Q.prohibits_image_upload,className:"p-4 rounded-xl border-2 transition-all transform hover:scale-105 hover:-rotate-1 ".concat((null==Q?void 0:Q.prohibits_image_upload)?"bg-gray-100 border-gray-300 text-gray-400 cursor-not-allowed opacity-50":"img2img"===k?"bg-[#d4a574] border-[#d4a574] text-[#2d3e2d] scale-105 -rotate-1 shadow-lg":"bg-[#f5f1e8] border-[#8b7355] text-[#8b7355] hover:border-[#d4a574] hover:bg-white"),style:{fontFamily:"Comic Sans MS, cursive"},children:[(0,a.jsx)(b.Z,{className:"w-6 h-6 mx-auto mb-2"}),(0,a.jsx)("div",{className:"font-bold text-sm",children:"Image to Image"})]}),(0,a.jsxs)("button",{onClick:()=>F("text2video"),className:"p-4 rounded-xl border-2 transition-all transform hover:scale-105 hover:rotate-2 ".concat("text2video"===k?"bg-[#d4a574] border-[#d4a574] text-[#2d3e2d] scale-105 rotate-2 shadow-lg":"bg-[#f5f1e8] border-[#8b7355] text-[#8b7355] hover:border-[#d4a574] hover:bg-white"),style:{fontFamily:"Comic Sans MS, cursive"},children:[(0,a.jsx)(g.Z,{className:"w-6 h-6 mx-auto mb-2"}),(0,a.jsx)("div",{className:"font-bold text-sm",children:"Text to Video"})]}),(0,a.jsxs)("button",{onClick:()=>{if(null==Q?void 0:Q.prohibits_image_upload){ey({title:"".concat(Q.emoji," ").concat(Q.name," Restriction"),errors:["".concat(Q.name," style does not support image upload. This is a text-only style. Please use Text-to-Video mode.")],warnings:[],styleName:Q.name,styleEmoji:Q.emoji}),ep(!0);return}F("img2video")},disabled:null==Q?void 0:Q.prohibits_image_upload,className:"p-4 rounded-xl border-2 transition-all transform hover:scale-105 hover:-rotate-2 ".concat((null==Q?void 0:Q.prohibits_image_upload)?"bg-gray-100 border-gray-300 text-gray-400 cursor-not-allowed opacity-50":"img2video"===k?"bg-[#d4a574] border-[#d4a574] text-[#2d3e2d] scale-105 -rotate-2 shadow-lg":"bg-[#f5f1e8] border-[#8b7355] text-[#8b7355] hover:border-[#d4a574] hover:bg-white"),style:{fontFamily:"Comic Sans MS, cursive"},children:[(0,a.jsx)(p.Z,{className:"w-6 h-6 mx-auto mb-2"}),(0,a.jsx)("div",{className:"font-bold text-sm",children:"Image to Video"})]})]})]}),("img2img"===k||"img2video"===k)&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-[#2d3e2d] font-black text-lg mb-4 transform rotate-1",style:{fontFamily:"Comic Sans MS, cursive",textShadow:"1px 1px 0px #d4a574"},children:"Upload or Draw Your Image! \uD83D\uDCF8\uD83C\uDFA8"}),et&&!ea?(0,a.jsx)("div",{className:"border-2 border-dashed border-[#8b7355] rounded-xl p-6 text-center bg-[#f5f1e8]",children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("img",{src:et,alt:"Uploaded or drawn image",className:"max-h-[200px] mx-auto rounded-lg shadow-lg border-2 border-[#8b7355]"}),(0,a.jsx)("button",{onClick:()=>es(null),className:"absolute -top-2 -right-2 bg-[#d4a574] hover:bg-[#c19660] text-[#2d3e2d] rounded-full w-8 h-8 flex items-center justify-center font-bold",style:{fontFamily:"Comic Sans MS, cursive"},children:(0,a.jsx)(v.Z,{className:"w-4 h-4"})}),(0,a.jsxs)("div",{className:"mt-3 flex gap-2 justify-center",children:[(0,a.jsxs)("button",{onClick:()=>es(null),className:"bg-white border-2 border-[#8b7355] text-[#2d3e2d] hover:bg-[#d4a574] font-bold px-4 py-2 rounded-xl transition-all",style:{fontFamily:"Comic Sans MS, cursive"},children:[(0,a.jsx)(b.Z,{className:"w-4 h-4 mr-1 inline"}),"Upload New"]}),(0,a.jsxs)("button",{onClick:eS,className:"bg-white border-2 border-[#8b7355] text-[#2d3e2d] hover:bg-[#d4a574] font-bold px-4 py-2 rounded-xl transition-all",style:{fontFamily:"Comic Sans MS, cursive"},children:[(0,a.jsx)(y.Z,{className:"w-4 h-4 mr-1 inline"}),"Edit Image"]})]})]})}):ea?(0,a.jsxs)("div",{className:"border-2 border-dashed border-[#8b7355] rounded-xl p-6 bg-[#f5f1e8]",children:[(0,a.jsxs)("div",{className:"text-center mb-4",children:[(0,a.jsx)("h4",{className:"text-[#2d3e2d] font-bold text-lg mb-2",style:{fontFamily:"Comic Sans MS, cursive"},children:"\uD83D\uDDBC️ Edit Your Image!"}),(0,a.jsx)("p",{className:"text-[#8b7355] font-bold text-sm",style:{fontFamily:"Comic Sans MS, cursive"},children:"Draw modifications on your image - AI will enhance the changes!"})]}),(0,a.jsx)("div",{className:"bg-white rounded-lg border-2 border-[#8b7355] overflow-hidden",children:(0,a.jsx)(L,{onSubmitDrawing:eN,baseImage:et,mode:"edit"})}),(0,a.jsxs)("div",{className:"mt-4 text-center",children:[(0,a.jsxs)("div",{className:"flex gap-4 justify-center",children:[(0,a.jsx)("button",{onClick:()=>er(!1),className:"bg-white border-2 border-[#8b7355] text-[#2d3e2d] hover:bg-[#8b7355] hover:text-[#f5f1e8] font-bold px-6 py-3 rounded-xl transition-all transform hover:scale-105",style:{fontFamily:"Comic Sans MS, cursive"},children:"Cancel"}),(0,a.jsxs)("button",{onClick:()=>{let e=document.querySelector("canvas");e&&(eN(e.toDataURL("image/png")),console.log("\uD83C\uDFA8 Manual save triggered from external button"))},className:"bg-[#d4a574] hover:bg-[#c19660] text-[#2d3e2d] font-bold px-6 py-3 rounded-xl transition-all transform hover:scale-105 shadow-lg animate-pulse",style:{fontFamily:"Comic Sans MS, cursive"},children:[(0,a.jsx)(w.Z,{className:"w-4 h-4 mr-2 inline"}),"Save Changes! ✨"]})]}),(0,a.jsx)("p",{className:"text-[#8b7355] text-sm mt-2 font-bold",style:{fontFamily:"Comic Sans MS, cursive"},children:'\uD83D\uDCA1 Tip: You can also use the "Apply Changes!" button on the canvas'})]})]}):(0,a.jsx)("div",{className:"border-2 border-dashed border-[#8b7355] rounded-xl p-6 text-center bg-[#f5f1e8]",children:(0,a.jsxs)("div",{className:"py-8",children:[(0,a.jsxs)("div",{className:"flex justify-center gap-8 mb-6",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(b.Z,{className:"w-12 h-12 text-[#8b7355] mx-auto mb-2"}),(0,a.jsx)("p",{className:"text-[#8b7355] font-bold text-sm",style:{fontFamily:"Comic Sans MS, cursive"},children:"Upload Image"})]}),(0,a.jsx)("div",{className:"text-[#8b7355] text-2xl flex items-center",children:"OR"}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(y.Z,{className:"w-12 h-12 text-[#8b7355] mx-auto mb-2"}),(0,a.jsx)("p",{className:"text-[#8b7355] font-bold text-sm",style:{fontFamily:"Comic Sans MS, cursive"},children:"Edit Image"})]})]}),(0,a.jsxs)("div",{className:"flex gap-4 justify-center",children:[(0,a.jsxs)("label",{className:"bg-[#d4a574] hover:bg-[#c19660] text-[#2d3e2d] font-bold px-6 py-3 rounded-xl cursor-pointer transition-all transform hover:scale-105 border-2 border-[#2d3e2d]",children:[(0,a.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{var t;let s=null===(t=e.target.files)||void 0===t?void 0:t[0];if(s){let e=new FileReader;e.onload=e=>{var t;es(null===(t=e.target)||void 0===t?void 0:t.result)},e.readAsDataURL(s)}},className:"hidden"}),(0,a.jsx)(b.Z,{className:"w-5 h-5 mr-2 inline"}),"Choose File"]}),(0,a.jsxs)("button",{onClick:eS,disabled:!et,className:"font-bold px-6 py-3 rounded-xl transition-all transform border-2 border-[#2d3e2d] ".concat(et?"bg-[#8b7355] hover:bg-[#6d5a42] text-[#f5f1e8] hover:scale-105":"bg-[#8b7355]/30 text-[#8b7355] cursor-not-allowed"),style:{fontFamily:"Comic Sans MS, cursive"},children:[(0,a.jsx)(y.Z,{className:"w-5 h-5 mr-2 inline"}),et?"Start Editing":"Upload Image First"]})]})]})})]}),(0,a.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl border-4 border-[#2d3e2d] p-4 transform rotate-0.5 hover:-rotate-0.5 hover:scale-105 hover:shadow-2xl transition-all duration-300 relative overflow-hidden",children:[(0,a.jsx)("div",{className:"absolute -top-2 -right-2 w-5 h-5 bg-[#d4a574] rounded-full"}),(0,a.jsx)("div",{className:"absolute -bottom-1 -left-1 w-3 h-3 bg-[#8b7355] rounded-full"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)(i._,{className:"text-[#2d3e2d] font-black text-base transform -rotate-1 hover:rotate-1 hover:scale-105 inline-block transition-all duration-300 cursor-pointer",style:{fontFamily:"Comic Sans MS, cursive",textShadow:"1px 1px 0px #d4a574"},children:"img2img"===k||"img2video"===k?"Describe Your Vision! (Optional) \uD83D\uDCAD":"Describe Your Vision! ✨"}),(0,a.jsxs)("div",{className:"relative group",children:[(0,a.jsx)(o.g,{value:C,onChange:e=>D(e.target.value),placeholder:"img2img"===k||"img2video"===k?"Describe how you want to transform your image... (Optional - AI can work with just the image!)":"A magical forest with glowing mushrooms and fairy lights...",className:"border-2 border-[#8b7355] bg-[#f5f1e8] text-[#2d3e2d] placeholder:text-[#8b7355]/70 font-bold resize-none focus:border-[#d4a574] focus:ring-2 focus:ring-[#d4a574]/20 pr-10 py-6",style:{fontFamily:"Comic Sans MS, cursive"},rows:7}),C&&(0,a.jsx)("button",{onClick:()=>D(""),className:"absolute top-2 right-2 w-6 h-6 bg-[#8b7355] hover:bg-[#d4a574] text-white rounded-full flex items-center justify-center transition-all duration-200 opacity-0 group-hover:opacity-100 hover:scale-110 shadow-lg",style:{fontFamily:"Comic Sans MS, cursive",fontSize:"14px",fontWeight:"bold"},title:"Clear text",children:"✕"})]}),(0,a.jsxs)("div",{className:"flex gap-2 mt-2",children:[(0,a.jsx)("button",{onClick:()=>{let e=["A magical forest with glowing mushrooms and fairy lights","A cyberpunk city with neon lights reflecting in the rain","A serene mountain lake at sunset with mist","A cute cat wizard casting colorful spells","A fantasy castle floating in the clouds","A steampunk airship sailing through golden sky","A cozy cottage in an enchanted winter wonderland","A dragon soaring over mystical ancient ruins","A vibrant underwater coral reef with tropical fish","A peaceful zen garden with cherry blossoms falling","A majestic phoenix rising from crystalline flames","A space explorer discovering alien planets with purple moons","A Victorian mansion in a thunderstorm with lightning","A friendly robot gardener tending to rainbow flowers","An ancient library with floating books and golden dust","A pirate ship sailing through starry night clouds","A crystal cave filled with bioluminescent creatures","A time traveler's workshop with clockwork inventions","A mermaid palace built from coral and pearls","A ninja cat on a moonlit rooftop in feudal Japan","A floating island city with waterfalls and bridges","A magical bakery where pastries glow with enchantments","An arctic fox dancing with aurora borealis lights","A desert oasis with palm trees and hidden treasures","A clockwork butterfly in a garden of mechanical flowers","A sleepy dragon curled around a tower of books","A carnival in the clouds with balloon rides and cotton candy","A witch's greenhouse filled with singing plants","A knight's armor decorating a peaceful meadow","A submarine exploring colorful deep-sea trenches","A treehouse village connected by rope bridges","A phoenix feather glowing in an ancient temple","A robot artist painting landscapes on Mars","A fairy ring of mushrooms glowing under starlight","A clocktower with gears made of autumn leaves","A dragon egg nestled in a field of spring flowers","A ghost ship sailing through mist and moonbeams","A butterfly sanctuary with rainbow-winged creatures","A medieval tournament with colorful banners flying","A hot air balloon race over painted desert canyons"],t=Array.from({length:e.length},(e,t)=>t).filter(e=>!em.has(e));0===t.length&&(eu(new Set),t=Array.from({length:e.length},(e,t)=>t));let s=t[Math.floor(Math.random()*t.length)],a=e[s];eu(e=>new Set([...e,s])),D(a)},className:"px-3 py-1 bg-[#d4a574] hover:bg-[#c19660] text-[#2d3e2d] rounded-lg text-xs font-bold transition-all duration-200 transform hover:scale-105 shadow-md",style:{fontFamily:"Comic Sans MS, cursive"},title:"Generate random prompt",children:"\uD83C\uDFB2 Random"}),(0,a.jsx)("button",{onClick:()=>D(""),className:"px-3 py-1 bg-[#8b7355] hover:bg-[#7a6449] text-white rounded-lg text-xs font-bold transition-all duration-200 transform hover:scale-105 shadow-md",style:{fontFamily:"Comic Sans MS, cursive"},title:"Reset text",children:"\uD83D\uDD04 Reset"})]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsx)(O,{onModelSelect:en,selectedModelId:ei,type:"image_generation",className:"transform rotate-0.5 hover:-rotate-0.5 hover:scale-105 hover:shadow-2xl transition-all duration-300",dynamicKieModel:ed,availableModels:ex}),(0,a.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl border-4 border-[#2d3e2d] p-4 transform -rotate-0.5 hover:rotate-0 hover:scale-105 hover:shadow-2xl transition-all duration-300 relative overflow-hidden",children:[(0,a.jsx)("div",{className:"absolute -top-2 -left-2 w-5 h-5 bg-[#d4a574] rounded-full"}),(0,a.jsx)("div",{className:"absolute -bottom-1 -right-1 w-3 h-3 bg-[#8b7355] rounded-full"}),(0,a.jsx)("h4",{className:"text-[#2d3e2d] font-black text-base mb-3 transform rotate-1",style:{fontFamily:"Comic Sans MS, cursive",textShadow:"1px 1px 0px #d4a574"},children:"Aspect Ratio \uD83D\uDCD0"}),(0,a.jsx)("div",{className:"grid grid-cols-3 gap-2",children:V.map((e,t)=>(0,a.jsx)(l.z,{onClick:()=>ej(e.id),variant:"outline",className:"h-auto py-2 px-1 border-2 font-bold transition-all transform hover:scale-105 hover:shadow-lg text-xs ".concat(el===e.id?"bg-[#d4a574] border-[#d4a574] text-[#2d3e2d] scale-105 shadow-lg ".concat(t%2==0?"rotate-1":"-rotate-1"):"bg-[#f5f1e8] border-[#8b7355] text-[#8b7355] hover:bg-[#d4a574]/20 hover:border-[#d4a574]"),style:{fontFamily:"Comic Sans MS, cursive"},children:(0,a.jsxs)("div",{className:"flex flex-col items-center space-y-1",children:["string"==typeof e.icon?(0,a.jsx)("span",{className:"text-sm",children:e.icon}):(0,a.jsx)("div",{className:"text-sm",children:e.icon}),(0,a.jsx)("span",{className:"text-xs leading-tight",children:e.name}),(0,a.jsx)("span",{className:"text-xs opacity-70",children:e.id})]})},e.id))})]})]}),eb&&(0,a.jsx)(U,{onModelSelect:ec,selectedModel:ed,className:"transform -rotate-0.5 hover:rotate-0.5 transition-all duration-300"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-[#2d3e2d] font-black text-lg mb-4 transform -rotate-1",style:{fontFamily:"Comic Sans MS, cursive",textShadow:"1px 1px 0px #d4a574"},children:"Choose Art Style! \uD83C\uDFA8"}),(0,a.jsx)(M,{onStyleSelect:ew,selectedStyleId:W})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 items-stretch",children:[(0,a.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl border-4 border-[#2d3e2d] p-4 transform rotate-0.5 hover:-rotate-0.5 hover:scale-105 hover:shadow-2xl transition-all duration-300 relative overflow-hidden",children:[(0,a.jsx)("div",{className:"absolute -top-2 -right-2 w-5 h-5 bg-[#d4a574] rounded-full"}),(0,a.jsx)("div",{className:"absolute -bottom-1 -left-1 w-3 h-3 bg-[#8b7355] rounded-full"}),(0,a.jsxs)("h4",{className:"text-[#2d3e2d] font-black text-base mb-3 transform -rotate-1",style:{fontFamily:"Comic Sans MS, cursive",textShadow:"1px 1px 0px #d4a574"},children:["Number of ",k.includes("video")?"Videos":"Images"," \uD83D\uDDBC️"]}),(0,a.jsx)("div",{className:"grid grid-cols-3 gap-3",children:[1,2,4].map((e,t)=>(0,a.jsx)(l.z,{onClick:()=>{console.log("\uD83D\uDC1B Setting imageCount to ".concat(e)),ee(e)},variant:"outline",className:"h-16 px-4 py-3 border-3 font-black transition-all transform hover:scale-110 hover:shadow-xl text-base rounded-xl ".concat(J===e?"bg-[#d4a574] border-[#d4a574] text-[#2d3e2d] scale-110 shadow-xl ".concat(t%2==0?"rotate-2":"-rotate-2"):"bg-[#f5f1e8] border-[#8b7355] text-[#8b7355] hover:bg-[#d4a574]/20 hover:border-[#d4a574]"),style:{fontFamily:"Comic Sans MS, cursive"},children:(0,a.jsxs)("div",{className:"flex flex-col items-center space-y-1",children:[(0,a.jsx)("span",{className:"text-2xl font-black",children:e}),(0,a.jsxs)("span",{className:"text-xs opacity-80",children:[k.includes("video")?"Video":"Image",e>1?"s":""]})]})},e))})]}),(0,a.jsxs)("div",{className:"p-4 bg-gradient-to-br from-[#f5f1e8] to-[#ede7d3] rounded-xl border-2 border-[#8b7355] shadow-lg transform -rotate-0.5 hover:rotate-0 hover:scale-105 hover:shadow-2xl transition-all duration-300 relative overflow-hidden",children:[(0,a.jsx)("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-[#d4a574] rounded-full animate-pulse"}),(0,a.jsx)("div",{className:"absolute -bottom-1 -left-1 w-2 h-2 bg-[#8b7355] rounded-full animate-pulse delay-500"}),(0,a.jsx)("h4",{className:"text-[#2d3e2d] font-black mb-2 transform rotate-1 animate-wiggle",style:{fontFamily:"Comic Sans MS, cursive",textShadow:"2px 2px 0px #d4a574"},children:"Magic Tips! \uD83D\uDCA1"}),(0,a.jsxs)("div",{className:"text-[#2d3e2d] font-bold space-y-1 text-sm",style:{fontFamily:"Comic Sans MS, cursive"},children:["text2img"===k&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("p",{children:"\uD83D\uDCDD Detailed descriptions get better results"}),(0,a.jsx)("p",{children:'\uD83C\uDFA8 Try adding style keywords like "watercolor", "oil painting"'}),(0,a.jsx)("p",{children:'✨ Use emotional words like "dreamy", "mysterious"'})]}),"img2img"===k&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("p",{children:"\uD83D\uDDBC️ Clear, high-quality images work best"}),(0,a.jsx)("p",{children:"\uD83C\uDFA8 Describe the transformation you want"}),(0,a.jsx)("p",{children:"✨ Additional descriptions help guide the result"})]}),"text2video"===k&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("p",{children:"\uD83C\uDFAC Describe movement and action for better videos"}),(0,a.jsx)("p",{children:'\uD83C\uDFA8 Include camera angles like "close-up", "wide shot"'}),(0,a.jsx)("p",{children:"✨ Mention lighting and atmosphere for cinematic feel"})]}),"img2video"===k&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("p",{children:"\uD83D\uDDBC️ Use clear, well-lit images for best results"}),(0,a.jsx)("p",{children:"\uD83C\uDFAD Describe specific movements you want to see"}),(0,a.jsx)("p",{children:"✨ Keep animations simple for more realistic results"})]})]})]})]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-[#d4a574]/20 to-[#8b7355]/20 rounded-3xl transform rotate-1 scale-105"}),(0,a.jsxs)(l.z,{onClick:()=>{if(console.log("\uD83C\uDFA8 handleStartRender called"),console.log("\uD83C\uDFA8 Current state:",{creationMode:k,textPrompt:C.trim(),selectedStyleId:W,selectedStyleData:Q,uploadedImage:!!et,imageCount:J,selectedAspectRatio:el}),console.log("\uD83D\uDC1B About to call onStartRender with imageCount = ".concat(J)),"img2img"===k||"img2video"===k){if(!et){ey({title:"Image Required",errors:["Please upload or draw an image for image-to-image generation"],warnings:[]}),ep(!0);return}S(el,W,J,et,{modelId:ei,kieModel:ed});return}if(null===W)C.trim()?S(el,W,J,null,{modelId:ei,kieModel:ed}):(ey({title:"Description Required",errors:["Please enter a description of the image you want to generate"],warnings:[]}),ep(!0));else if(!Q.name.includes("TOY PHOTOGRAPHY")){var e;C.trim()||(null==Q?void 0:null===(e=Q.default_prompt)||void 0===e?void 0:e.trim())?S(el,W,J,et,{modelId:ei,kieModel:ed}):(ey({title:"Description Required",errors:["Please enter a description or choose a style with default prompt"],warnings:[]}),ep(!0))}},disabled:!1,className:"relative w-full bg-gradient-to-r from-[#d4a574] to-[#8b7355] hover:from-[#c19660] hover:to-[#6d5a42] text-[#2d3e2d] font-black text-lg py-4 rounded-2xl shadow-2xl border-4 border-[#2d3e2d] transform hover:scale-105 hover:-rotate-1 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100 disabled:hover:rotate-0 animate-pulse",style:{fontFamily:"Comic Sans MS, cursive",textShadow:"2px 2px 0px rgba(245, 241, 232, 0.8)"},children:[(0,a.jsxs)("span",{className:"relative z-10",children:["✨ Generate ",J," Amazing ",k.includes("video")?"Video".concat(J>1?"s":""):"Image".concat(J>1?"s":"")," ✨"]}),(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent transform -skew-x-12 -translate-x-full animate-[shimmer_2s_infinite]"})]})]})]})]}),(0,a.jsx)(z.Z,{isOpen:eg,onClose:()=>ep(!1),title:ev.title,errors:ev.errors,warnings:ev.warnings,styleName:ev.styleName,styleEmoji:ev.styleEmoji})]})});B.displayName="GenerationInterface";var W=B},35974:function(e,t,s){s.d(t,{C:function(){return i}});var a=s(57437);s(2265);var r=s(90535),l=s(94508);let o=(0,r.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function i(e){let{className:t,variant:s,...r}=e;return(0,a.jsx)("div",{className:(0,l.cn)(o({variant:s}),t),...r})}},62869:function(e,t,s){s.d(t,{z:function(){return d}});var a=s(57437),r=s(2265),l=s(37053),o=s(90535),i=s(94508);let n=(0,o.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=r.forwardRef((e,t)=>{let{className:s,variant:r,size:o,asChild:d=!1,...c}=e,m=d?l.g7:"button";return(0,a.jsx)(m,{className:(0,i.cn)(n({variant:r,size:o,className:s})),ref:t,...c})});d.displayName="Button"},66070:function(e,t,s){s.d(t,{Ol:function(){return i},SZ:function(){return d},Zb:function(){return o},aY:function(){return c},ll:function(){return n}});var a=s(57437),r=s(2265),l=s(94508);let o=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",s),...r})});o.displayName="Card";let i=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",s),...r})});i.displayName="CardHeader";let n=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",s),...r})});n.displayName="CardTitle";let d=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",s),...r})});d.displayName="CardDescription";let c=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("p-6 pt-0",s),...r})});c.displayName="CardContent",r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("flex items-center p-6 pt-0",s),...r})}).displayName="CardFooter"},26110:function(e,t,s){s.d(t,{$N:function(){return h},Vq:function(){return n},cZ:function(){return u},fK:function(){return x},hg:function(){return d}});var a=s(57437),r=s(2265),l=s(49027),o=s(32489),i=s(94508);let n=l.fC,d=l.xz,c=l.h_;l.x8;let m=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(l.aV,{ref:t,className:(0,i.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...r})});m.displayName=l.aV.displayName;let u=r.forwardRef((e,t)=>{let{className:s,children:r,...n}=e;return(0,a.jsxs)(c,{children:[(0,a.jsx)(m,{}),(0,a.jsxs)(l.VY,{ref:t,className:(0,i.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...n,children:[r,(0,a.jsxs)(l.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground bg-gray-800 hover:bg-gray-700 text-white border border-gray-600 hover:border-gray-500 p-1",children:[(0,a.jsx)(o.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});u.displayName=l.VY.displayName;let x=e=>{let{className:t,...s}=e;return(0,a.jsx)("div",{className:(0,i.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...s})};x.displayName="DialogHeader";let h=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(l.Dx,{ref:t,className:(0,i.cn)("text-lg font-semibold leading-none tracking-tight",s),...r})});h.displayName=l.Dx.displayName,r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(l.dk,{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",s),...r})}).displayName=l.dk.displayName},26815:function(e,t,s){s.d(t,{_:function(){return d}});var a=s(57437),r=s(2265),l=s(6394),o=s(90535),i=s(94508);let n=(0,o.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(l.f,{ref:t,className:(0,i.cn)(n(),s),...r})});d.displayName=l.f.displayName},53647:function(e,t,s){s.d(t,{Bw:function(){return f},Ph:function(){return c},Ql:function(){return b},i4:function(){return u},ki:function(){return m}});var a=s(57437),r=s(2265),l=s(68856),o=s(40875),i=s(22135),n=s(30401),d=s(94508);let c=l.fC;l.ZA;let m=l.B4,u=r.forwardRef((e,t)=>{let{className:s,children:r,...i}=e;return(0,a.jsxs)(l.xz,{ref:t,className:(0,d.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",s),...i,children:[r,(0,a.jsx)(l.JO,{asChild:!0,children:(0,a.jsx)(o.Z,{className:"h-4 w-4 opacity-50"})})]})});u.displayName=l.xz.displayName;let x=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(l.u_,{ref:t,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",s),...r,children:(0,a.jsx)(i.Z,{className:"h-4 w-4"})})});x.displayName=l.u_.displayName;let h=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(l.$G,{ref:t,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",s),...r,children:(0,a.jsx)(o.Z,{className:"h-4 w-4"})})});h.displayName=l.$G.displayName;let f=r.forwardRef((e,t)=>{let{className:s,children:r,position:o="popper",...i}=e;return(0,a.jsx)(l.h_,{children:(0,a.jsxs)(l.VY,{ref:t,className:(0,d.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===o&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:o,...i,children:[(0,a.jsx)(x,{}),(0,a.jsx)(l.l_,{className:(0,d.cn)("p-1","popper"===o&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),(0,a.jsx)(h,{})]})})});f.displayName=l.VY.displayName,r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(l.__,{ref:t,className:(0,d.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",s),...r})}).displayName=l.__.displayName;let b=r.forwardRef((e,t)=>{let{className:s,children:r,...o}=e;return(0,a.jsxs)(l.ck,{ref:t,className:(0,d.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...o,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(l.wU,{children:(0,a.jsx)(n.Z,{className:"h-4 w-4"})})}),(0,a.jsx)(l.eT,{children:r})]})});b.displayName=l.ck.displayName,r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(l.Z0,{ref:t,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",s),...r})}).displayName=l.Z0.displayName},85897:function(e,t,s){s.d(t,{i:function(){return i}});var a=s(57437),r=s(2265),l=s(38846),o=s(94508);let i=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsxs)(l.fC,{ref:t,className:(0,o.cn)("relative flex w-full touch-none select-none items-center",s),...r,children:[(0,a.jsx)(l.fQ,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:(0,a.jsx)(l.e6,{className:"absolute h-full bg-primary"})}),(0,a.jsx)(l.bU,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]})});i.displayName=l.fC.displayName},9695:function(e,t,s){s.d(t,{Z:function(){return c}});var a=s(57437);s(2265);var r=s(62869),l=s(26110),o=s(76865),i=s(33245),n=s(41671),d=s(32489);function c(e){let{isOpen:t,onClose:s,title:c,errors:m=[],warnings:u=[],styleName:x,styleEmoji:h}=e,f=m.length>0,b=u.length>0;return(0,a.jsx)(l.Vq,{open:t,onOpenChange:s,children:(0,a.jsxs)(l.cZ,{className:"sm:max-w-md bg-[#f5f1e8] border-4 border-[#8b7355] rounded-2xl",children:[(0,a.jsxs)(l.fK,{className:"text-center",children:[(0,a.jsx)("div",{className:"flex justify-center mb-3",children:f?(0,a.jsx)("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center",children:(0,a.jsx)(o.Z,{className:"w-8 h-8 text-red-500"})}):b?(0,a.jsx)("div",{className:"w-16 h-16 bg-yellow-100 rounded-full flex items-center justify-center",children:(0,a.jsx)(i.Z,{className:"w-8 h-8 text-yellow-500"})}):(0,a.jsx)("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center",children:(0,a.jsx)(n.Z,{className:"w-8 h-8 text-green-500"})})}),(0,a.jsx)(l.$N,{className:"text-[#2d3e2d] font-black text-xl mb-2",style:{fontFamily:"Comic Sans MS, cursive"},children:c}),x&&(0,a.jsxs)("div",{className:"flex items-center justify-center gap-2 mb-4",children:[(0,a.jsx)("span",{className:"text-2xl",children:h}),(0,a.jsx)("span",{className:"text-[#8b7355] font-bold",style:{fontFamily:"Comic Sans MS, cursive"},children:x})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[f&&(0,a.jsxs)("div",{className:"p-4 bg-red-50 rounded-xl border-2 border-red-200",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)(o.Z,{className:"w-5 h-5 text-red-500"}),(0,a.jsx)("h4",{className:"text-red-700 font-bold",style:{fontFamily:"Comic Sans MS, cursive"},children:"Requirements not met:"})]}),(0,a.jsx)("ul",{className:"space-y-1",children:m.map((e,t)=>(0,a.jsxs)("li",{className:"text-red-600 text-sm font-bold flex items-start gap-2",style:{fontFamily:"Comic Sans MS, cursive"},children:[(0,a.jsx)("span",{className:"text-red-500 mt-0.5",children:"•"}),e]},t))})]}),b&&(0,a.jsxs)("div",{className:"p-4 bg-yellow-50 rounded-xl border-2 border-yellow-200",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)(i.Z,{className:"w-5 h-5 text-yellow-500"}),(0,a.jsx)("h4",{className:"text-yellow-700 font-bold",style:{fontFamily:"Comic Sans MS, cursive"},children:"Tips:"})]}),(0,a.jsx)("ul",{className:"space-y-1",children:u.map((e,t)=>(0,a.jsxs)("li",{className:"text-yellow-600 text-sm font-bold flex items-start gap-2",style:{fontFamily:"Comic Sans MS, cursive"},children:[(0,a.jsx)("span",{className:"text-yellow-500 mt-0.5",children:"•"}),e]},t))})]}),(0,a.jsx)("div",{className:"flex justify-center pt-2",children:(0,a.jsxs)(r.z,{onClick:s,className:"bg-[#8b7355] hover:bg-[#6d5a44] text-white font-bold px-6 py-2 rounded-xl transform transition-all duration-200 hover:scale-105 active:scale-95 shadow-lg hover:shadow-xl",style:{fontFamily:"Comic Sans MS, cursive"},children:[(0,a.jsx)(d.Z,{className:"w-4 h-4 mr-2"}),"Got it!"]})})]})]})})}},12339:function(e,t,s){s.d(t,{SP:function(){return d},dr:function(){return n},mQ:function(){return i},nU:function(){return c}});var a=s(57437),r=s(2265),l=s(20271),o=s(94508);let i=l.fC,n=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(l.aV,{ref:t,className:(0,o.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",s),...r})});n.displayName=l.aV.displayName;let d=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(l.xz,{ref:t,className:(0,o.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",s),...r})});d.displayName=l.xz.displayName;let c=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(l.VY,{ref:t,className:(0,o.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",s),...r})});c.displayName=l.VY.displayName},76818:function(e,t,s){s.d(t,{g:function(){return o}});var a=s(57437),r=s(2265),l=s(94508);let o=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("textarea",{className:(0,l.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:t,...r})});o.displayName="Textarea"},94508:function(e,t,s){s.d(t,{cn:function(){return l}});var a=s(61994),r=s(53335);function l(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,r.m6)((0,a.W)(t))}}}]);