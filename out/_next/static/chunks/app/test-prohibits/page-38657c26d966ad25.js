(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3046],{69440:function(e,s,i){Promise.resolve().then(i.bind(i,83950))},83950:function(e,s,i){"use strict";i.r(s),i.d(s,{default:function(){return t}});var r=i(57437),d=i(2265);function t(){let[e,s]=(0,d.useState)([]),[i,t]=(0,d.useState)(null);return(0,d.useEffect)(()=>{(async()=>{try{var e;let i=await fetch("/api/styles?type=image"),r=await i.json();console.log("\uD83D\uDCCA Fetched styles:",r.styles);let d=null===(e=r.styles)||void 0===e?void 0:e.find(e=>e.name.toLowerCase().includes("chibi"));d&&console.log("\uD83C\uDFAF CHIBI DIORAMA data:",{name:d.name,id:d.id,prohibits_image_upload:d.prohibits_image_upload,prohibits_type:typeof d.prohibits_image_upload,raw_data:d}),s(r.styles||[])}catch(e){console.error("Error fetching styles:",e)}})()},[]),(0,r.jsxs)("div",{className:"container mx-auto p-8",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"测试禁止图片上传功能"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"风格列表"}),(0,r.jsx)("div",{className:"space-y-2",children:e.map(e=>(0,r.jsxs)("div",{onClick:()=>t(e),className:"p-3 border rounded cursor-pointer ".concat((null==i?void 0:i.id)===e.id?"bg-blue-50 border-blue-300":"border-gray-200"),children:[(0,r.jsxs)("div",{className:"font-medium",children:[e.emoji," ",e.name]}),(0,r.jsxs)("div",{className:"text-sm text-gray-600",children:["prohibits_image_upload: ",String(e.prohibits_image_upload)," (type: ",typeof e.prohibits_image_upload,")"]}),(0,r.jsxs)("div",{className:"text-sm text-gray-600",children:["requires_image_upload: ",String(e.requires_image_upload)," (type: ",typeof e.requires_image_upload,")"]})]},e.id))})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"选中风格详情"}),i?(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"名称:"})," ",i.name]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"ID:"})," ",i.id]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"禁止图片上传:"})," ",i.prohibits_image_upload?"是":"否","(原始值: ",String(i.prohibits_image_upload),", 类型: ",typeof i.prohibits_image_upload,")"]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"必须图片上传:"})," ",i.requires_image_upload?"是":"否"]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"必须描述:"})," ",i.requires_prompt_description?"是":"否"]}),(0,r.jsxs)("div",{className:"mt-4 p-3 bg-gray-50 rounded",children:[(0,r.jsx)("strong",{children:"完整数据:"}),(0,r.jsx)("pre",{className:"text-xs mt-2 overflow-auto",children:JSON.stringify(i,null,2)})]}),i.prohibits_image_upload&&(0,r.jsxs)("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded",children:[(0,r.jsx)("div",{className:"text-red-700 font-medium",children:"⚠️ 此风格禁止图片上传"}),(0,r.jsx)("div",{className:"text-sm text-red-600",children:"图生图和图生视频按钮应该被禁用"})]})]}):(0,r.jsx)("div",{className:"text-gray-500",children:"请选择一个风格查看详情"})]})]})]})}}},function(e){e.O(0,[2971,2117,1744],function(){return e(e.s=69440)}),_N_E=e.O()}]);