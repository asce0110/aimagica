(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8184],{57237:function(e,s,t){Promise.resolve().then(t.bind(t,94140))},94140:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return N}});var r=t(57437),a=t(2265),n=t(66070),i=t(62869),l=t(95186),c=t(26815),d=t(1828),o=t(35974),u=t(12339),p=t(53647),f=t(76818),h=t(41671);let m=(0,t(79205).Z)("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);var x=t(99388),v=t(76865),j=t(99397),y=t(15868),g=t(18930),b=t(35153);function N(){var e,s,t,N,w,k,C,S,P,_,T,E,A,R,U,Z,I,O;let[z,D]=(0,a.useState)([]),[F,M]=(0,a.useState)([]),[Q,V]=(0,a.useState)(!0),[G,B]=(0,a.useState)(null),[Y,W]=(0,a.useState)(null),[H,K]=(0,a.useState)(!1),[q,J]=(0,a.useState)(!1),[L,X]=(0,a.useState)(""),{toast:$}=(0,b.pm)(),[ee,es]=(0,a.useState)({name:"",type:"stripe",enabled:!0,priority:1,config:{environment:"sandbox",supportedCurrencies:["USD"],supportedCountries:["US"]},features:{subscription:!0,oneTime:!0,refund:!0,webhook:!0}}),[et,er]=(0,a.useState)({name:"",description:"",type:"premium",price:0,currency:"USD",interval:"month",enabled:!0,popular:!1,features:{imageGenerations:100,highResolution:!0,advancedStyles:!0,priorityQueue:!1,apiAccess:!1,commercialUse:!1}});(0,a.useEffect)(()=>{ea(),fetch("/api/debug/auth",{credentials:"include"}).then(e=>e.json()).then(e=>{var s;(null===(s=e.user)||void 0===s?void 0:s.email)&&X(e.user.email),e.authenticated&&e.adminCheck}).catch(e=>console.error("获取认证调试信息失败:",e))},[]);let ea=async()=>{try{let[e,s]=await Promise.all([fetch("/api/admin/payment/providers"),fetch("/api/admin/payment/plans")]);if(e.ok){let s=await e.json();D(s)}if(s.ok){let e=await s.json();M(e)}}catch(e){$({title:"加载失败",description:"无法加载支付配置数据",variant:"destructive"})}finally{V(!1)}},en=async()=>{try{let e=G?"/api/admin/payment/providers/".concat(G.id):"/api/admin/payment/providers",s=await fetch(e,{method:G?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...ee,userEmail:L})});if(s.ok)await s.json(),$({title:"Save Successful",description:"Payment provider ".concat(G?"updated":"created"," successfully")}),K(!1),B(null),ea();else{let e=await s.text();throw Error("Save failed: ".concat(s.status," ").concat(e))}}catch(e){$({title:"Save Failed",description:e instanceof Error?e.message:"Unable to save payment provider configuration",variant:"destructive"})}},ei=async()=>{try{let e=Y?"/api/admin/payment/plans/".concat(Y.id):"/api/admin/payment/plans",s=await fetch(e,{method:Y?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(et)});if(s.ok)await s.json(),$({title:"Save Successful",description:"Subscription plan ".concat(Y?"updated":"created"," successfully")}),J(!1),W(null),ea();else{let e=await s.text();throw Error("Save failed: ".concat(s.status," ").concat(e))}}catch(e){$({title:"Save Failed",description:"无法保存订阅计划配置",variant:"destructive"})}},el=async e=>{try{if((await fetch("/api/admin/payment/providers/".concat(e,"/test"),{method:"POST"})).ok)$({title:"Test Successful",description:"Payment provider connection is working"});else throw Error("Test failed")}catch(e){$({title:"Test Failed",description:"Unable to connect to payment provider",variant:"destructive"})}},ec=async(e,s)=>{if(confirm('Are you sure you want to delete "'.concat(s,'"? This action cannot be undone.')))try{let t=await fetch("/api/admin/payment/providers/".concat(e),{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({userEmail:L})}),r=await t.json();if(t.ok)$({title:"Delete Successful",description:'Payment provider "'.concat(s,'" deleted successfully')}),ea();else throw Error(r.error||"Delete failed")}catch(e){$({title:"Delete Failed",description:e instanceof Error?e.message:"Unable to delete payment provider",variant:"destructive"})}},ed=e=>{switch(e.status){case"active":return(0,r.jsx)(h.Z,{className:"h-4 w-4 text-green-500"});case"testing":return(0,r.jsx)(m,{className:"h-4 w-4 text-yellow-500"});case"error":return(0,r.jsx)(x.Z,{className:"h-4 w-4 text-red-500"});default:return(0,r.jsx)(v.Z,{className:"h-4 w-4 text-gray-500"})}};return Q?(0,r.jsx)("div",{className:"flex justify-center items-center h-96",children:"加载中..."}):(0,r.jsxs)("div",{className:"container mx-auto p-6",children:[(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold",children:"Payment System Administration"}),(0,r.jsx)("p",{className:"text-gray-600 mt-2",children:"管理支付提供商和订阅计划配置"})]}),(0,r.jsxs)(u.mQ,{defaultValue:"providers",className:"space-y-6",children:[(0,r.jsxs)(u.dr,{children:[(0,r.jsx)(u.SP,{value:"providers",children:"支付提供商"}),(0,r.jsx)(u.SP,{value:"plans",children:"订阅计划"}),(0,r.jsx)(u.SP,{value:"analytics",children:"交易分析"})]}),(0,r.jsx)(u.nU,{value:"providers",children:(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("h2",{className:"text-2xl font-semibold",children:"Payment Providers"}),(0,r.jsxs)(i.z,{onClick:()=>{B(null),es({name:"",type:"stripe",enabled:!0,priority:1,config:{environment:"sandbox",supportedCurrencies:["USD"],supportedCountries:["US"]},features:{subscription:!0,oneTime:!0,refund:!0,webhook:!0}}),K(!0)},children:[(0,r.jsx)(j.Z,{className:"h-4 w-4 mr-2"}),"Add Provider"]})]}),(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:z.map(e=>(0,r.jsxs)(n.Zb,{className:"relative",children:[(0,r.jsx)(n.Ol,{className:"pb-3",children:(0,r.jsxs)("div",{className:"flex justify-between items-start",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)(n.ll,{className:"flex items-center gap-2",children:[e.name,ed(e)]}),(0,r.jsxs)(n.SZ,{className:"flex items-center gap-2",children:[(0,r.jsx)(o.C,{variant:"stripe"===e.type?"default":"secondary",children:e.type.toUpperCase()}),(0,r.jsx)(o.C,{variant:e.enabled?"default":"secondary",children:e.enabled?"Enabled":"Disabled"})]})]}),(0,r.jsxs)("div",{className:"flex gap-1",children:[(0,r.jsx)(i.z,{size:"sm",variant:"outline",onClick:()=>el(e.id),children:(0,r.jsx)(m,{className:"h-3 w-3"})}),(0,r.jsx)(i.z,{size:"sm",variant:"outline",onClick:()=>{B(e),es(e),K(!0)},children:(0,r.jsx)(y.Z,{className:"h-3 w-3"})}),(0,r.jsx)(i.z,{size:"sm",variant:"outline",onClick:()=>ec(e.id,e.name),className:"text-red-500 hover:text-red-700",children:(0,r.jsx)(g.Z,{className:"h-3 w-3"})})]})]})}),(0,r.jsx)(n.aY,{children:(0,r.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"font-medium",children:"Environment:"})," ",e.config.environment]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"font-medium",children:"Currencies:"})," ",e.config.supportedCurrencies.join(", ")]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"font-medium",children:"Features:"}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-1 mt-1",children:[e.features.subscription&&(0,r.jsx)(o.C,{variant:"outline",className:"text-xs",children:"Subscription"}),e.features.oneTime&&(0,r.jsx)(o.C,{variant:"outline",className:"text-xs",children:"One-time"}),e.features.refund&&(0,r.jsx)(o.C,{variant:"outline",className:"text-xs",children:"Refund"}),e.features.webhook&&(0,r.jsx)(o.C,{variant:"outline",className:"text-xs",children:"Webhook"})]})]})]})})]},e.id))})]})}),(0,r.jsx)(u.nU,{value:"plans",children:(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("h2",{className:"text-2xl font-semibold",children:"Subscription Plans"}),(0,r.jsxs)(i.z,{onClick:()=>{W(null),er({name:"",description:"",type:"premium",price:0,currency:"USD",interval:"month",enabled:!0,popular:!1,features:{imageGenerations:100,highResolution:!0,advancedStyles:!0,priorityQueue:!1,apiAccess:!1,commercialUse:!1}}),J(!0)},children:[(0,r.jsx)(j.Z,{className:"h-4 w-4 mr-2"}),"Add Plan"]})]}),(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:F.map(e=>(0,r.jsxs)(n.Zb,{className:"relative",children:[(0,r.jsx)(n.Ol,{children:(0,r.jsxs)("div",{className:"flex justify-between items-start",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)(n.ll,{className:"flex items-center gap-2",children:[e.name,e.popular&&(0,r.jsx)(o.C,{className:"bg-gradient-to-r from-purple-500 to-pink-500",children:"Popular"})]}),(0,r.jsxs)(n.SZ,{children:[(0,r.jsx)(o.C,{variant:"premium"===e.type?"default":"secondary",children:e.type.toUpperCase()}),(0,r.jsxs)("span",{className:"ml-2 font-medium",children:["$",e.price,"/",e.interval]})]})]}),(0,r.jsx)(i.z,{size:"sm",variant:"outline",onClick:()=>{W(e),er(e),J(!0)},children:(0,r.jsx)(y.Z,{className:"h-3 w-3"})})]})}),(0,r.jsx)(n.aY,{children:(0,r.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,r.jsx)("div",{children:e.description}),(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"font-medium",children:"Image Generations:"})," ",e.features.imageGenerations,"/month"]}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-1",children:[e.features.highResolution&&(0,r.jsx)(o.C,{variant:"outline",className:"text-xs",children:"High Resolution"}),e.features.advancedStyles&&(0,r.jsx)(o.C,{variant:"outline",className:"text-xs",children:"Advanced Styles"}),e.features.priorityQueue&&(0,r.jsx)(o.C,{variant:"outline",className:"text-xs",children:"Priority Queue"}),e.features.apiAccess&&(0,r.jsx)(o.C,{variant:"outline",className:"text-xs",children:"API Access"}),e.features.commercialUse&&(0,r.jsx)(o.C,{variant:"outline",className:"text-xs",children:"Commercial Use"})]})]})]})})]},e.id))})]})}),(0,r.jsx)(u.nU,{value:"analytics",children:(0,r.jsxs)(n.Zb,{children:[(0,r.jsxs)(n.Ol,{children:[(0,r.jsx)(n.ll,{children:"Payment Analytics"}),(0,r.jsx)(n.SZ,{children:"交易统计和支付分析"})]}),(0,r.jsx)(n.aY,{children:(0,r.jsxs)("div",{className:"text-center text-gray-500 py-12",children:["交易分析功能开发中...",(0,r.jsx)("br",{}),"将包含收入统计、用户订阅分析、支付成功率等功能"]})})]})})]}),H&&(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,r.jsxs)(n.Zb,{className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,r.jsx)(n.Ol,{children:(0,r.jsx)(n.ll,{children:G?"Edit Provider":"Add Provider"})}),(0,r.jsxs)(n.aY,{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(c._,{htmlFor:"provider-name",children:"Provider Name"}),(0,r.jsx)(l.I,{id:"provider-name",value:ee.name||"",onChange:e=>es({...ee,name:e.target.value}),placeholder:"e.g., Stripe, PayPal"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(c._,{htmlFor:"provider-type",children:"Provider Type"}),(0,r.jsxs)(p.Ph,{value:ee.type,onValueChange:e=>es({...ee,type:e}),children:[(0,r.jsx)(p.i4,{children:(0,r.jsx)(p.ki,{})}),(0,r.jsxs)(p.Bw,{children:[(0,r.jsx)(p.Ql,{value:"stripe",children:"Stripe"}),(0,r.jsx)(p.Ql,{value:"paypal",children:"PayPal"}),(0,r.jsx)(p.Ql,{value:"alipay",children:"Alipay"}),(0,r.jsx)(p.Ql,{value:"wechat",children:"WeChat Pay"}),(0,r.jsx)(p.Ql,{value:"crypto",children:"Crypto"})]})]})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(d.r,{id:"provider-enabled",checked:ee.enabled||!1,onCheckedChange:e=>es({...ee,enabled:e})}),(0,r.jsx)(c._,{htmlFor:"provider-enabled",children:"Enable Provider"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(c._,{htmlFor:"provider-priority",children:"Priority"}),(0,r.jsx)(l.I,{id:"provider-priority",type:"number",value:ee.priority||1,onChange:e=>es({...ee,priority:parseInt(e.target.value)})})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(c._,{children:"Environment"}),(0,r.jsxs)(p.Ph,{value:null===(e=ee.config)||void 0===e?void 0:e.environment,onValueChange:e=>es({...ee,config:{...ee.config,environment:e}}),children:[(0,r.jsx)(p.i4,{children:(0,r.jsx)(p.ki,{})}),(0,r.jsxs)(p.Bw,{children:[(0,r.jsx)(p.Ql,{value:"sandbox",children:"Sandbox"}),(0,r.jsx)(p.Ql,{value:"production",children:"Production"})]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(c._,{htmlFor:"api-key",children:"API Key"}),(0,r.jsx)(l.I,{id:"api-key",type:"password",value:(null===(s=ee.config)||void 0===s?void 0:s.apiKey)||"",onChange:e=>es({...ee,config:{...ee.config,apiKey:e.target.value}}),placeholder:"Enter API key"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(c._,{htmlFor:"secret-key",children:"Secret Key"}),(0,r.jsx)(l.I,{id:"secret-key",type:"password",value:(null===(t=ee.config)||void 0===t?void 0:t.secretKey)||"",onChange:e=>es({...ee,config:{...ee.config,secretKey:e.target.value}}),placeholder:"Enter secret key"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(c._,{htmlFor:"webhook-secret",children:"Webhook Secret"}),(0,r.jsx)(l.I,{id:"webhook-secret",type:"password",value:(null===(N=ee.config)||void 0===N?void 0:N.webhookSecret)||"",onChange:e=>es({...ee,config:{...ee.config,webhookSecret:e.target.value}}),placeholder:"Enter webhook secret"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(c._,{htmlFor:"supported-currencies",children:"Supported Currencies (comma separated)"}),(0,r.jsx)(l.I,{id:"supported-currencies",value:(null===(k=ee.config)||void 0===k?void 0:null===(w=k.supportedCurrencies)||void 0===w?void 0:w.join(", "))||"USD",onChange:e=>es({...ee,config:{...ee.config,supportedCurrencies:e.target.value.split(",").map(e=>e.trim())}}),placeholder:"USD, EUR, GBP"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(c._,{htmlFor:"supported-countries",children:"Supported Countries (comma separated)"}),(0,r.jsx)(l.I,{id:"supported-countries",value:(null===(S=ee.config)||void 0===S?void 0:null===(C=S.supportedCountries)||void 0===C?void 0:C.join(", "))||"US",onChange:e=>es({...ee,config:{...ee.config,supportedCountries:e.target.value.split(",").map(e=>e.trim())}}),placeholder:"US, CA, GB, AU"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(c._,{children:"Features"}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-2 mt-2",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(d.r,{checked:(null===(P=ee.features)||void 0===P?void 0:P.subscription)||!1,onCheckedChange:e=>es({...ee,features:{...ee.features,subscription:e}})}),(0,r.jsx)(c._,{children:"Subscription"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(d.r,{checked:(null===(_=ee.features)||void 0===_?void 0:_.oneTime)||!1,onCheckedChange:e=>es({...ee,features:{...ee.features,oneTime:e}})}),(0,r.jsx)(c._,{children:"One-time Payment"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(d.r,{checked:(null===(T=ee.features)||void 0===T?void 0:T.refund)||!1,onCheckedChange:e=>es({...ee,features:{...ee.features,refund:e}})}),(0,r.jsx)(c._,{children:"Refund"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(d.r,{checked:(null===(E=ee.features)||void 0===E?void 0:E.webhook)||!1,onCheckedChange:e=>es({...ee,features:{...ee.features,webhook:e}})}),(0,r.jsx)(c._,{children:"Webhook"})]})]})]}),(0,r.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,r.jsx)(i.z,{variant:"outline",onClick:()=>K(!1),type:"button",children:"Cancel"}),(0,r.jsx)(i.z,{onClick:en,type:"button",disabled:!ee.name||!ee.type,children:"Save"})]})]})]})}),q&&(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,r.jsxs)(n.Zb,{className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,r.jsx)(n.Ol,{children:(0,r.jsx)(n.ll,{children:Y?"Edit Plan":"Add Plan"})}),(0,r.jsxs)(n.aY,{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(c._,{htmlFor:"plan-name",children:"Plan Name"}),(0,r.jsx)(l.I,{id:"plan-name",value:et.name||"",onChange:e=>er({...et,name:e.target.value}),placeholder:"e.g., Pro Plan"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(c._,{htmlFor:"plan-type",children:"Plan Type"}),(0,r.jsxs)(p.Ph,{value:et.type,onValueChange:e=>er({...et,type:e}),children:[(0,r.jsx)(p.i4,{children:(0,r.jsx)(p.ki,{})}),(0,r.jsxs)(p.Bw,{children:[(0,r.jsx)(p.Ql,{value:"free",children:"Free"}),(0,r.jsx)(p.Ql,{value:"premium",children:"Premium"}),(0,r.jsx)(p.Ql,{value:"enterprise",children:"Enterprise"})]})]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(c._,{htmlFor:"plan-description",children:"Description"}),(0,r.jsx)(f.g,{id:"plan-description",value:et.description||"",onChange:e=>er({...et,description:e.target.value}),placeholder:"Describe the plan benefits"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(c._,{htmlFor:"plan-price",children:"Price"}),(0,r.jsx)(l.I,{id:"plan-price",type:"number",step:"0.01",value:et.price||0,onChange:e=>er({...et,price:parseFloat(e.target.value)})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(c._,{htmlFor:"plan-currency",children:"Currency"}),(0,r.jsxs)(p.Ph,{value:et.currency,onValueChange:e=>er({...et,currency:e}),children:[(0,r.jsx)(p.i4,{children:(0,r.jsx)(p.ki,{})}),(0,r.jsxs)(p.Bw,{children:[(0,r.jsx)(p.Ql,{value:"USD",children:"USD"}),(0,r.jsx)(p.Ql,{value:"EUR",children:"EUR"}),(0,r.jsx)(p.Ql,{value:"GBP",children:"GBP"})]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(c._,{htmlFor:"plan-interval",children:"Interval"}),(0,r.jsxs)(p.Ph,{value:et.interval,onValueChange:e=>er({...et,interval:e}),children:[(0,r.jsx)(p.i4,{children:(0,r.jsx)(p.ki,{})}),(0,r.jsxs)(p.Bw,{children:[(0,r.jsx)(p.Ql,{value:"month",children:"Monthly"}),(0,r.jsx)(p.Ql,{value:"year",children:"Yearly"}),(0,r.jsx)(p.Ql,{value:"lifetime",children:"Lifetime"})]})]})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(d.r,{id:"plan-enabled",checked:et.enabled||!1,onCheckedChange:e=>er({...et,enabled:e})}),(0,r.jsx)(c._,{htmlFor:"plan-enabled",children:"Enable Plan"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(d.r,{id:"plan-popular",checked:et.popular||!1,onCheckedChange:e=>er({...et,popular:e})}),(0,r.jsx)(c._,{htmlFor:"plan-popular",children:"Mark as Popular"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(c._,{children:"Plan Features"}),(0,r.jsxs)("div",{className:"space-y-3 mt-2",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(c._,{htmlFor:"image-generations",children:"Image Generations per Month"}),(0,r.jsx)(l.I,{id:"image-generations",type:"number",value:(null===(A=et.features)||void 0===A?void 0:A.imageGenerations)||0,onChange:e=>er({...et,features:{...et.features,imageGenerations:parseInt(e.target.value)}})})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(d.r,{checked:(null===(R=et.features)||void 0===R?void 0:R.highResolution)||!1,onCheckedChange:e=>er({...et,features:{...et.features,highResolution:e}})}),(0,r.jsx)(c._,{children:"High Resolution"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(d.r,{checked:(null===(U=et.features)||void 0===U?void 0:U.advancedStyles)||!1,onCheckedChange:e=>er({...et,features:{...et.features,advancedStyles:e}})}),(0,r.jsx)(c._,{children:"Advanced Styles"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(d.r,{checked:(null===(Z=et.features)||void 0===Z?void 0:Z.priorityQueue)||!1,onCheckedChange:e=>er({...et,features:{...et.features,priorityQueue:e}})}),(0,r.jsx)(c._,{children:"Priority Queue"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(d.r,{checked:(null===(I=et.features)||void 0===I?void 0:I.apiAccess)||!1,onCheckedChange:e=>er({...et,features:{...et.features,apiAccess:e}})}),(0,r.jsx)(c._,{children:"API Access"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(d.r,{checked:(null===(O=et.features)||void 0===O?void 0:O.commercialUse)||!1,onCheckedChange:e=>er({...et,features:{...et.features,commercialUse:e}})}),(0,r.jsx)(c._,{children:"Commercial Use"})]})]})]})]}),(0,r.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,r.jsx)(i.z,{variant:"outline",onClick:()=>J(!1),type:"button",children:"Cancel"}),(0,r.jsx)(i.z,{onClick:ei,type:"button",disabled:!et.name||!et.type,children:"Save"})]})]})]})})]})}},35974:function(e,s,t){"use strict";t.d(s,{C:function(){return l}});var r=t(57437);t(2265);var a=t(90535),n=t(94508);let i=(0,a.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function l(e){let{className:s,variant:t,...a}=e;return(0,r.jsx)("div",{className:(0,n.cn)(i({variant:t}),s),...a})}},62869:function(e,s,t){"use strict";t.d(s,{z:function(){return d}});var r=t(57437),a=t(2265),n=t(37053),i=t(90535),l=t(94508);let c=(0,i.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=a.forwardRef((e,s)=>{let{className:t,variant:a,size:i,asChild:d=!1,...o}=e,u=d?n.g7:"button";return(0,r.jsx)(u,{className:(0,l.cn)(c({variant:a,size:i,className:t})),ref:s,...o})});d.displayName="Button"},66070:function(e,s,t){"use strict";t.d(s,{Ol:function(){return l},SZ:function(){return d},Zb:function(){return i},aY:function(){return o},ll:function(){return c}});var r=t(57437),a=t(2265),n=t(94508);let i=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t),...a})});i.displayName="Card";let l=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",t),...a})});l.displayName="CardHeader";let c=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",t),...a})});c.displayName="CardTitle";let d=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,n.cn)("text-sm text-muted-foreground",t),...a})});d.displayName="CardDescription";let o=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,n.cn)("p-6 pt-0",t),...a})});o.displayName="CardContent",a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,n.cn)("flex items-center p-6 pt-0",t),...a})}).displayName="CardFooter"},95186:function(e,s,t){"use strict";t.d(s,{I:function(){return i}});var r=t(57437),a=t(2265),n=t(94508);let i=a.forwardRef((e,s)=>{let{className:t,type:a,...i}=e;return(0,r.jsx)("input",{type:a,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:s,...i})});i.displayName="Input"},26815:function(e,s,t){"use strict";t.d(s,{_:function(){return d}});var r=t(57437),a=t(2265),n=t(6394),i=t(90535),l=t(94508);let c=(0,i.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)(n.f,{ref:s,className:(0,l.cn)(c(),t),...a})});d.displayName=n.f.displayName},53647:function(e,s,t){"use strict";t.d(s,{Bw:function(){return m},Ph:function(){return o},Ql:function(){return x},i4:function(){return p},ki:function(){return u}});var r=t(57437),a=t(2265),n=t(68856),i=t(40875),l=t(22135),c=t(30401),d=t(94508);let o=n.fC;n.ZA;let u=n.B4,p=a.forwardRef((e,s)=>{let{className:t,children:a,...l}=e;return(0,r.jsxs)(n.xz,{ref:s,className:(0,d.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...l,children:[a,(0,r.jsx)(n.JO,{asChild:!0,children:(0,r.jsx)(i.Z,{className:"h-4 w-4 opacity-50"})})]})});p.displayName=n.xz.displayName;let f=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)(n.u_,{ref:s,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",t),...a,children:(0,r.jsx)(l.Z,{className:"h-4 w-4"})})});f.displayName=n.u_.displayName;let h=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)(n.$G,{ref:s,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",t),...a,children:(0,r.jsx)(i.Z,{className:"h-4 w-4"})})});h.displayName=n.$G.displayName;let m=a.forwardRef((e,s)=>{let{className:t,children:a,position:i="popper",...l}=e;return(0,r.jsx)(n.h_,{children:(0,r.jsxs)(n.VY,{ref:s,className:(0,d.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===i&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:i,...l,children:[(0,r.jsx)(f,{}),(0,r.jsx)(n.l_,{className:(0,d.cn)("p-1","popper"===i&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:a}),(0,r.jsx)(h,{})]})})});m.displayName=n.VY.displayName,a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)(n.__,{ref:s,className:(0,d.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...a})}).displayName=n.__.displayName;let x=a.forwardRef((e,s)=>{let{className:t,children:a,...i}=e;return(0,r.jsxs)(n.ck,{ref:s,className:(0,d.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...i,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(n.wU,{children:(0,r.jsx)(c.Z,{className:"h-4 w-4"})})}),(0,r.jsx)(n.eT,{children:a})]})});x.displayName=n.ck.displayName,a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)(n.Z0,{ref:s,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",t),...a})}).displayName=n.Z0.displayName},1828:function(e,s,t){"use strict";t.d(s,{r:function(){return l}});var r=t(57437),a=t(2265),n=t(50721),i=t(94508);let l=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)(n.fC,{className:(0,i.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...a,ref:s,children:(0,r.jsx)(n.bU,{className:(0,i.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})})});l.displayName=n.fC.displayName},12339:function(e,s,t){"use strict";t.d(s,{SP:function(){return d},dr:function(){return c},mQ:function(){return l},nU:function(){return o}});var r=t(57437),a=t(2265),n=t(20271),i=t(94508);let l=n.fC,c=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)(n.aV,{ref:s,className:(0,i.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...a})});c.displayName=n.aV.displayName;let d=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)(n.xz,{ref:s,className:(0,i.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...a})});d.displayName=n.xz.displayName;let o=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)(n.VY,{ref:s,className:(0,i.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...a})});o.displayName=n.VY.displayName},76818:function(e,s,t){"use strict";t.d(s,{g:function(){return i}});var r=t(57437),a=t(2265),n=t(94508);let i=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("textarea",{className:(0,n.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:s,...a})});i.displayName="Textarea"},35153:function(e,s,t){"use strict";t.d(s,{pm:function(){return p}});var r=t(2265);let a=0,n=new Map,i=e=>{if(n.has(e))return;let s=setTimeout(()=>{n.delete(e),o({type:"REMOVE_TOAST",toastId:e})},1e6);n.set(e,s)},l=(e,s)=>{switch(s.type){case"ADD_TOAST":return{...e,toasts:[s.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===s.toast.id?{...e,...s.toast}:e)};case"DISMISS_TOAST":{let{toastId:t}=s;return t?i(t):e.toasts.forEach(e=>{i(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===t||void 0===t?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===s.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==s.toastId)}}},c=[],d={toasts:[]};function o(e){d=l(d,e),c.forEach(e=>{e(d)})}function u(e){let{...s}=e,t=(a=(a+1)%Number.MAX_SAFE_INTEGER).toString(),r=()=>o({type:"DISMISS_TOAST",toastId:t});return o({type:"ADD_TOAST",toast:{...s,id:t,open:!0,onOpenChange:e=>{e||r()}}}),{id:t,dismiss:r,update:e=>o({type:"UPDATE_TOAST",toast:{...e,id:t}})}}function p(){let[e,s]=r.useState(d);return r.useEffect(()=>(c.push(s),()=>{let e=c.indexOf(s);e>-1&&c.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>o({type:"DISMISS_TOAST",toastId:e})}}},94508:function(e,s,t){"use strict";t.d(s,{cn:function(){return n}});var r=t(61994),a=t(53335);function n(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,a.m6)((0,r.W)(s))}},99388:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});let r=(0,t(79205).Z)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},99397:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});let r=(0,t(79205).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},15868:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});let r=(0,t(79205).Z)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},18930:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});let r=(0,t(79205).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},76865:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});let r=(0,t(79205).Z)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},6394:function(e,s,t){"use strict";t.d(s,{f:function(){return l}});var r=t(2265),a=t(66840),n=t(57437),i=r.forwardRef((e,s)=>(0,n.jsx)(a.WV.label,{...e,ref:s,onMouseDown:s=>{var t;s.target.closest("button, input, select, textarea")||(null===(t=e.onMouseDown)||void 0===t||t.call(e,s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));i.displayName="Label";var l=i},50721:function(e,s,t){"use strict";t.d(s,{bU:function(){return w},fC:function(){return N}});var r=t(2265),a=t(6741),n=t(98575),i=t(73966),l=t(80886),c=t(6718),d=t(90420),o=t(66840),u=t(57437),p="Switch",[f,h]=(0,i.b)(p),[m,x]=f(p),v=r.forwardRef((e,s)=>{let{__scopeSwitch:t,name:i,checked:c,defaultChecked:d,required:p,disabled:f,value:h="on",onCheckedChange:x,form:v,...j}=e,[y,N]=r.useState(null),w=(0,n.e)(s,e=>N(e)),k=r.useRef(!1),C=!y||v||!!y.closest("form"),[S=!1,P]=(0,l.T)({prop:c,defaultProp:d,onChange:x});return(0,u.jsxs)(m,{scope:t,checked:S,disabled:f,children:[(0,u.jsx)(o.WV.button,{type:"button",role:"switch","aria-checked":S,"aria-required":p,"data-state":b(S),"data-disabled":f?"":void 0,disabled:f,value:h,...j,ref:w,onClick:(0,a.M)(e.onClick,e=>{P(e=>!e),C&&(k.current=e.isPropagationStopped(),k.current||e.stopPropagation())})}),C&&(0,u.jsx)(g,{control:y,bubbles:!k.current,name:i,value:h,checked:S,required:p,disabled:f,form:v,style:{transform:"translateX(-100%)"}})]})});v.displayName=p;var j="SwitchThumb",y=r.forwardRef((e,s)=>{let{__scopeSwitch:t,...r}=e,a=x(j,t);return(0,u.jsx)(o.WV.span,{"data-state":b(a.checked),"data-disabled":a.disabled?"":void 0,...r,ref:s})});y.displayName=j;var g=e=>{let{control:s,checked:t,bubbles:a=!0,...n}=e,i=r.useRef(null),l=(0,c.D)(t),o=(0,d.t)(s);return r.useEffect(()=>{let e=i.current,s=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(l!==t&&s){let r=new Event("click",{bubbles:a});s.call(e,t),e.dispatchEvent(r)}},[l,t,a]),(0,u.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:t,...n,tabIndex:-1,ref:i,style:{...e.style,...o,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function b(e){return e?"checked":"unchecked"}var N=v,w=y}},function(e){e.O(0,[5569,9436,271,8313,2971,2117,1744],function(){return e(e.s=57237)}),_N_E=e.O()}]);