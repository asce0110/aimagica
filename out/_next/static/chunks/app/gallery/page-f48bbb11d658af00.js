(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3928],{34608:function(e,t,a){Promise.resolve().then(a.bind(a,35462))},35462:function(e,t,a){"use strict";a.d(t,{default:function(){return M}});var s=a(57437),r=a(2265),i=a(9075),l=a(62869),o=a(95186),n=a(66070),d=a(26110),c=a(35974),u=a(12339),m=a(73247),h=a(86595),g=a(98617),f=a(88997),x=a(42208),p=a(82718),v=a(68919),y=a(92735),b=a(32126),w=a(68816),N=a(36176);let k={GENERATE_IMAGE:"/api/generate/image",KIE_FLUX:"/api/generate/kie-flux",GENERATE_VIDEO:"/api/generate/video",SAVE_IMAGE:"/api/images/save",UPLOAD_BASE64:"/api/images/upload-base64",UPLOAD_TO_R2:"/api/images/upload-to-r2",USER_AUTH:"/api/auth/callback",AUTH_LOGOUT:"/api/auth/logout",STYLES:"/api/styles",STYLES_PUBLIC:"/api/styles-public",FEATURED_IMAGES:"/api/featured-images",GALLERY_PUBLIC:"/api/gallery/public",GALLERY_ITEM:"/api/gallery",ADMIN_CHECK:"/api/admin/check",ADMIN_STATS:"/api/admin/stats",ADMIN_USERS:"/api/admin/users",ADMIN_IMAGES:"/api/admin/images",PAYMENT_CHECKOUT:"/api/payment/create-checkout",PAYPAL_VERIFY:"/api/payment/paypal/verify",MAGIC_COINS_BALANCE:"/api/magic-coins/balance",MAGIC_COINS_PACKAGES:"/api/magic-coins/packages",RECOMMENDATIONS:"/api/recommendations",USER_PROMPTS:"/api/user-prompts",TEST:"/api/test"};function j(e){if(!k[e])return console.error("❌ API endpoint '".concat(e,"' not found in configuration")),null;let t="https://aimagica-api.403153162.workers.dev"+k[e];return console.log("\uD83D\uDD17 Generated API endpoint for '".concat(e,"':"),t),t}var S=a(59955);let A=[{id:1,url:"/images/examples/magic-forest.svg",title:"Enchanted Forest",author:"DreamWeaver",authorAvatar:"/placeholder-user.jpg",likes:1243,comments:89,views:5678,downloads:432,isPremium:!1,isFeatured:!0,isLiked:!1,createdAt:"2 days ago",prompt:"A magical forest with glowing mushrooms, fairy lights, and mystical creatures hiding among ancient trees",style:"Fantasy",tags:["forest","magic","fantasy","glow","mystical"],size:"vertical",rotation:2},{id:2,url:"/images/examples/cyber-city.svg",title:"Neo Tokyo 2099",author:"CyberArtist",authorAvatar:"/placeholder-user.jpg",likes:982,comments:56,views:4321,downloads:321,isPremium:!0,isFeatured:!1,isLiked:!0,createdAt:"1 week ago",prompt:"Futuristic cyberpunk cityscape with neon lights, flying cars, and holographic advertisements",style:"Cyberpunk",tags:["cyberpunk","city","future","neon","scifi"],size:"horizontal",rotation:-1},{id:3,url:"/images/examples/space-art.svg",title:"Space Explorer",author:"StarGazer",authorAvatar:"/placeholder-user.jpg",likes:756,comments:42,views:3210,downloads:198,isPremium:!1,isFeatured:!1,isLiked:!1,createdAt:"3 days ago",prompt:"Astronaut exploring an alien planet with strange flora and multiple moons in the sky",style:"Sci-Fi",tags:["space","astronaut","alien","planet","exploration"],size:"small",rotation:1.5},{id:4,url:"/images/examples/cat-wizard.svg",title:"Atlantis Dreams",author:"OceanWhisperer",authorAvatar:"/placeholder-user.jpg",likes:1567,comments:103,views:6789,downloads:543,isPremium:!0,isFeatured:!0,isLiked:!1,createdAt:"5 days ago",prompt:"Underwater kingdom with mermaids, coral palaces, and bioluminescent sea creatures",style:"Fantasy",tags:["underwater","mermaid","ocean","kingdom","fantasy"],size:"medium",rotation:-2},{id:5,url:"/placeholder.svg?height=300&width=300&text=Dragon+Rider",title:"Dragon Rider",author:"MythMaker",authorAvatar:"/placeholder.svg?height=50&width=50&text=MM",likes:2134,comments:167,views:8765,downloads:876,isPremium:!0,isFeatured:!0,isLiked:!1,createdAt:"1 day ago",prompt:"Warrior riding a majestic dragon over mountain peaks during sunset",style:"Fantasy",tags:["dragon","warrior","fantasy","mountains","epic"],size:"small",rotation:3},{id:6,url:"/placeholder.svg?height=300&width=400&text=Cherry+Blossom",title:"Sakura Path",author:"ZenArtist",authorAvatar:"/placeholder.svg?height=50&width=50&text=ZA",likes:1876,comments:92,views:7654,downloads:654,isPremium:!1,isFeatured:!1,isLiked:!0,createdAt:"2 weeks ago",prompt:"Japanese garden path with cherry blossoms in full bloom and traditional temple in background",style:"Watercolor",tags:["japan","cherry blossom","garden","peaceful","spring"],size:"horizontal",rotation:-1.5},{id:7,url:"/placeholder.svg?height=400&width=300&text=Ancient+Temple",title:"Lost Temple",author:"AdventureSeeker",authorAvatar:"/placeholder.svg?height=50&width=50&text=AS",likes:1432,comments:78,views:5432,downloads:432,isPremium:!1,isFeatured:!1,isLiked:!1,createdAt:"4 days ago",prompt:"Ancient temple ruins covered in jungle vegetation with mysterious glowing symbols",style:"Realistic",tags:["temple","ruins","jungle","ancient","mystery"],size:"vertical",rotation:1},{id:8,url:"/placeholder.svg?height=400&width=400&text=Northern+Lights",title:"Aurora Magic",author:"NorthernSoul",authorAvatar:"/placeholder.svg?height=50&width=50&text=NS",likes:2345,comments:145,views:9876,downloads:765,isPremium:!0,isFeatured:!0,isLiked:!1,createdAt:"1 week ago",prompt:"Spectacular northern lights dancing over a snowy landscape with pine trees and mountains",style:"Realistic",tags:["aurora","northern lights","winter","night","nature"],size:"medium",rotation:-2.5},{id:9,url:"/placeholder.svg?height=300&width=300&text=Steampunk+Inventor",title:"Clockwork Genius",author:"GearMaster",authorAvatar:"/placeholder.svg?height=50&width=50&text=GM",likes:876,comments:56,views:3456,downloads:234,isPremium:!1,isFeatured:!1,isLiked:!1,createdAt:"3 weeks ago",prompt:"Steampunk inventor in workshop surrounded by brass gears, steam engines, and mechanical wonders",style:"Steampunk",tags:["steampunk","inventor","gears","workshop","mechanical"],size:"small",rotation:2.5},{id:10,url:"/placeholder.svg?height=300&width=400&text=Floating+Islands",title:"Sky Islands",author:"CloudWalker",authorAvatar:"/placeholder.svg?height=50&width=50&text=CW",likes:1654,comments:87,views:6543,downloads:543,isPremium:!0,isFeatured:!1,isLiked:!0,createdAt:"6 days ago",prompt:"Floating islands in the sky with waterfalls cascading down and airships sailing between them",style:"Fantasy",tags:["floating islands","sky","fantasy","waterfalls","airships"],size:"horizontal",rotation:-1},{id:11,url:"/placeholder.svg?height=300&width=300&text=Cat+Wizard",title:"Whisker Wizard",author:"FeliFancy",authorAvatar:"/placeholder.svg?height=50&width=50&text=FF",likes:2876,comments:198,views:9432,downloads:876,isPremium:!1,isFeatured:!0,isLiked:!1,createdAt:"2 days ago",prompt:"Cute cat wearing wizard hat and casting colorful magic spells with a wand",style:"Cartoon",tags:["cat","wizard","cute","magic","spells"],size:"small",rotation:3},{id:12,url:"/placeholder.svg?height=300&width=400&text=Crystal+Cave",title:"Crystal Cavern",author:"GemHunter",authorAvatar:"/placeholder.svg?height=50&width=50&text=GH",likes:1543,comments:76,views:6123,downloads:432,isPremium:!0,isFeatured:!1,isLiked:!1,createdAt:"1 week ago",prompt:"Magical crystal cave with glowing gems of various colors illuminating the darkness",style:"Fantasy",tags:["crystal","cave","gems","glow","magic"],size:"horizontal",rotation:-2}],C=[{id:1,author:"ArtLover",authorAvatar:"/placeholder.svg?height=40&width=40&text=AL",content:"This is absolutely stunning! The colors are magical! ✨",createdAt:"2 hours ago",likes:24},{id:2,author:"CreativeSoul",authorAvatar:"/placeholder.svg?height=40&width=40&text=CS",content:"How did you create this masterpiece? The details are incredible!",createdAt:"1 day ago",likes:18},{id:3,author:"DigitalDreamer",authorAvatar:"/placeholder.svg?height=40&width=40&text=DD",content:"I'm inspired to create something similar. Thanks for sharing your art!",createdAt:"3 days ago",likes:12}];function M(){let{data:e}=(0,b.V)(),t=(0,S.ZP)("/images/aimagica-logo.png"),a=(0,S.ZP)("/placeholder-user.jpg"),k=(0,S.ZP)("/images/examples/magic-forest.svg"),M=(0,S.ZP)("/images/examples/cyber-city.svg"),F=(0,S.ZP)("/images/examples/space-art.svg"),L=(0,S.ZP)("/images/examples/cat-wizard.svg"),E=(0,r.useMemo)(()=>[{...A[0],url:k,authorAvatar:a},{...A[1],url:M,authorAvatar:a},{...A[2],url:F,authorAvatar:a},{...A[3],url:L,authorAvatar:a},...A.slice(4).map(e=>({...e,url:k,authorAvatar:a}))],[k,M,F,L,a]),[D,z]=(0,r.useState)(E),[P,_]=(0,r.useState)(!1),[I,R]=(0,r.useState)(null),[T,Z]=(0,r.useState)(null),[G,U]=(0,r.useState)(C),[O,V]=(0,r.useState)(""),[Y,H]=(0,r.useState)(!1),[W,B]=(0,r.useState)("all"),[K,$]=(0,r.useState)(""),[q,J]=(0,r.useState)({});(0,r.useEffect)(()=>{setTimeout(async()=>{try{let e=j("GALLERY_PUBLIC");if(console.log("\uD83D\uDD17 API URL:",e),!e){console.log("❌ Gallery API not available - keeping static data");return}console.log("\uD83D\uDCDE Calling API in background:","".concat(e,"?limit=50"));let t=await fetch("".concat(e,"?limit=50"));if(!t.ok){console.warn("Failed to fetch gallery images: ".concat(t.statusText));return}let a=await t.json();if(console.log("\uD83D\uDCE6 API Response:",a),a.success&&a.data&&Array.isArray(a.data)&&a.data.length>0){let e=a.data.map((e,t)=>{var a;return{id:e.id||t,url:e.url||e.image_url||"/placeholder.svg",title:e.title||(null===(a=e.prompt)||void 0===a?void 0:a.substring(0,50))+"...",author:e.author||e.user_name||"Anonymous",authorAvatar:e.authorAvatar||e.user_avatar||"/placeholder.svg?height=50&width=50&text=A",likes:e.likes||e.like_count||Math.floor(1e3*Math.random()),comments:e.comments||e.comment_count||Math.floor(100*Math.random()),views:e.views||e.view_count||Math.floor(5e3*Math.random()),downloads:e.downloads||Math.floor(500*Math.random()),isPremium:e.isPremium||!1,isFeatured:e.isFeatured||e.is_featured||!1,isLiked:e.isLiked||e.is_liked||!1,createdAt:e.createdAt||e.created_at||"Unknown",prompt:e.prompt||"No prompt available",style:e.style||e.style_name||"Art",tags:e.tags||(e.prompt?e.prompt.split(" ").slice(0,5):["art"]),size:["small","medium","large","vertical","horizontal"][Math.floor(5*Math.random())],rotation:4*Math.random()-2}});z(e),console.log("✅ Successfully loaded ".concat(e.length," real gallery images from API"))}}catch(e){console.warn("⚠️ Error fetching gallery images (continuing with static data):",e)}},100)},[]),(0,r.useEffect)(()=>{let e=()=>{H(window.innerWidth<768)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);let Q=async e=>{try{let t=j("GALLERY_ITEM");if(!t)throw Error("Gallery API not available");let a=await fetch("".concat(t,"/").concat(e));if(!a.ok)throw Error("Failed to fetch image details");let s=await a.json();U(s.commentsData||[]);let r=D.find(t=>t.id.toString()===e.toString()),i={id:s.id,url:s.url,title:s.title,author:s.author,authorAvatar:s.authorAvatar,likes:s.likes,comments:s.comments,views:s.views,downloads:0,isPremium:!1,isFeatured:!1,isLiked:s.isLiked,createdAt:s.createdAt,prompt:s.prompt,style:s.style,tags:s.tags,size:(null==r?void 0:r.size)||"medium",rotation:(null==r?void 0:r.rotation)||4*Math.random()-2};Z(i),z(t=>t.map(t=>t.id.toString()===e.toString()?{...t,views:s.views,comments:s.comments,likes:s.likes,isLiked:s.isLiked}:t)),console.log("✅ Loaded real image details and updated gallery list:",s)}catch(a){console.error("❌ Error fetching image details:",a);let t=D.find(t=>t.id===e);t&&Z(t)}},X=D.filter(e=>{let t="all"===W||e.style.toLowerCase()===W.toLowerCase(),a=""===K||e.title.toLowerCase().includes(K.toLowerCase())||e.author.toLowerCase().includes(K.toLowerCase())||e.tags.some(e=>e.toLowerCase().includes(K.toLowerCase()));return t&&a}),ee=e=>{Z(e),Q(e.id)},et=async e=>{try{let t=j("GALLERY_ITEM");if(!t)throw Error("Gallery API not available");let a=await fetch("".concat(t,"/").concat(e),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"toggle_like"})});if(!a.ok)throw Error("Failed to toggle like");let s=await a.json();z(t=>t.map(t=>t.id===e?{...t,isLiked:s.liked,likes:s.liked?t.likes+1:t.likes-1}:t)),T&&T.id===e&&Z(e=>e?{...e,isLiked:s.liked,likes:s.liked?e.likes+1:e.likes-1}:null),console.log("✅ Like toggled successfully")}catch(t){console.error("❌ Error toggling like:",t),z(t=>t.map(t=>t.id===e?{...t,isLiked:!t.isLiked,likes:t.isLiked?t.likes-1:t.likes+1}:t)),T&&T.id===e&&Z(e=>e?{...e,isLiked:!e.isLiked,likes:e.isLiked?e.likes-1:e.likes+1}:null)}};return P?(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-purple-100 via-pink-50 to-indigo-100 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-500 mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-lg font-medium text-gray-700",children:"Loading amazing artworks... ✨"})]})}):(0,s.jsxs)("div",{className:"min-h-screen bg-black",children:[(0,s.jsx)("header",{className:"p-4 md:p-6 bg-[#0a0a0a] border-b border-[#333]",children:(0,s.jsx)("div",{className:"container mx-auto",children:(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3 cursor-pointer transform hover:scale-105 transition-all",children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("img",{src:t,alt:"AIMAGICA",className:"w-8 h-8 md:w-10 md:h-10 rounded-lg shadow-lg transform rotate-3 hover:rotate-0 transition-all",onError:e=>{console.error("\uD83D\uDDBC️ Gallery logo加载失败:",t);let a=e.currentTarget;a.src.includes("placeholder-logo")||(a.src="/placeholder-logo.png")}}),(0,s.jsx)("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-[#d4a574] rounded-full animate-pulse"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-lg md:text-xl font-black text-white transform -rotate-1",style:{fontFamily:"Comic Sans MS, cursive",textShadow:"2px 2px 0px #333"},children:"AIMAGICA"}),(0,s.jsx)("p",{className:"text-xs text-gray-400 transform rotate-1",style:{fontFamily:"Comic Sans MS, cursive"},children:"Magic Gallery ✨"})]})]}),(0,s.jsx)("div",{className:"flex items-center space-x-4",children:(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(m.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),(0,s.jsx)(o.I,{placeholder:"Search magical creations...",value:K,onChange:e=>$(e.target.value),className:"pl-10 w-64 bg-[#1a1a1a] border-2 border-[#444] text-white placeholder:text-gray-400 rounded-xl font-bold",style:{fontFamily:"Comic Sans MS, cursive"}})]})})]})})}),(0,s.jsxs)("div",{className:"container mx-auto px-4 md:px-6 py-6 md:py-8",children:[(0,s.jsx)("div",{className:"mb-8 flex flex-wrap gap-4 items-start",children:(0,s.jsx)(u.mQ,{value:W,onValueChange:B,className:"flex-1 min-w-[200px]",children:(0,s.jsxs)(u.dr,{className:"bg-[#1a1a1a] border-2 border-[#444] rounded-xl p-1 flex flex-wrap gap-1",children:[(0,s.jsx)(u.SP,{value:"all",className:"rounded-lg font-bold data-[state=active]:bg-[#d4a574] data-[state=active]:text-black text-gray-300 text-xs md:text-sm transform rotate-1 hover:scale-105 transition-all",style:{fontFamily:"Comic Sans MS, cursive"},children:"All Magic"}),(0,s.jsx)(u.SP,{value:"fantasy",className:"rounded-lg font-bold data-[state=active]:bg-[#d4a574] data-[state=active]:text-black text-gray-300 text-xs md:text-sm transform rotate-0.5 hover:scale-105 transition-all",style:{fontFamily:"Comic Sans MS, cursive"},children:"Fantasy \uD83E\uDDD9‍♂️"}),(0,s.jsx)(u.SP,{value:"cyberpunk",className:"rounded-lg font-bold data-[state=active]:bg-[#d4a574] data-[state=active]:text-black text-gray-300 text-xs md:text-sm transform -rotate-0.5 hover:scale-105 transition-all",style:{fontFamily:"Comic Sans MS, cursive"},children:"Cyberpunk \uD83E\uDD16"}),(0,s.jsx)(u.SP,{value:"sci-fi",className:"rounded-lg font-bold data-[state=active]:bg-[#d4a574] data-[state=active]:text-black text-gray-300 text-xs md:text-sm transform -rotate-1 hover:scale-105 transition-all",style:{fontFamily:"Comic Sans MS, cursive"},children:"Sci-Fi \uD83D\uDE80"})]})})}),I&&(0,s.jsxs)(i.E.div,{className:"bg-red-100 border border-red-300 text-red-700 px-4 py-3 rounded mb-6",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},children:[(0,s.jsxs)("p",{className:"font-medium",children:["⚠️ ",I]}),(0,s.jsx)("p",{className:"text-sm mt-1",children:"Showing backup images instead."})]}),(0,s.jsx)(i.E.div,{className:"columns-2 md:columns-3 lg:columns-4 xl:columns-5 gap-4 md:gap-6",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:X.map((e,t)=>{let a=e.rotation||4*Math.random()-2;return(0,s.jsxs)(i.E.div,{className:"break-inside-avoid mb-4 relative cursor-pointer",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.05*t},onClick:()=>ee(e),style:{transform:"rotate(".concat(a,"deg)"),zIndex:t%3==0?2:1},whileHover:{scale:1.03,zIndex:10,rotate:0,transition:{duration:.2}},children:[(0,s.jsx)(n.Zb,{className:"group overflow-hidden bg-white/60 backdrop-blur-sm border-white/30 shadow-lg hover:shadow-xl transition-all duration-300",style:{aspectRatio:"vertical"===e.size?"3/4":"horizontal"===e.size?"4/3":"small"===e.size?"1/1":"medium"===e.size?"4/5":"large"===e.size?"3/4":"4/5",width:"100%"},children:(0,s.jsx)(n.aY,{className:"p-0 h-full",children:(0,s.jsx)("div",{className:"w-full h-full relative bg-white rounded-md p-1",children:(0,s.jsxs)("div",{className:"w-full h-full bg-white rounded-sm overflow-hidden relative",children:[(0,s.jsx)(N.Z,{src:e.url||"/placeholder.svg",alt:e.title,className:"w-full h-full",objectFit:"contain",loadingMessage:"Loading artwork..."}),(0,s.jsxs)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex flex-col justify-end p-3 z-10",children:[(0,s.jsx)("h3",{className:"text-white font-bold text-sm mb-1",children:e.title}),(0,s.jsxs)("p",{className:"text-gray-300 text-xs",children:["by ",e.author]})]}),(0,s.jsxs)("div",{className:"absolute top-2 left-2 flex gap-1",children:[e.isFeatured&&(0,s.jsx)(c.C,{variant:"secondary",className:"text-xs bg-yellow-500/80 text-white",children:(0,s.jsx)(h.Z,{className:"h-3 w-3"})}),e.isPremium&&(0,s.jsx)(c.C,{variant:"secondary",className:"text-xs bg-purple-500/80 text-white",children:(0,s.jsx)(g.Z,{className:"h-3 w-3"})})]}),(0,s.jsxs)("div",{className:"absolute bottom-2 right-2 flex items-center gap-2 text-white text-xs",children:[(0,s.jsxs)("div",{className:"flex items-center gap-1 bg-black/50 rounded px-2 py-1",children:[(0,s.jsx)(f.Z,{className:"h-3 w-3"}),e.likes>1e3?"".concat((e.likes/1e3).toFixed(1),"k"):e.likes]}),(0,s.jsxs)("div",{className:"flex items-center gap-1 bg-black/50 rounded px-2 py-1",children:[(0,s.jsx)(x.Z,{className:"h-3 w-3"}),e.views>1e3?"".concat((e.views/1e3).toFixed(1),"k"):e.views]})]}),e.isLiked&&(0,s.jsx)("div",{className:"absolute bottom-2 left-2 z-20",children:(0,s.jsx)(f.Z,{className:"w-4 h-4 text-red-500 fill-red-500"})})]})})})}),(0,s.jsx)("div",{className:"mt-2 flex justify-center",children:(0,s.jsx)("span",{className:"text-xs text-gray-500",style:{fontFamily:"Comic Sans MS, cursive"},children:e.createdAt})})]},e.id)})})]}),(0,s.jsx)(d.Vq,{open:!!T,onOpenChange:e=>{e||Z(null)},children:(0,s.jsxs)(d.cZ,{className:"max-w-4xl w-[95vw] h-[90vh] bg-black p-0 rounded-2xl border-4 border-[#333] shadow-2xl",children:[(0,s.jsx)(d.$N,{style:{position:"absolute",width:"1px",height:"1px",padding:0,margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",border:0},children:(null==T?void 0:T.title)||"Image Details"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-0 h-full",children:[(0,s.jsx)("div",{className:"relative bg-black rounded-l-xl overflow-hidden",children:T&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(N.Z,{src:T.url||"/placeholder.svg",alt:T.title,className:"w-full h-full",objectFit:"contain",loadingMessage:"Loading masterpiece..."}),(0,s.jsxs)("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black to-transparent p-4",children:[(0,s.jsx)("h2",{className:"text-lg md:text-xl font-black text-white mb-1 transform -rotate-1",style:{fontFamily:"Comic Sans MS, cursive",textShadow:"2px 2px 0px #333"},children:T.title}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("img",{src:(0,w.H)(T.authorAvatar),alt:T.author,className:"w-6 h-6 rounded-full border-2 border-[#444]",onError:e=>{e.currentTarget.src=(0,w.lS)(T.author)}}),(0,s.jsxs)("p",{className:"text-[#d4a574] font-bold text-sm",style:{fontFamily:"Comic Sans MS, cursive"},children:["by ",T.author]}),T.isPremium&&(0,s.jsx)(g.Z,{className:"w-4 h-4 text-[#d4a574]"})]})]})]})}),(0,s.jsx)("div",{className:"p-6 overflow-y-auto bg-[#0a0a0a]",children:T&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(d.fK,{className:"border-b border-[#333] pb-4 mb-4",children:(0,s.jsx)(d.$N,{className:"text-xl font-black text-white",style:{fontFamily:"Comic Sans MS, cursive"},children:T.title})}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-3 mb-6",children:[(0,s.jsxs)(l.z,{size:"sm",onClick:()=>T&&et(T.id),className:"flex items-center space-x-1 transform rotate-1 ".concat(T.isLiked?"bg-red-500/20 text-red-400 hover:bg-red-500/30":"bg-[#1a1a1a] text-white hover:bg-[#2a2a2a]"," font-bold rounded-lg border-2 border-[#444]"),style:{fontFamily:"Comic Sans MS, cursive",boxShadow:"2px 2px 0 #333"},children:[(0,s.jsx)(f.Z,{className:"w-4 h-4",fill:T.isLiked?"currentColor":"none"}),(0,s.jsx)("span",{children:T.likes})]}),(0,s.jsxs)("span",{className:"flex items-center text-gray-300 font-bold transform -rotate-1 bg-[#1a1a1a] px-2 py-1 rounded-lg border-2 border-[#444]",style:{fontFamily:"Comic Sans MS, cursive",boxShadow:"1px 1px 0 #333"},children:[(0,s.jsx)(p.Z,{className:"w-4 h-4 mr-1"}),T.comments]}),(0,s.jsxs)("span",{className:"flex items-center text-gray-300 font-bold transform rotate-0.5 bg-[#1a1a1a] px-2 py-1 rounded-lg border-2 border-[#444]",style:{fontFamily:"Comic Sans MS, cursive",boxShadow:"1px 1px 0 #333"},children:[(0,s.jsx)(x.Z,{className:"w-4 h-4 mr-1"}),T.views]}),(0,s.jsx)("span",{className:"ml-auto text-gray-400 font-bold text-sm transform -rotate-1",style:{fontFamily:"Comic Sans MS, cursive"},children:T.createdAt})]}),(0,s.jsxs)("div",{className:"mb-6 transform rotate-0.5",children:[(0,s.jsx)("h3",{className:"text-white font-black mb-3 transform -rotate-1",style:{fontFamily:"Comic Sans MS, cursive",textShadow:"1px 1px 0px #333"},children:"Magic Prompt ✨"}),(0,s.jsx)("div",{className:"p-4 bg-[#1a1a1a] border-2 border-[#444] shadow-md",style:{borderRadius:"16px",clipPath:"polygon(0% 0%, 100% 2%, 99% 98%, 1% 100%)"},children:(0,s.jsxs)("p",{className:"text-gray-200 font-bold text-sm leading-relaxed",style:{fontFamily:"Comic Sans MS, cursive"},children:['"',T.prompt,'"']})})]}),(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("h3",{className:"text-white font-black mb-3 transform rotate-0.5",style:{fontFamily:"Comic Sans MS, cursive",textShadow:"1px 1px 0px #333"},children:"Magic Tags \uD83C\uDFF7️"}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,s.jsx)(c.C,{className:"bg-[#d4a574] text-black font-black transform rotate-1",style:{fontFamily:"Comic Sans MS, cursive",boxShadow:"1px 1px 0 #333"},children:T.style}),T.tags.map((e,t)=>(0,s.jsxs)(c.C,{variant:"outline",className:"bg-[#1a1a1a] border-2 border-[#444] text-gray-300 font-bold hover:bg-[#2a2a2a]",style:{fontFamily:"Comic Sans MS, cursive",transform:"rotate(".concat(t%3-1,"deg)")},children:["#",e]},t))]})]}),(0,s.jsxs)("div",{className:"flex gap-3 mb-6",children:[(0,s.jsxs)(l.z,{className:"bg-[#4a5a4a] hover:bg-[#5a6a5a] text-white font-black rounded-xl flex-1 border-2 border-[#666] transform -rotate-0.5 hover:scale-105 transition-all",style:{fontFamily:"Comic Sans MS, cursive",boxShadow:"2px 2px 0 #333"},children:[(0,s.jsx)(v.Z,{className:"w-4 h-4 mr-2"}),"Share"]}),(0,s.jsxs)(l.z,{className:"bg-[#d4a574] hover:bg-[#c19660] text-black font-black rounded-xl flex-1 transform rotate-0.5 hover:scale-105 transition-all",style:{fontFamily:"Comic Sans MS, cursive",boxShadow:"2px 2px 0 #333"},children:[(0,s.jsx)(y.Z,{className:"w-4 h-4 mr-2"}),"Download"]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-white font-black mb-4 transform -rotate-0.5",style:{fontFamily:"Comic Sans MS, cursive",textShadow:"1px 1px 0px #333"},children:"Magic Comments \uD83D\uDCAC"}),(0,s.jsx)("div",{className:"space-y-4 max-h-60 overflow-y-auto",children:G.map((e,t)=>(0,s.jsx)("div",{className:"bg-[#1a1a1a] rounded-xl p-4 border-2 border-[#444] shadow-md",style:{transform:"rotate(".concat(t%3-1,"deg)"),boxShadow:"".concat(t%3-1,"px ").concat(t%2+1,"px 0 #333")},children:(0,s.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,s.jsx)("img",{src:(0,w.H)(e.authorAvatar),alt:e.author,className:"w-8 h-8 rounded-full border-2 border-[#444]",onError:t=>{t.currentTarget.src=(0,w.lS)(e.author)}}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("div",{className:"flex justify-between items-start",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-white font-black text-sm",style:{fontFamily:"Comic Sans MS, cursive"},children:e.author}),(0,s.jsx)("span",{className:"text-gray-400 font-bold text-xs ml-2",style:{fontFamily:"Comic Sans MS, cursive"},children:e.createdAt})]})}),(0,s.jsx)("p",{className:"text-gray-200 font-bold text-sm mt-1",style:{fontFamily:"Comic Sans MS, cursive"},children:e.content}),(0,s.jsx)("div",{className:"flex items-center mt-2",children:(0,s.jsxs)("span",{className:"text-gray-400 font-bold text-xs",style:{fontFamily:"Comic Sans MS, cursive"},children:[e.likes," likes"]})})]})]})},e.id))}),0===G.length&&(0,s.jsx)("p",{className:"text-center text-gray-500 py-8",style:{fontFamily:"Comic Sans MS, cursive"},children:"No comments yet. Be the first to share your thoughts!"})]})]})})]})]})})]})}},32126:function(e,t,a){"use strict";a.d(t,{default:function(){return u},d:function(){return c},V:function(){return d}});var s=a(57437),r=a(2265),i=a(25922);function l(e){let{children:t,...a}=e;return(0,s.jsx)(i.f,{...a,children:t})}let o=(0,r.createContext)({data:null,status:"unauthenticated",update:async()=>null});function n(e){let{children:t}=e;return(0,s.jsx)(o.Provider,{value:{data:null,status:"unauthenticated",update:async()=>null},children:t})}function d(){let[e]=r.useState({data:null,status:"unauthenticated",update:async()=>null});try{let e=(0,r.useContext)(o);if(e)return e}catch(e){console.debug("MockSessionContext not available:",e)}return e}async function c(e){window.location.href=(null==e?void 0:e.callbackUrl)||"/"}function u(e){let{children:t}=e;return(0,s.jsx)(n,{children:(0,s.jsx)(l,{attribute:"class",defaultTheme:"dark",enableSystem:!1,disableTransitionOnChange:!0,storageKey:void 0,children:t})})}},35974:function(e,t,a){"use strict";a.d(t,{C:function(){return o}});var s=a(57437);a(2265);var r=a(90535),i=a(94508);let l=(0,r.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function o(e){let{className:t,variant:a,...r}=e;return(0,s.jsx)("div",{className:(0,i.cn)(l({variant:a}),t),...r})}},62869:function(e,t,a){"use strict";a.d(t,{z:function(){return d}});var s=a(57437),r=a(2265),i=a(37053),l=a(90535),o=a(94508);let n=(0,l.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=r.forwardRef((e,t)=>{let{className:a,variant:r,size:l,asChild:d=!1,...c}=e,u=d?i.g7:"button";return(0,s.jsx)(u,{className:(0,o.cn)(n({variant:r,size:l,className:a})),ref:t,...c})});d.displayName="Button"},66070:function(e,t,a){"use strict";a.d(t,{Ol:function(){return o},SZ:function(){return d},Zb:function(){return l},aY:function(){return c},ll:function(){return n}});var s=a(57437),r=a(2265),i=a(94508);let l=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...r})});l.displayName="Card";let o=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",a),...r})});o.displayName="CardHeader";let n=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",a),...r})});n.displayName="CardTitle";let d=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",a),...r})});d.displayName="CardDescription";let c=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,i.cn)("p-6 pt-0",a),...r})});c.displayName="CardContent",r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,i.cn)("flex items-center p-6 pt-0",a),...r})}).displayName="CardFooter"},26110:function(e,t,a){"use strict";a.d(t,{$N:function(){return g},Vq:function(){return n},cZ:function(){return m},fK:function(){return h},hg:function(){return d}});var s=a(57437),r=a(2265),i=a(49027),l=a(32489),o=a(94508);let n=i.fC,d=i.xz,c=i.h_;i.x8;let u=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(i.aV,{ref:t,className:(0,o.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...r})});u.displayName=i.aV.displayName;let m=r.forwardRef((e,t)=>{let{className:a,children:r,...n}=e;return(0,s.jsxs)(c,{children:[(0,s.jsx)(u,{}),(0,s.jsxs)(i.VY,{ref:t,className:(0,o.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...n,children:[r,(0,s.jsxs)(i.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground bg-gray-800 hover:bg-gray-700 text-white border border-gray-600 hover:border-gray-500 p-1",children:[(0,s.jsx)(l.Z,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});m.displayName=i.VY.displayName;let h=e=>{let{className:t,...a}=e;return(0,s.jsx)("div",{className:(0,o.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...a})};h.displayName="DialogHeader";let g=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(i.Dx,{ref:t,className:(0,o.cn)("text-lg font-semibold leading-none tracking-tight",a),...r})});g.displayName=i.Dx.displayName,r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(i.dk,{ref:t,className:(0,o.cn)("text-sm text-muted-foreground",a),...r})}).displayName=i.dk.displayName},95186:function(e,t,a){"use strict";a.d(t,{I:function(){return l}});var s=a(57437),r=a(2265),i=a(94508);let l=r.forwardRef((e,t)=>{let{className:a,type:r,...l}=e;return(0,s.jsx)("input",{type:r,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:t,...l})});l.displayName="Input"},36176:function(e,t,a){"use strict";a.d(t,{Z:function(){return o}});var s=a(57437),r=a(2265),i=a(33145),l=a(84163);function o(e){let{src:t,alt:a,className:o="",objectFit:n="cover",loadingMessage:d="Loading image...",onError:c,priority:u=!1,width:m,height:h,sizes:g,style:f}=e,[x,p]=(0,r.useState)(!0),[v,y]=(0,r.useState)(!1),[b,w]=(0,r.useState)(!1);(0,r.useEffect)(()=>{p(!0),y(!1),w(!1)},[t]);let N="\n    ".concat(o,"\n    ").concat(x?"opacity-0":"opacity-100","\n    transition-opacity duration-300\n  ").trim();return(0,s.jsxs)("div",{className:"relative w-full h-full",children:[x&&!v&&(0,s.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-gradient-to-br from-[#f5f1e8] to-[#d4a574]/20",children:(0,s.jsx)(l.Z,{size:"small",message:d,showMessage:!1})}),v&&(0,s.jsxs)("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-gradient-to-br from-[#f5f1e8] to-[#d4a574]/20 text-[#8b7355]",children:[(0,s.jsx)("div",{className:"text-2xl mb-2",children:"\uD83D\uDDBC️"}),(0,s.jsx)("div",{className:"text-sm font-bold text-center",style:{fontFamily:"Comic Sans MS, cursive"},children:"Image unavailable"})]}),!v&&(0,s.jsx)(i.default,{src:t,alt:a,width:m,height:h,sizes:g,priority:u,className:N,style:{objectFit:n,...f},onLoad:()=>{p(!1),w(!0)},onError:()=>{p(!1),y(!0),c&&c()},...m||h?{}:{fill:!0}})]})}},84163:function(e,t,a){"use strict";a.d(t,{Z:function(){return l}});var s=a(57437),r=a(2265),i=a(82023);function l(e){let{size:t="medium",message:a="Creating magic...",showMessage:l=!0,className:o=""}=e,[n,d]=(0,r.useState)("");(0,r.useEffect)(()=>{let e=setInterval(()=>{d(e=>e.length>=3?"":e+".")},500);return()=>clearInterval(e)},[]);let c={small:{container:"w-8 h-8",sparkles:"w-4 h-4",text:"text-xs mt-1"},medium:{container:"w-12 h-12",sparkles:"w-6 h-6",text:"text-sm mt-2"},large:{container:"w-16 h-16",sparkles:"w-8 h-8",text:"text-base mt-3"}}[t];return(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center ".concat(o),children:[(0,s.jsxs)("div",{className:"relative ".concat(c.container),children:[(0,s.jsx)("div",{className:"absolute inset-0 rounded-full border-2 border-[#d4a574]/30 animate-spin"}),(0,s.jsx)("div",{className:"absolute inset-1 rounded-full border-2 border-[#8b7355]/50 animate-[spin_1.5s_linear_infinite_reverse]"}),(0,s.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,s.jsx)(i.Z,{className:"".concat(c.sparkles," text-[#8b7355] animate-pulse")})}),(0,s.jsx)("div",{className:"absolute -top-1 -right-1 w-2 h-2 bg-[#d4a574] rounded-full animate-ping"}),(0,s.jsx)("div",{className:"absolute -bottom-1 -left-1 w-1.5 h-1.5 bg-[#8b7355] rounded-full animate-ping delay-300"}),(0,s.jsx)("div",{className:"absolute top-1/2 -left-2 w-1 h-1 bg-[#f5f1e8] rounded-full animate-ping delay-700"})]}),l&&(0,s.jsxs)("div",{className:"".concat(c.text," text-[#8b7355] font-bold text-center"),style:{fontFamily:"Comic Sans MS, cursive"},children:[a,n]})]})}},12339:function(e,t,a){"use strict";a.d(t,{SP:function(){return d},dr:function(){return n},mQ:function(){return o},nU:function(){return c}});var s=a(57437),r=a(2265),i=a(20271),l=a(94508);let o=i.fC,n=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(i.aV,{ref:t,className:(0,l.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",a),...r})});n.displayName=i.aV.displayName;let d=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(i.xz,{ref:t,className:(0,l.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",a),...r})});d.displayName=i.xz.displayName;let c=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(i.VY,{ref:t,className:(0,l.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",a),...r})});c.displayName=i.VY.displayName},59955:function(e,t,a){"use strict";var s=a(2265);t.ZP=function(e){return(0,s.useMemo)(()=>{let t=e.startsWith("/")?e:"/".concat(e);return window.location.hostname.includes(".pages.dev")||window.location.hostname,t},[e])}},94508:function(e,t,a){"use strict";a.d(t,{cn:function(){return i}});var s=a(61994),r=a(53335);function i(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,r.m6)((0,s.W)(t))}},68816:function(e,t,a){"use strict";function s(e){if(!e)return"/images/aimagica-logo.png";if(e.includes("googleusercontent.com")){let t=encodeURIComponent(e);return"/api/proxy/avatar?url=".concat(t)}return e}function r(e){var t;let a=(null==e?void 0:null===(t=e.charAt(0))||void 0===t?void 0:t.toUpperCase())||"U";return"/placeholder.svg?height=40&width=40&text=".concat(a)}a.d(t,{H:function(){return s},lS:function(){return r}})}},function(e){e.O(0,[5569,9436,271,9075,7073,6927,2971,2117,1744],function(){return e(e.s=34608)}),_N_E=e.O()}]);